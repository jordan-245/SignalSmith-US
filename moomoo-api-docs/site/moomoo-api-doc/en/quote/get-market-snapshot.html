<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Get Market Snapshot | moomoo API Doc v9.6</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="moomoo API Doc">
    <link rel="preload" href="/moomoo-api-doc/assets/css/0.styles.ea0b1d81.css" as="style"><link rel="preload" href="/moomoo-api-doc/assets/js/app.76d125c0.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/2.e1858e4a.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/52.d7c28131.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/28.3fe3716c.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/35.424be492.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/24.9af08641.js" as="script"><link rel="prefetch" href="/moomoo-api-doc/assets/js/10.94bcbf16.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/100.5aad709f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/101.6315f7fb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/102.6cece76d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/103.40195fc5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/104.e0830381.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/105.936eb4d9.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/106.ed3aee2b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/107.7748df13.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/108.39b67a60.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/109.4b1236e2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/11.2fbf442f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/110.bc264581.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/111.a9652fa1.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/112.038c2fcd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/113.587f4a42.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/114.9203188f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/115.0d36e730.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/116.0f4b866f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/117.76221359.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/118.caa7bc9a.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/119.ba336510.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/12.c4851259.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/120.3683de14.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/121.ea95d7cb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/122.618c3ed6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/123.055b7010.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/124.c045cd63.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/125.d42b0714.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/126.b2f6e933.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/127.e9d110f8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/128.a11f8202.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/129.6626eb94.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/13.4f3b3d7e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/130.6539fcba.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/131.75bdf579.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/132.9d24d7e7.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/133.d9e1803b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/134.a475efd5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/135.cc33709b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/136.21873923.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/137.69826660.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/138.31047450.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/139.ce995941.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/14.13b59c71.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/140.e70bdec0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/141.d9d53a87.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/142.a04d0bea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/143.a672978f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/144.818a84ae.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/145.e46cc3df.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/146.a29ec4b9.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/147.5cfe641e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/148.358ecaa0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/149.3935be2f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/15.3d02da17.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/150.40c46b61.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/151.3456807d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/152.308a6ffd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/153.d95721a5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/154.c6b90cda.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/155.68c534de.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/156.fa6d7af3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/157.a33831dd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/158.56280019.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/159.9b880f55.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/16.33d80555.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/160.f4aa9622.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/161.727a3a78.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/162.941951ea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/163.8b7da111.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/164.dfd53e0d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/165.0c0855cd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/166.21bd9238.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/167.e4ae9cf3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/168.3f4281c0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/169.f37d7335.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/17.6ac2d3ef.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/170.4376c120.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/171.948e10e3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/18.7deab3c8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/19.6e70cac3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/20.c1df6286.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/21.5647999f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/22.a50b564c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/23.7870807e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/25.f509878d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/26.b1244706.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/27.082f3f2b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/29.f69366ed.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/3.f9c39755.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/30.aee38619.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/31.7ab0c7db.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/32.d4a3260b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/33.74565b1d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/34.29135595.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/36.3857d105.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/37.7d889315.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/38.637a73c2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/39.aa973d8f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/4.04d2c45d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/40.480f6bad.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/41.62d11f5f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/42.6861ed24.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/43.b8eb0308.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/44.e0fc8394.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/45.12015c46.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/46.acc698c7.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/47.997f18b2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/48.c0a3ed4b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/49.605a98fa.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/5.8c452a45.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/50.ab8e902f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/51.93a43c80.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/53.bc4fcbfa.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/54.f2134ef8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/55.0fb8c79f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/56.d6f1d66e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/57.e3b3ea62.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/58.a3b791f0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/59.15613da4.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/6.9a2ded1c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/60.60f97ce5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/61.adf5183d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/62.10e9e40e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/63.f3768483.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/64.5e7093fb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/65.437af457.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/66.fc1b6993.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/67.14953f01.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/68.5b8d5ad6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/69.7f2d1c8b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/7.f1cb5afb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/70.2cfa12e6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/71.0acce1e8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/72.74bec554.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/73.00d57d06.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/74.bbe2f552.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/75.654e7361.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/76.e7abbb6c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/77.9c2ecdf1.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/78.3eaa2d23.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/79.cc7f1ac2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/8.e457aac2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/80.148805ce.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/81.40dc2530.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/82.bbe1f83f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/83.d1ecfd2c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/84.5013f0ea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/85.ed102602.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/86.f2975c25.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/87.7d6540bd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/88.6f722f70.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/89.8fed8c82.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/9.c9d4402a.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/90.a15edebc.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/91.1f997c5d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/92.dd51fa69.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/93.042545f6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/94.71d9cc14.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/95.fb45f9d3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/96.0f81a014.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/97.09768abd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/98.cc14b450.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/99.6d2cbe79.js">
    <link rel="stylesheet" href="/moomoo-api-doc/assets/css/0.styles.ea0b1d81.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/moomoo-api-doc/en/" class="home-link router-link-active"><img src="/moomoo-api-doc/img/logo.png" alt="moomoo API Doc v9.6" class="logo"> <span class="site-name can-hide">moomoo API Doc v9.6</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="ftcode-links can-hide"><div class="ftcode-item"><div class="ftcode-dropdown-wrapper"><button type="button" aria-label="Programming Language" class="ftcode-dropdown-title"><span class="title">Programming Language</span> <span class="arrow right"></span></button> <ul class="ftcode-dropdown" style="display:none;"><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link active"><span class="arrow active"></span> <span class="title active">Python</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C#</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">Java</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C++</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">JavaScript</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">proto</span></span></li></ul></div></div></nav> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="简体中文" class="dropdown-title"><span class="title">简体中文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/quote/get-market-snapshot.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/en/quote/get-market-snapshot.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="ftcode-links"><div class="ftcode-item"><div class="ftcode-dropdown-wrapper"><button type="button" aria-label="Programming Language" class="ftcode-dropdown-title"><span class="title">Programming Language</span> <span class="arrow right"></span></button> <ul class="ftcode-dropdown" style="display:none;"><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link active"><span class="arrow active"></span> <span class="title active">Python</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C#</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">Java</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C++</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">JavaScript</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">proto</span></span></li></ul></div></div></nav> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="简体中文" class="dropdown-title"><span class="title">简体中文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/quote/get-market-snapshot.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/en/quote/get-market-snapshot.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Quick Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OpenD</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading openData"><span>Quote API</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moomoo-api-doc/en/quote/overview.html" class="sidebar-link">Overview</a></li><li><a href="/moomoo-api-doc/en/quote/base.html" class="sidebar-link">Quote Object</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading openData"><span>Real-Time Data</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Subscription</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Push and Callback</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading openData"><span>Get</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moomoo-api-doc/en/quote/get-market-snapshot.html" aria-current="page" class="active sidebar-link">Get Market Snapshot</a></li><li><a href="/moomoo-api-doc/en/quote/get-stock-quote.html" class="sidebar-link">Get Real-time Quote</a></li><li><a href="/moomoo-api-doc/en/quote/get-order-book.html" class="sidebar-link">Get Real-time Order Book</a></li><li><a href="/moomoo-api-doc/en/quote/get-kl.html" class="sidebar-link">Get Real-time Candlestick</a></li><li><a href="/moomoo-api-doc/en/quote/get-rt.html" class="sidebar-link">Get Real-time Time Frame Data</a></li><li><a href="/moomoo-api-doc/en/quote/get-ticker.html" class="sidebar-link">Get Real-time Tick-by-Tick</a></li><li><a href="/moomoo-api-doc/en/quote/get-broker.html" class="sidebar-link">Get Real-time Broker Queue</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Basic Data</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Related Derivatives</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Market Filter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Customization</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/moomoo-api-doc/en/quote/quote.html" class="sidebar-link">Quotation Definitions</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Trade API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Basic API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Q&amp;A</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="8048"><a href="#8048" class="header-anchor">#</a> Get Market Snapshot</h1> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>get_market_snapshot(code_list)</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">code_list</td> <td style="text-align:left;">list</td> <td style="text-align:left;">Stock list <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Up to 400 targets can be requested each time. <BR></BR>Data type of elements in the list is str.</div></div></div></div></td></tr></tbody></table></li></ul> <ul><li><p><strong>Return</strong></p> <table><tr><th>Field</th> <th>Type</th> <th>Description</th></tr> <tr><td>ret</td> <td><a href="../ftapi/common.html#8800"> RET_CODE</a></td> <td>Interface result.</td></tr> <tr><td rowspan="2">data</td> <td>pd.DataFrame</td> <td>If ret == RET_OK, stock snapshot data is returned.</td></tr> <tr><td>str</td> <td>If ret != RET_OK, error description is returned.</td></tr></table> <ul><li>Stock snapshot data format as follows:
<table><thead><tr><th style="text-align:left;">Field</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">code</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Stock code.</td></tr> <tr><td style="text-align:left;">name</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Stock name.</td></tr> <tr><td style="text-align:left;">update_time</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Current update time. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">yyyy-MM-dd HH:mm:ss. <br>The default of HK stock market and A-share market is Beijing time, while that of US stock market is US Eastern time.</div></div></div></div></td></tr> <tr><td style="text-align:left;">last_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Latest price.</td></tr> <tr><td style="text-align:left;">open_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Open.</td></tr> <tr><td style="text-align:left;">high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">High.</td></tr> <tr><td style="text-align:left;">low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Low.</td></tr> <tr><td style="text-align:left;">prev_close_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Yesterday's close.</td></tr> <tr><td style="text-align:left;">volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Volume.</td></tr> <tr><td style="text-align:left;">turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Turnover.</td></tr> <tr><td style="text-align:left;">turnover_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Turnover rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">suspension</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is suspended or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">True: suspension.</div></div></div></div></td></tr> <tr><td style="text-align:left;">listing_date</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Listing date. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">yyyy-MM-dd</div></div></div></div></td></tr> <tr><td style="text-align:left;">equity_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is stock or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following equity-related fields will be legal only if this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">issued_shares</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Total shares.</td></tr> <tr><td style="text-align:left;">total_market_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Total market value. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: yuan</div></div></div></div></td></tr> <tr><td style="text-align:left;">net_asset</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Net asset value.</td></tr> <tr><td style="text-align:left;">net_profit</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Net profit.</td></tr> <tr><td style="text-align:left;">earning_per_share</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Earnings per share.</td></tr> <tr><td style="text-align:left;">outstanding_shares</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Shares outstanding.</td></tr> <tr><td style="text-align:left;">net_asset_per_share</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Net assets per share.</td></tr> <tr><td style="text-align:left;">circular_market_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Circulation market value. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: yuan</div></div></div></div></td></tr> <tr><td style="text-align:left;">ey_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Yield rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pe_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">P/E ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pb_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">P/B ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pe_ttm_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">P/E ratio TTM. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dividend_ttm</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend TTM, dividend.</td></tr> <tr><td style="text-align:left;">dividend_ratio_ttm</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend rate TTM. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dividend_lfy</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend LFY, dividend of the previous year.</td></tr> <tr><td style="text-align:left;">dividend_lfy_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend rate LFY. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">stock_owner</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The code of the underlying stock to which the warrant belongs or the code of the underlying stock of the option.</td></tr> <tr><td style="text-align:left;">wrt_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is warrant or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following warrant related fields will be legal if this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_conversion_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Conversion ratio.</td></tr> <tr><td style="text-align:left;">wrt_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#2421">WrtType</a></td> <td style="text-align:left;">Warrant type.</td></tr> <tr><td style="text-align:left;">wrt_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Strike price.</td></tr> <tr><td style="text-align:left;">wrt_maturity_date</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Maturity date.</td></tr> <tr><td style="text-align:left;">wrt_end_trade</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Last trading time.</td></tr> <tr><td style="text-align:left;">wrt_leverage</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Leverage ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: times</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_ipop</td> <td style="text-align:left;">float</td> <td style="text-align:left;">in/out of the money. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_break_even_point</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Breakeven point.</td></tr> <tr><td style="text-align:left;">wrt_conversion_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Conversion price.</td></tr> <tr><td style="text-align:left;">wrt_price_recovery_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Price recovery ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_score</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Comprehensive score of warrant.</td></tr> <tr><td style="text-align:left;">wrt_code</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The underlying stock of the warrant (This field has been deprecated and changed to stock_owner.).</td></tr> <tr><td style="text-align:left;">wrt_recovery_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant recovery price.</td></tr> <tr><td style="text-align:left;">wrt_street_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant Outstanding quantity.</td></tr> <tr><td style="text-align:left;">wrt_issue_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant issuance.</td></tr> <tr><td style="text-align:left;">wrt_street_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Outstanding percentage. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_delta</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Delta value of warrant.</td></tr> <tr><td style="text-align:left;">wrt_implied_volatility</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant implied volatility.</td></tr> <tr><td style="text-align:left;">wrt_premium</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant premium. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_upper_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Upper bound price. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only Inline Warrant supports this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_lower_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">lower bound price. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only Inline Warrant supports this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_inline_price_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#9794">PriceType</a></td> <td style="text-align:left;">in/out of bounds <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only Inline Warrant supports this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_issuer_code</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Issuer code.</td></tr> <tr><td style="text-align:left;">option_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is option or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following option related fields will be legal when this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#9598">OptionType</a></td> <td style="text-align:left;">Option type.</td></tr> <tr><td style="text-align:left;">strike_time</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The option exercise date. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Format: yyyy-MM-dd<br>The default of HK stock market and A-share market is Beijing time, while that of US stock market is US Eastern time.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Strike price.</td></tr> <tr><td style="text-align:left;">option_contract_size</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Number of stocks per contract.</td></tr> <tr><td style="text-align:left;">option_open_interest</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Total open contract number.</td></tr> <tr><td style="text-align:left;">option_implied_volatility</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Implied volatility.</td></tr> <tr><td style="text-align:left;">option_premium</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Premium.</td></tr> <tr><td style="text-align:left;">option_delta</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Delta.</td></tr> <tr><td style="text-align:left;">option_gamma</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Gamma.</td></tr> <tr><td style="text-align:left;">option_vega</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Vega.</td></tr> <tr><td style="text-align:left;">option_theta</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Theta.</td></tr> <tr><td style="text-align:left;">option_rho</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Rho.</td></tr> <tr><td style="text-align:left;">index_option_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#2866">IndexOptionType</a></td> <td style="text-align:left;">Index option type.</td></tr> <tr><td style="text-align:left;">option_net_open_interest</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Net open contract number. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only HK options support this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_expiry_date_distance</td> <td style="text-align:left;">int</td> <td style="text-align:left;">The number of days from the expiry date, a negative number means it has expired.</td></tr> <tr><td style="text-align:left;">option_contract_nominal_value</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Contract nominal amount. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only HK options support this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_owner_lot_multiplier</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Equal number of underlying stocks. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Index options do not have this field, only HK options support this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_area_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#3628">OptionAreaType</a></td> <td style="text-align:left;">Option type (by exercise time).</td></tr> <tr><td style="text-align:left;">option_contract_multiplier</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Contract multiplier.</td></tr> <tr><td style="text-align:left;">plate_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is plate or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following plate related fields will be legal when this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">plate_raise_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that raises in the plate.</td></tr> <tr><td style="text-align:left;">plate_fall_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that falls in the plate.</td></tr> <tr><td style="text-align:left;">plate_equal_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that dose not change in price in the plate.</td></tr> <tr><td style="text-align:left;">index_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is index or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following index related fields will be legal when this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">index_raise_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that raises in the plate.</td></tr> <tr><td style="text-align:left;">index_fall_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that falls in the plate.</td></tr> <tr><td style="text-align:left;">index_equal_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that dose not change in the plate.</td></tr> <tr><td style="text-align:left;">lot_size</td> <td style="text-align:left;">int</td> <td style="text-align:left;">The number of shares per lot, stock options represent the number of shares per contract <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Index options do not have this field.</div></div></div></div>, and futures represent contract multipliers.</td></tr> <tr><td style="text-align:left;">price_spread</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The current upward price difference. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">That is, the quotation difference between ask price and sell 1.</div></div></div></div></td></tr> <tr><td style="text-align:left;">ask_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Ask price.</td></tr> <tr><td style="text-align:left;">bid_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Bid price.</td></tr> <tr><td style="text-align:left;">ask_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Ask volume.</td></tr> <tr><td style="text-align:left;">bid_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Bid volume.</td></tr> <tr><td style="text-align:left;">enable_margin</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Whether financing is available (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">mortgage_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Stock mortgage rate (Deprecated).</td></tr> <tr><td style="text-align:left;">long_margin_initial_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The initial margin rate of financing (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">enable_short_sell</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Whether short-selling is available (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">short_sell_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Short-selling reference rate (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">short_available_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Remaining quantity that can be sold short (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">short_margin_initial_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The initial margin rate for short selling (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">sec_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#4415">SecurityStatus</a></td> <td style="text-align:left;">Stock status.</td></tr> <tr><td style="text-align:left;">amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">avg_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Average price.</td></tr> <tr><td style="text-align:left;">bid_ask_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The Committee. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">volume_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Volume ratio.</td></tr> <tr><td style="text-align:left;">highest52weeks_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest price in 52 weeks.</td></tr> <tr><td style="text-align:left;">lowest52weeks_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest price in 52 weeks .</td></tr> <tr><td style="text-align:left;">highest_history_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest historical price.</td></tr> <tr><td style="text-align:left;">lowest_history_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest historical price.</td></tr> <tr><td style="text-align:left;">pre_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market price.</td></tr> <tr><td style="text-align:left;">pre_high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest pre-market price.</td></tr> <tr><td style="text-align:left;">pre_low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest pre-market price.</td></tr> <tr><td style="text-align:left;">pre_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Pre-market volume.</td></tr> <tr><td style="text-align:left;">pre_turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market turnover.</td></tr> <tr><td style="text-align:left;">pre_change_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market change.</td></tr> <tr><td style="text-align:left;">pre_change_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market change rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pre_amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours price.</td></tr> <tr><td style="text-align:left;">after_high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest price after-hours.</td></tr> <tr><td style="text-align:left;">after_low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest price after-hours.</td></tr> <tr><td style="text-align:left;">after_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">After-hours trading volume. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The Sci-tech Innovation Board supports this data.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours turnover. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The Sci-tech Innovation Board supports this data.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_change_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours change.</td></tr> <tr><td style="text-align:left;">after_change_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours change rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">overnight_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight price.</td></tr> <tr><td style="text-align:left;">overnight_high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight high.</td></tr> <tr><td style="text-align:left;">overnight_low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight low.</td></tr> <tr><td style="text-align:left;">overnight_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Overnight volume.</td></tr> <tr><td style="text-align:left;">overnight_turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight turnover.</td></tr> <tr><td style="text-align:left;">overnight_change_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight change.</td></tr> <tr><td style="text-align:left;">overnight_change_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight change rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">overnight_amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">future_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is futures or not.</td></tr> <tr><td style="text-align:left;">future_last_settle_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Yesterday's close.</td></tr> <tr><td style="text-align:left;">future_position</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Holding position.</td></tr> <tr><td style="text-align:left;">future_position_change</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Change in position.</td></tr> <tr><td style="text-align:left;">future_main_contract</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is future main contract or not.</td></tr> <tr><td style="text-align:left;">future_last_trade_time</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The last trading time. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Main, current month and next month futures do not have this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is fund or not.</td></tr> <tr><td style="text-align:left;">trust_dividend_yield</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_aum</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Asset scale. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: yuan</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_outstanding_units</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Total circulation.</td></tr> <tr><td style="text-align:left;">trust_netAssetValue</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Net asset value.</td></tr> <tr><td style="text-align:left;">trust_premium</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Premium. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_assetClass</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#4696">AssetClass</a></td> <td style="text-align:left;">Asset class.</td></tr></tbody></table></li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>

ret<span class="token punctuation">,</span> data <span class="token operator">=</span> quote_ctx<span class="token punctuation">.</span>get_market_snapshot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'HK.00700'</span><span class="token punctuation">,</span> <span class="token string">'US.AAPL'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> ret <span class="token operator">==</span> RET_OK<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># Take the first stock code</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># Convert to list</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'error:'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># After using the connection, remember to close it to prevent the number of connections from running out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>   code  name              update_time  last_price  open_price  high_price  low_price  prev_close_price     volume      turnover  turnover_rate  suspension listing_date  lot_size  price_spread  stock_owner  ask_price  bid_price  ask_vol  bid_vol  enable_margin  mortgage_ratio  long_margin_initial_ratio  enable_short_sell  short_sell_rate  short_available_volume  short_margin_initial_ratio  amplitude  avg_price  bid_ask_ratio  volume_ratio  highest52weeks_price  lowest52weeks_price  highest_history_price  lowest_history_price  close_price_5min  after_volume  after_turnover sec_status  equity_valid  issued_shares  total_market_val     net_asset    net_profit  earning_per_share  outstanding_shares  circular_market_val  net_asset_per_share  ey_ratio  pe_ratio  pb_ratio  pe_ttm_ratio  dividend_ttm  dividend_ratio_ttm  dividend_lfy  dividend_lfy_ratio  wrt_valid  wrt_conversion_ratio wrt_type  wrt_strike_price  wrt_maturity_date  wrt_end_trade  wrt_recovery_price  wrt_street_vol  \
<span class="token number">0</span>  HK<span class="token punctuation">.</span><span class="token number">00700</span>  TENCENT      <span class="token number">2025</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">07</span>      <span class="token number">435.40</span>      <span class="token number">441.80</span>      <span class="token number">462.40</span>     <span class="token number">431.00</span>            <span class="token number">497.80</span>  <span class="token number">123364114</span>  <span class="token number">5.499476e+10</span>          <span class="token number">1.341</span>       <span class="token boolean">False</span>   <span class="token number">2004</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">16</span>       <span class="token number">100</span>          <span class="token number">0.20</span>          NaN      <span class="token number">435.4</span>     <span class="token number">435.20</span>   <span class="token number">281300</span>    <span class="token number">17300</span>            NaN             NaN                        NaN                NaN              NaN                     NaN                         NaN      <span class="token number">6.308</span>    <span class="token number">445.792</span>        <span class="token operator">-</span><span class="token number">68.499</span>         <span class="token number">5.627</span>             <span class="token number">547.00000</span>           <span class="token number">294.400000</span>             <span class="token number">706.100065</span>            <span class="token operator">-</span><span class="token number">13.202011</span>            <span class="token number">431.60</span>             <span class="token number">0</span>    <span class="token number">0.000000e+00</span>     NORMAL          <span class="token boolean">True</span>     <span class="token number">9202391012</span>      <span class="token number">4.006721e+12</span>  <span class="token number">1.051300e+12</span>  <span class="token number">2.095753e+11</span>             <span class="token number">22.774</span>          <span class="token number">9202391012</span>         <span class="token number">4.006721e+12</span>              <span class="token number">114.242</span>     <span class="token number">0.199</span>    <span class="token number">19.118</span>     <span class="token number">3.811</span>        <span class="token number">19.118</span>          <span class="token number">3.48</span>                <span class="token number">0.80</span>          <span class="token number">3.48</span>               <span class="token number">0.799</span>      <span class="token boolean">False</span>                   NaN      N<span class="token operator">/</span>A               NaN                NaN            NaN                 NaN             NaN   
<span class="token number">1</span>   US<span class="token punctuation">.</span>AAPL    APPLE  <span class="token number">2025</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">05</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">43.301</span>      <span class="token number">188.38</span>      <span class="token number">193.89</span>      <span class="token number">199.88</span>     <span class="token number">187.34</span>            <span class="token number">203.19</span>  <span class="token number">125910913</span>  <span class="token number">2.424473e+10</span>          <span class="token number">0.838</span>       <span class="token boolean">False</span>   <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">12</span>         <span class="token number">1</span>          <span class="token number">0.01</span>          NaN      <span class="token number">180.8</span>     <span class="token number">180.48</span>       <span class="token number">29</span>      <span class="token number">400</span>            NaN             NaN                        NaN                NaN              NaN                     NaN                         NaN      <span class="token number">6.172</span>    <span class="token number">192.554</span>         <span class="token number">86.480</span>         <span class="token number">2.226</span>             <span class="token number">259.81389</span>           <span class="token number">163.300566</span>             <span class="token number">259.813890</span>              <span class="token number">0.053580</span>            <span class="token number">188.93</span>       <span class="token number">3151311</span>    <span class="token number">5.930968e+08</span>     NORMAL          <span class="token boolean">True</span>    <span class="token number">15022073000</span>      <span class="token number">2.829858e+12</span>  <span class="token number">6.675809e+10</span>  <span class="token number">9.133420e+10</span>              <span class="token number">6.080</span>         <span class="token number">15016677308</span>         <span class="token number">2.828842e+12</span>                <span class="token number">4.444</span>     <span class="token number">1.417</span>    <span class="token number">30.983</span>    <span class="token number">42.389</span>        <span class="token number">29.901</span>          <span class="token number">0.99</span>                <span class="token number">0.53</span>          <span class="token number">0.98</span>               <span class="token number">0.520</span>      <span class="token boolean">False</span>                   NaN      N<span class="token operator">/</span>A               NaN                NaN            NaN                 NaN             NaN   

   wrt_issue_vol  wrt_street_ratio  wrt_delta  wrt_implied_volatility  wrt_premium  wrt_leverage  wrt_ipop  wrt_break_even_point  wrt_conversion_price  wrt_price_recovery_ratio  wrt_score  wrt_upper_strike_price  wrt_lower_strike_price wrt_inline_price_status  wrt_issuer_code  option_valid option_type  strike_time  option_strike_price  option_contract_size  option_open_interest  option_implied_volatility  option_premium  option_delta  option_gamma  option_vega  option_theta  option_rho  option_net_open_interest  option_expiry_date_distance  option_contract_nominal_value  option_owner_lot_multiplier option_area_type  option_contract_multiplier index_option_type  index_valid  index_raise_count  index_fall_count  index_equal_count  plate_valid  plate_raise_count  plate_fall_count  plate_equal_count  future_valid  future_last_settle_price  future_position  future_position_change  future_main_contract  future_last_trade_time  trust_valid  trust_dividend_yield  trust_aum  \
<span class="token number">0</span>            NaN               NaN        NaN                     NaN          NaN           NaN       NaN                   NaN                   NaN                       NaN        NaN                     NaN                     NaN                     N<span class="token operator">/</span>A              NaN         <span class="token boolean">False</span>         N<span class="token operator">/</span>A          NaN                  NaN                   NaN                   NaN                        NaN             NaN           NaN           NaN          NaN           NaN         NaN                       NaN                          NaN                            NaN                          NaN              N<span class="token operator">/</span>A                         NaN               N<span class="token operator">/</span>A        <span class="token boolean">False</span>                NaN               NaN                NaN        <span class="token boolean">False</span>                NaN               NaN                NaN         <span class="token boolean">False</span>                       NaN              NaN                     NaN                   NaN                     NaN        <span class="token boolean">False</span>                   NaN        NaN   
<span class="token number">1</span>            NaN               NaN        NaN                     NaN          NaN           NaN       NaN                   NaN                   NaN                       NaN        NaN                     NaN                     NaN                     N<span class="token operator">/</span>A              NaN         <span class="token boolean">False</span>         N<span class="token operator">/</span>A          NaN                  NaN                   NaN                   NaN                        NaN             NaN           NaN           NaN          NaN           NaN         NaN                       NaN                          NaN                            NaN                          NaN              N<span class="token operator">/</span>A                         NaN               N<span class="token operator">/</span>A        <span class="token boolean">False</span>                NaN               NaN                NaN        <span class="token boolean">False</span>                NaN               NaN                NaN         <span class="token boolean">False</span>                       NaN              NaN                     NaN                   NaN                     NaN        <span class="token boolean">False</span>                   NaN        NaN   

   trust_outstanding_units  trust_netAssetValue  trust_premium trust_assetClass pre_price pre_high_price pre_low_price pre_volume pre_turnover pre_change_val pre_change_rate pre_amplitude after_price after_high_price after_low_price after_change_val after_change_rate after_amplitude overnight_price overnight_high_price overnight_low_price overnight_volume overnight_turnover overnight_change_val overnight_change_rate overnight_amplitude  
<span class="token number">0</span>                      NaN                  NaN            NaN              N<span class="token operator">/</span>A       N<span class="token operator">/</span>A            N<span class="token operator">/</span>A           N<span class="token operator">/</span>A        N<span class="token operator">/</span>A          N<span class="token operator">/</span>A            N<span class="token operator">/</span>A             N<span class="token operator">/</span>A           N<span class="token operator">/</span>A         N<span class="token operator">/</span>A              N<span class="token operator">/</span>A             N<span class="token operator">/</span>A              N<span class="token operator">/</span>A               N<span class="token operator">/</span>A             N<span class="token operator">/</span>A             N<span class="token operator">/</span>A                  N<span class="token operator">/</span>A                 N<span class="token operator">/</span>A              N<span class="token operator">/</span>A                N<span class="token operator">/</span>A                  N<span class="token operator">/</span>A                   N<span class="token operator">/</span>A                 N<span class="token operator">/</span>A  
<span class="token number">1</span>                      NaN                  NaN            NaN              N<span class="token operator">/</span>A    <span class="token number">180.68</span>         <span class="token number">181.98</span>        <span class="token number">177.47</span>     <span class="token number">276016</span>  <span class="token number">49809244.83</span>           <span class="token operator">-</span><span class="token number">7.7</span>          <span class="token operator">-</span><span class="token number">4.087</span>         <span class="token number">2.394</span>       <span class="token number">186.6</span>          <span class="token number">188.639</span>          <span class="token number">186.44</span>            <span class="token operator">-</span><span class="token number">1.78</span>            <span class="token operator">-</span><span class="token number">0.944</span>          <span class="token number">1.1673</span>          <span class="token number">176.94</span>                <span class="token number">186.5</span>               <span class="token number">174.4</span>           <span class="token number">533115</span>        <span class="token number">94944250.56</span>               <span class="token operator">-</span><span class="token number">11.44</span>                <span class="token operator">-</span><span class="token number">6.072</span>              <span class="token number">6.4231</span>  
HK<span class="token punctuation">.</span><span class="token number">00700</span>
<span class="token punctuation">[</span><span class="token string">'HK.00700'</span><span class="token punctuation">,</span> <span class="token string">'US.AAPL'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div><div class="tab-content" style="display:none;"><h2 id="338"><a href="#338" class="header-anchor">#</a> Qot_GetSecuritySnapshot.proto</h2> <ul><li><p><strong>Description</strong></p> <p>Get snapshot data</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><p><strong>Protocol ID</strong></p> <p>3203</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>uint GetSecuritySnapshot(QotGetSecuritySnapshot.Request req);</code><br> <code>virtual void OnReply_GetSecuritySnapshot(FTAPI_Conn client, uint nSerialNo, QotGetSecuritySnapshot.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FTAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span> sec <span class="token operator">=</span> QotCommon<span class="token punctuation">.</span>Security<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetMarket</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>QotCommon<span class="token punctuation">.</span>QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetCode</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>C2S</span> c2s <span class="token operator">=</span> QotGetSecuritySnapshot<span class="token punctuation">.</span>C2S<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AddSecurityList</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> QotGetSecuritySnapshot<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">uint</span></span> seqNo <span class="token operator">=</span> qot<span class="token punctuation">.</span><span class="token function">GetSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Send QotGetSecuritySnapshot: {0}\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnReply_GetSecuritySnapshot</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">uint</span></span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Reply: QotGetSecuritySnapshot: {0} \n&quot;</span><span class="token punctuation">,</span> nSerialNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;basic price: {0}\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span>S2C<span class="token punctuation">.</span>SnapshotListList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Basic<span class="token punctuation">.</span>CurPrice<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;equityExData issuedShares: {0}\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span>S2C<span class="token punctuation">.</span>SnapshotListList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>EquityExData<span class="token punctuation">.</span>IssuedShares<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        FTAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">Qot</span> onInitConnect<span class="token punctuation">:</span> ret<span class="token operator">=</span><span class="token number">0</span> desc<span class="token operator">=</span> connID<span class="token operator">=</span><span class="token number">6825619056039643630</span>
<span class="token class-name">Send</span> QotGetSecuritySnapshot<span class="token punctuation">:</span> <span class="token number">3</span>
Reply<span class="token punctuation">:</span> QotGetSecuritySnapshot<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token class-name">basic</span> price<span class="token punctuation">:</span> <span class="token number">474.2</span>
<span class="token class-name">equityExData</span> issuedShares<span class="token punctuation">:</span> <span class="token number">9595900007</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>int getSecuritySnapshot(QotGetSecuritySnapshot.Request req);</code><br> <code>void onReply_GetSecuritySnapshot(FTAPI_Conn client, int nSerialNo, QotGetSecuritySnapshot.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FTAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">setQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span> sec <span class="token operator">=</span> <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setMarket</span><span class="token punctuation">(</span><span class="token class-name">QotCommon<span class="token punctuation">.</span>QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot</span><span class="token punctuation">.</span><span class="token constant">C2S</span> c2s <span class="token operator">=</span> <span class="token class-name">QotGetSecuritySnapshot</span><span class="token punctuation">.</span><span class="token constant">C2S</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addSecurityList</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Request</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> seqNo <span class="token operator">=</span> qot<span class="token punctuation">.</span><span class="token function">getSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Send QotGetSecuritySnapshot: %d\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReply_GetSecuritySnapshot</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">int</span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rsp<span class="token punctuation">.</span><span class="token function">getRetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;QotGetSecuritySnapshot failed: %s\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span><span class="token function">getRetMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token class-name">JsonFormat</span><span class="token punctuation">.</span><span class="token function">printer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>rsp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Receive QotGetSecuritySnapshot: %s\n&quot;</span><span class="token punctuation">,</span> json<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InvalidProtocolBufferException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">FTAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Send QotGetSecuritySnapshot: 2
Receive QotGetSecuritySnapshot: {
  &quot;retType&quot;: 0,
  &quot;retMsg&quot;: &quot;&quot;,
  &quot;errCode&quot;: 0,
  &quot;s2c&quot;: {
    &quot;snapshotList&quot;: [{
      &quot;basic&quot;: {
        &quot;security&quot;: {
          &quot;market&quot;: 1,
          &quot;code&quot;: &quot;00700&quot;
        },
        &quot;type&quot;: 3,
        &quot;isSuspend&quot;: false,
        &quot;listTime&quot;: &quot;2004-06-16&quot;,
        &quot;lotSize&quot;: 100,
        &quot;priceSpread&quot;: 0.5,
        &quot;updateTime&quot;: &quot;2021-06-24 16:08:14&quot;,
        &quot;highPrice&quot;: 587.5,
        &quot;openPrice&quot;: 584.0,
        &quot;lowPrice&quot;: 580.0,
        &quot;lastClosePrice&quot;: 582.5,
        &quot;curPrice&quot;: 583.0,
        &quot;volume&quot;: &quot;10947302&quot;,
        &quot;turnover&quot;: 6.387238277E9,
        &quot;turnoverRate&quot;: 0.114,
        &quot;listTimestamp&quot;: 1.0873152E9,
        &quot;updateTimestamp&quot;: 1.624522094E9,
        &quot;askPrice&quot;: 583.5,
        &quot;bidPrice&quot;: 583.0,
        &quot;askVol&quot;: &quot;142300&quot;,
        &quot;bidVol&quot;: &quot;52800&quot;,
        &quot;enableMargin&quot;: true,
        &quot;mortgageRatio&quot;: 0.0,
        &quot;longMarginInitialRatio&quot;: 35.0,
        &quot;enableShortSell&quot;: true,
        &quot;shortSellRate&quot;: 0.9,
        &quot;shortAvailableVolume&quot;: &quot;2006700&quot;,
        &quot;shortMarginInitialRatio&quot;: 60.0,
        &quot;amplitude&quot;: 1.288,
        &quot;avgPrice&quot;: 583.453,
        &quot;bidAskRatio&quot;: -5.273,
        &quot;volumeRatio&quot;: 0.553,
        &quot;highest52WeeksPrice&quot;: 773.9,
        &quot;lowest52WeeksPrice&quot;: 479.4,
        &quot;highestHistoryPrice&quot;: 773.9,
        &quot;lowestHistoryPrice&quot;: -6.381,
        &quot;secStatus&quot;: 1,
        &quot;closePrice5Minute&quot;: 583.5
      },
      &quot;equityExData&quot;: {
        &quot;issuedShares&quot;: &quot;9595206625&quot;,
        &quot;issuedMarketVal&quot;: 5.594005462375E12,
        &quot;netAsset&quot;: 9.17675966408375E11,
        &quot;netProfit&quot;: 1.90378494646625E11,
        &quot;earningsPershare&quot;: 19.841,
        &quot;outstandingShares&quot;: &quot;9595206625&quot;,
        &quot;outstandingMarketVal&quot;: 5.594005462375E12,
        &quot;netAssetPershare&quot;: 95.639,
        &quot;eyRate&quot;: 0.232,
        &quot;peRate&quot;: 29.383,
        &quot;pbRate&quot;: 6.095,
        &quot;peTTMRate&quot;: 26.249,
        &quot;dividendTTM&quot;: 1.6,
        &quot;dividendRatioTTM&quot;: 0.27,
        &quot;dividendLFY&quot;: 1.6,
        &quot;dividendLFYRatio&quot;: 0.274
      }
    }]
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>Futu::u32_t GetSecuritySnapshot(const Qot_GetSecuritySnapshot::Request &amp;stReq);</code><br> <code>virtual void OnReply_GetSecuritySnapshot(Futu::u32_t nSerialNo, const Qot_GetSecuritySnapshot::Response &amp;stRsp) = 0;</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">FTSPI_Trd</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">FTSPI_Conn</span></span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>

	<span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pQotApi <span class="token operator">=</span> <span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>m_pQotApi <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			m_pQotApi<span class="token operator">-&gt;</span><span class="token function">UnregisterQotSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pQotApi<span class="token operator">-&gt;</span><span class="token function">UnregisterConnSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pQotApi <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span>FTAPI_Conn<span class="token operator">*</span> pConn<span class="token punctuation">,</span> Futu<span class="token double-colon punctuation">::</span>i64_t nErrCode<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> strDesc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;connect&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		<span class="token comment">// construct request message</span>
		Qot_GetSecuritySnapshot<span class="token double-colon punctuation">::</span>Request req<span class="token punctuation">;</span>
		Qot_GetSecuritySnapshot<span class="token double-colon punctuation">::</span>C2S <span class="token operator">*</span>c2s <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">mutable_c2s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">auto</span> secList <span class="token operator">=</span> c2s<span class="token operator">-&gt;</span><span class="token function">mutable_securitylist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Qot_Common<span class="token double-colon punctuation">::</span>Security <span class="token operator">*</span>sec <span class="token operator">=</span> secList<span class="token operator">-&gt;</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		sec<span class="token operator">-&gt;</span><span class="token function">set_code</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		sec<span class="token operator">-&gt;</span><span class="token function">set_market</span><span class="token punctuation">(</span>Qot_Common<span class="token double-colon punctuation">::</span>QotMarket<span class="token double-colon punctuation">::</span>QotMarket_HK_Security<span class="token punctuation">)</span><span class="token punctuation">;</span>

        m_GetSecuritySnapshotSerialNo <span class="token operator">=</span> m_pQotApi<span class="token operator">-&gt;</span><span class="token function">GetSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Request GetSecuritySnapshot SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> m_GetSecuritySnapshotSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnReply_GetSecuritySnapshot</span><span class="token punctuation">(</span>Futu<span class="token double-colon punctuation">::</span>u32_t nSerialNo<span class="token punctuation">,</span> <span class="token keyword">const</span> Qot_GetSecuritySnapshot<span class="token double-colon punctuation">::</span>Response <span class="token operator">&amp;</span>stRsp<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nSerialNo <span class="token operator">==</span> m_GetSecuritySnapshotSerialNo<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;OnReply_GetSecuritySnapshot SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> nSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
			<span class="token comment">// print response</span>
			<span class="token comment">// ProtoBufToBodyData and UTF8ToLocal refer to tool.h in Samples</span>
            <span class="token comment">// ProtoBufToBodyData和UTF8ToLocal函数的定义参见Sample中的tool.h文件</span>
            string resp_str<span class="token punctuation">;</span>
            <span class="token function">ProtoBufToBodyData</span><span class="token punctuation">(</span>stRsp<span class="token punctuation">,</span> resp_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token function">UTF8ToLocal</span><span class="token punctuation">(</span>resp_str<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
	FTAPI_Qot <span class="token operator">*</span>m_pQotApi<span class="token punctuation">;</span>

    Futu<span class="token double-colon punctuation">::</span>u32_t m_GetSecuritySnapshotSerialNo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int32_t</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int32_t</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">{</span>
		Program program<span class="token punctuation">;</span>
		program<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	protobuf<span class="token double-colon punctuation">::</span><span class="token function">ShutdownProtobufLibrary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">UnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>connect
Request GetSecuritySnapshot SerialNo: 4
OnReply_GetSecuritySnapshot SerialNo: 4
{
 &quot;retType&quot;: 0,
 &quot;retMsg&quot;: &quot;&quot;,
 &quot;errCode&quot;: 0,
 &quot;s2c&quot;: {
  &quot;snapshotList&quot;: [
   {
    &quot;basic&quot;: {
     &quot;security&quot;: {
      &quot;market&quot;: 1,
      &quot;code&quot;: &quot;00700&quot;
     },
     &quot;type&quot;: 3,
     &quot;isSuspend&quot;: false,
     &quot;listTime&quot;: &quot;2004-06-16&quot;,
     &quot;lotSize&quot;: 100,
     &quot;priceSpread&quot;: 0.5,
     &quot;updateTime&quot;: &quot;2021-06-09 14:12:30&quot;,
     &quot;highPrice&quot;: 606,
     &quot;openPrice&quot;: 600,
     &quot;lowPrice&quot;: 597.5,
     &quot;lastClosePrice&quot;: 601,
     &quot;curPrice&quot;: 600.5,
     &quot;volume&quot;: &quot;4382292&quot;,
     &quot;turnover&quot;: 2638928979,
     &quot;turnoverRate&quot;: 0.046,
     &quot;listTimestamp&quot;: 1087315200,
     &quot;updateTimestamp&quot;: 1623219150,
     &quot;askPrice&quot;: 601,
     &quot;bidPrice&quot;: 600.5,
     &quot;askVol&quot;: &quot;24200&quot;,
     &quot;bidVol&quot;: &quot;1400&quot;,
     &quot;enableMargin&quot;: true,
     &quot;mortgageRatio&quot;: 0,
     &quot;longMarginInitialRatio&quot;: 35,
     &quot;enableShortSell&quot;: true,
     &quot;shortSellRate&quot;: 0.9,
     &quot;shortAvailableVolume&quot;: &quot;1860000&quot;,
     &quot;shortMarginInitialRatio&quot;: 60,
     &quot;amplitude&quot;: 1.414,
     &quot;avgPrice&quot;: 602.18,
     &quot;bidAskRatio&quot;: 38.289,
     &quot;volumeRatio&quot;: 0.418,
     &quot;highest52WeeksPrice&quot;: 773.9,
     &quot;lowest52WeeksPrice&quot;: 430.6,
     &quot;highestHistoryPrice&quot;: 773.9,
     &quot;lowestHistoryPrice&quot;: -6.381,
     &quot;secStatus&quot;: 1,
     &quot;closePrice5Minute&quot;: 601.5
    },
    &quot;equityExData&quot;: {
     &quot;issuedShares&quot;: &quot;9595206625&quot;,
     &quot;issuedMarketVal&quot;: 5761921578312.5,
     &quot;netAsset&quot;: 917675966408.375,
     &quot;netProfit&quot;: 190378494646.625,
     &quot;earningsPershare&quot;: 19.841,
     &quot;outstandingShares&quot;: &quot;9595206625&quot;,
     &quot;outstandingMarketVal&quot;: 5761921578312.5,
     &quot;netAssetPershare&quot;: 95.639,
     &quot;eyRate&quot;: 0.232,
     &quot;peRate&quot;: 30.265,
     &quot;pbRate&quot;: 6.278,
     &quot;peTTMRate&quot;: 27.037,
     &quot;dividendTTM&quot;: 1.6,
     &quot;dividendRatioTTM&quot;: 0.27,
     &quot;dividendLFY&quot;: 1.6,
     &quot;dividendLFYRatio&quot;: 0.266
    }
   }
  ]
 }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>GetSecuritySnapshot(req);</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> ftWebsocket <span class="token keyword">from</span> <span class="token string">&quot;futu-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ftCmdID <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;futu-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Common<span class="token punctuation">,</span> Qot_Common <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;futu-api/proto&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> beautify <span class="token keyword">from</span> <span class="token string">&quot;js-beautify&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">QotGetSecuritySnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> RetType <span class="token punctuation">}</span> <span class="token operator">=</span> Common
    <span class="token keyword">const</span> <span class="token punctuation">{</span> SubType<span class="token punctuation">,</span> QotMarket <span class="token punctuation">}</span> <span class="token operator">=</span> Qot_Common
    <span class="token keyword">let</span> <span class="token punctuation">[</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'7522027ccf5a06b1'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebsocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function-variable function">onlogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">c2s</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">securityList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">market</span><span class="token operator">:</span> QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security<span class="token punctuation">,</span>
                        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;00700&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            websocket<span class="token punctuation">.</span><span class="token function">GetSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> <span class="token punctuation">{</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">,</span>s2c <span class="token punctuation">}</span> <span class="token operator">=</span> res
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Snapshot: errCode %d, retMsg %s, retType %d&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">if</span><span class="token punctuation">(</span>retType <span class="token operator">==</span> RetType<span class="token punctuation">.</span>RetType_Succeed<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">let</span> snapshot <span class="token operator">=</span> <span class="token function">beautify</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>s2c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">indent_size</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">space_in_empty_paren</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>snapshot<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// After using the connection, remember to close it to prevent the number of connections from running out</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
        websocket<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the script to receive OpenD push duration to 5 seconds</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">Snapshot</span><span class="token operator">:</span> errCode <span class="token number">0</span><span class="token punctuation">,</span> retMsg <span class="token punctuation">,</span> retType <span class="token number">0</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;snapshotList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;basic&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;security&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00700&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;isSuspend&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;listTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2004-06-16&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lotSize&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;priceSpread&quot;</span><span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;updateTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-09-09 16:08:17&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;highPrice&quot;</span><span class="token operator">:</span> <span class="token number">511.5</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;openPrice&quot;</span><span class="token operator">:</span> <span class="token number">509</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lowPrice&quot;</span><span class="token operator">:</span> <span class="token number">479</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lastClosePrice&quot;</span><span class="token operator">:</span> <span class="token number">524.5</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;curPrice&quot;</span><span class="token operator">:</span> <span class="token number">480</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token string">&quot;54090872&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;turnover&quot;</span><span class="token operator">:</span> <span class="token number">26716845932</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;turnoverRate&quot;</span><span class="token operator">:</span> <span class="token number">0.563</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;listTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1087315200</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;updateTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1631174897</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;askPrice&quot;</span><span class="token operator">:</span> <span class="token number">480.4</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;bidPrice&quot;</span><span class="token operator">:</span> <span class="token number">480</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;askVol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;700&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;bidVol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;55300&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;enableMargin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;mortgageRatio&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;longMarginInitialRatio&quot;</span><span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;enableShortSell&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;shortSellRate&quot;</span><span class="token operator">:</span> <span class="token number">0.92</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;shortAvailableVolume&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3059000&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;shortMarginInitialRatio&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;amplitude&quot;</span><span class="token operator">:</span> <span class="token number">6.196</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;avgPrice&quot;</span><span class="token operator">:</span> <span class="token number">493.925</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;bidAskRatio&quot;</span><span class="token operator">:</span> <span class="token number">22.703</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;volumeRatio&quot;</span><span class="token operator">:</span> <span class="token number">1.775</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;highest52WeeksPrice&quot;</span><span class="token operator">:</span> <span class="token number">773.9</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lowest52WeeksPrice&quot;</span><span class="token operator">:</span> <span class="token number">412.2</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;highestHistoryPrice&quot;</span><span class="token operator">:</span> <span class="token number">773.9</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lowestHistoryPrice&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">6.381</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;secStatus&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;closePrice5Minute&quot;</span><span class="token operator">:</span> <span class="token number">483.4</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;equityExData&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;issuedShares&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9599810645&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;issuedMarketVal&quot;</span><span class="token operator">:</span> <span class="token number">4607909109600</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;netAsset&quot;</span><span class="token operator">:</span> <span class="token number">1016063158288.09</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;netProfit&quot;</span><span class="token operator">:</span> <span class="token number">190383444711.64</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;earningsPershare&quot;</span><span class="token operator">:</span> <span class="token number">19.832</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;outstandingShares&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9599810645&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;outstandingMarketVal&quot;</span><span class="token operator">:</span> <span class="token number">4607909109600</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;netAssetPershare&quot;</span><span class="token operator">:</span> <span class="token number">105.842</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;eyRate&quot;</span><span class="token operator">:</span> <span class="token number">0.22</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;peRate&quot;</span><span class="token operator">:</span> <span class="token number">24.203</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;pbRate&quot;</span><span class="token operator">:</span> <span class="token number">4.535</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;peTTMRate&quot;</span><span class="token operator">:</span> <span class="token number">20.532</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendTTM&quot;</span><span class="token operator">:</span> <span class="token number">1.599</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendRatioTTM&quot;</span><span class="token operator">:</span> <span class="token number">0.33</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendLFY&quot;</span><span class="token operator">:</span> <span class="token number">1.599</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendLFYRatio&quot;</span><span class="token operator">:</span> <span class="token number">0.333</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
stop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div></div></div> <div class="custom-block tip"><p class="custom-block-title">Interface Limitations</p> <ul><li>Request up to 60 snapshots every 30 seconds</li> <li>For each request, the maximum number of stock codes supported by the parameter <em>code_list</em> is 400.</li> <li>Under the authority of Hong Kong stock BMP, the maximum number of snapshots of Hong Kong securities (including warrants, CBBC, and Inline Warrants) for a single request is 20</li> <li>Under the authority of Hong Kong futures and options BMP, the maximum number of snapshots of Hong Kong futures and options for a single request is 20</li></ul></div></div><div class="tab-content" style="display:;"><div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>get_market_snapshot(code_list)</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">code_list</td> <td style="text-align:left;">list</td> <td style="text-align:left;">Stock list <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Up to 400 targets can be requested each time. <BR></BR>Data type of elements in the list is str.</div></div></div></div></td></tr></tbody></table></li></ul> <ul><li><p><strong>Return</strong></p> <table><tr><th>Field</th> <th>Type</th> <th>Description</th></tr> <tr><td>ret</td> <td><a href="../ftapi/common.html#8800"> RET_CODE</a></td> <td>Interface result.</td></tr> <tr><td rowspan="2">data</td> <td>pd.DataFrame</td> <td>If ret == RET_OK, stock snapshot data is returned.</td></tr> <tr><td>str</td> <td>If ret != RET_OK, error description is returned.</td></tr></table> <ul><li>Stock snapshot data format as follows:
<table><thead><tr><th style="text-align:left;">Field</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">code</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Stock code.</td></tr> <tr><td style="text-align:left;">name</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Stock name.</td></tr> <tr><td style="text-align:left;">update_time</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Current update time. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">yyyy-MM-dd HH:mm:ss. <br>The default of HK stock market and A-share market is Beijing time, while that of US stock market is US Eastern time.</div></div></div></div></td></tr> <tr><td style="text-align:left;">last_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Latest price.</td></tr> <tr><td style="text-align:left;">open_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Open.</td></tr> <tr><td style="text-align:left;">high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">High.</td></tr> <tr><td style="text-align:left;">low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Low.</td></tr> <tr><td style="text-align:left;">prev_close_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Yesterday's close.</td></tr> <tr><td style="text-align:left;">volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Volume.</td></tr> <tr><td style="text-align:left;">turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Turnover.</td></tr> <tr><td style="text-align:left;">turnover_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Turnover rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">suspension</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is suspended or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">True: suspension.</div></div></div></div></td></tr> <tr><td style="text-align:left;">listing_date</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Listing date. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">yyyy-MM-dd</div></div></div></div></td></tr> <tr><td style="text-align:left;">equity_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is stock or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following equity-related fields will be legal only if this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">issued_shares</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Total shares.</td></tr> <tr><td style="text-align:left;">total_market_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Total market value. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: yuan</div></div></div></div></td></tr> <tr><td style="text-align:left;">net_asset</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Net asset value.</td></tr> <tr><td style="text-align:left;">net_profit</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Net profit.</td></tr> <tr><td style="text-align:left;">earning_per_share</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Earnings per share.</td></tr> <tr><td style="text-align:left;">outstanding_shares</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Shares outstanding.</td></tr> <tr><td style="text-align:left;">net_asset_per_share</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Net assets per share.</td></tr> <tr><td style="text-align:left;">circular_market_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Circulation market value. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: yuan</div></div></div></div></td></tr> <tr><td style="text-align:left;">ey_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Yield rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pe_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">P/E ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pb_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">P/B ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pe_ttm_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">P/E ratio TTM. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is a ratio field, and % is not displayed.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dividend_ttm</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend TTM, dividend.</td></tr> <tr><td style="text-align:left;">dividend_ratio_ttm</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend rate TTM. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dividend_lfy</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend LFY, dividend of the previous year.</td></tr> <tr><td style="text-align:left;">dividend_lfy_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend rate LFY. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">stock_owner</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The code of the underlying stock to which the warrant belongs or the code of the underlying stock of the option.</td></tr> <tr><td style="text-align:left;">wrt_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is warrant or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following warrant related fields will be legal if this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_conversion_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Conversion ratio.</td></tr> <tr><td style="text-align:left;">wrt_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#2421">WrtType</a></td> <td style="text-align:left;">Warrant type.</td></tr> <tr><td style="text-align:left;">wrt_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Strike price.</td></tr> <tr><td style="text-align:left;">wrt_maturity_date</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Maturity date.</td></tr> <tr><td style="text-align:left;">wrt_end_trade</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Last trading time.</td></tr> <tr><td style="text-align:left;">wrt_leverage</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Leverage ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: times</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_ipop</td> <td style="text-align:left;">float</td> <td style="text-align:left;">in/out of the money. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_break_even_point</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Breakeven point.</td></tr> <tr><td style="text-align:left;">wrt_conversion_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Conversion price.</td></tr> <tr><td style="text-align:left;">wrt_price_recovery_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Price recovery ratio. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_score</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Comprehensive score of warrant.</td></tr> <tr><td style="text-align:left;">wrt_code</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The underlying stock of the warrant (This field has been deprecated and changed to stock_owner.).</td></tr> <tr><td style="text-align:left;">wrt_recovery_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant recovery price.</td></tr> <tr><td style="text-align:left;">wrt_street_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant Outstanding quantity.</td></tr> <tr><td style="text-align:left;">wrt_issue_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant issuance.</td></tr> <tr><td style="text-align:left;">wrt_street_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Outstanding percentage. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_delta</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Delta value of warrant.</td></tr> <tr><td style="text-align:left;">wrt_implied_volatility</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant implied volatility.</td></tr> <tr><td style="text-align:left;">wrt_premium</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Warrant premium. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_upper_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Upper bound price. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only Inline Warrant supports this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_lower_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">lower bound price. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only Inline Warrant supports this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_inline_price_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#9794">PriceType</a></td> <td style="text-align:left;">in/out of bounds <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only Inline Warrant supports this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">wrt_issuer_code</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Issuer code.</td></tr> <tr><td style="text-align:left;">option_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is option or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following option related fields will be legal when this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#9598">OptionType</a></td> <td style="text-align:left;">Option type.</td></tr> <tr><td style="text-align:left;">strike_time</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The option exercise date. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Format: yyyy-MM-dd<br>The default of HK stock market and A-share market is Beijing time, while that of US stock market is US Eastern time.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_strike_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Strike price.</td></tr> <tr><td style="text-align:left;">option_contract_size</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Number of stocks per contract.</td></tr> <tr><td style="text-align:left;">option_open_interest</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Total open contract number.</td></tr> <tr><td style="text-align:left;">option_implied_volatility</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Implied volatility.</td></tr> <tr><td style="text-align:left;">option_premium</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Premium.</td></tr> <tr><td style="text-align:left;">option_delta</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Delta.</td></tr> <tr><td style="text-align:left;">option_gamma</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Gamma.</td></tr> <tr><td style="text-align:left;">option_vega</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Vega.</td></tr> <tr><td style="text-align:left;">option_theta</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Theta.</td></tr> <tr><td style="text-align:left;">option_rho</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Greek value Rho.</td></tr> <tr><td style="text-align:left;">index_option_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#2866">IndexOptionType</a></td> <td style="text-align:left;">Index option type.</td></tr> <tr><td style="text-align:left;">option_net_open_interest</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Net open contract number. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only HK options support this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_expiry_date_distance</td> <td style="text-align:left;">int</td> <td style="text-align:left;">The number of days from the expiry date, a negative number means it has expired.</td></tr> <tr><td style="text-align:left;">option_contract_nominal_value</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Contract nominal amount. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only HK options support this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_owner_lot_multiplier</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Equal number of underlying stocks. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Index options do not have this field, only HK options support this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">option_area_type</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#3628">OptionAreaType</a></td> <td style="text-align:left;">Option type (by exercise time).</td></tr> <tr><td style="text-align:left;">option_contract_multiplier</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Contract multiplier.</td></tr> <tr><td style="text-align:left;">plate_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is plate or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following plate related fields will be legal when this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">plate_raise_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that raises in the plate.</td></tr> <tr><td style="text-align:left;">plate_fall_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that falls in the plate.</td></tr> <tr><td style="text-align:left;">plate_equal_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that dose not change in price in the plate.</td></tr> <tr><td style="text-align:left;">index_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is index or not. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The following index related fields will be legal when this field is True.</div></div></div></div></td></tr> <tr><td style="text-align:left;">index_raise_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that raises in the plate.</td></tr> <tr><td style="text-align:left;">index_fall_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that falls in the plate.</td></tr> <tr><td style="text-align:left;">index_equal_count</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Number of stocks that dose not change in the plate.</td></tr> <tr><td style="text-align:left;">lot_size</td> <td style="text-align:left;">int</td> <td style="text-align:left;">The number of shares per lot, stock options represent the number of shares per contract <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Index options do not have this field.</div></div></div></div>, and futures represent contract multipliers.</td></tr> <tr><td style="text-align:left;">price_spread</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The current upward price difference. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">That is, the quotation difference between ask price and sell 1.</div></div></div></div></td></tr> <tr><td style="text-align:left;">ask_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Ask price.</td></tr> <tr><td style="text-align:left;">bid_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Bid price.</td></tr> <tr><td style="text-align:left;">ask_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Ask volume.</td></tr> <tr><td style="text-align:left;">bid_vol</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Bid volume.</td></tr> <tr><td style="text-align:left;">enable_margin</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Whether financing is available (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">mortgage_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Stock mortgage rate (Deprecated).</td></tr> <tr><td style="text-align:left;">long_margin_initial_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The initial margin rate of financing (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">enable_short_sell</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Whether short-selling is available (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">short_sell_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Short-selling reference rate (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">short_available_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Remaining quantity that can be sold short (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">short_margin_initial_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The initial margin rate for short selling (Deprecated). <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Please use <a href="/moomoo-api-doc/en/trade/get-margin-ratio.html">Get Margin Data</a>.</div></div></div></div></td></tr> <tr><td style="text-align:left;">sec_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#4415">SecurityStatus</a></td> <td style="text-align:left;">Stock status.</td></tr> <tr><td style="text-align:left;">amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">avg_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Average price.</td></tr> <tr><td style="text-align:left;">bid_ask_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">The Committee. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">volume_ratio</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Volume ratio.</td></tr> <tr><td style="text-align:left;">highest52weeks_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest price in 52 weeks.</td></tr> <tr><td style="text-align:left;">lowest52weeks_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest price in 52 weeks .</td></tr> <tr><td style="text-align:left;">highest_history_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest historical price.</td></tr> <tr><td style="text-align:left;">lowest_history_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest historical price.</td></tr> <tr><td style="text-align:left;">pre_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market price.</td></tr> <tr><td style="text-align:left;">pre_high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest pre-market price.</td></tr> <tr><td style="text-align:left;">pre_low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest pre-market price.</td></tr> <tr><td style="text-align:left;">pre_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Pre-market volume.</td></tr> <tr><td style="text-align:left;">pre_turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market turnover.</td></tr> <tr><td style="text-align:left;">pre_change_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market change.</td></tr> <tr><td style="text-align:left;">pre_change_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market change rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">pre_amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Pre-market amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours price.</td></tr> <tr><td style="text-align:left;">after_high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Highest price after-hours.</td></tr> <tr><td style="text-align:left;">after_low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Lowest price after-hours.</td></tr> <tr><td style="text-align:left;">after_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">After-hours trading volume. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The Sci-tech Innovation Board supports this data.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours turnover. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The Sci-tech Innovation Board supports this data.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_change_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours change.</td></tr> <tr><td style="text-align:left;">after_change_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours change rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">after_amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">After-hours amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">overnight_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight price.</td></tr> <tr><td style="text-align:left;">overnight_high_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight high.</td></tr> <tr><td style="text-align:left;">overnight_low_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight low.</td></tr> <tr><td style="text-align:left;">overnight_volume</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Overnight volume.</td></tr> <tr><td style="text-align:left;">overnight_turnover</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight turnover.</td></tr> <tr><td style="text-align:left;">overnight_change_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight change.</td></tr> <tr><td style="text-align:left;">overnight_change_rate</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight change rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">overnight_amplitude</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Overnight amplitude. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">future_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is futures or not.</td></tr> <tr><td style="text-align:left;">future_last_settle_price</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Yesterday's close.</td></tr> <tr><td style="text-align:left;">future_position</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Holding position.</td></tr> <tr><td style="text-align:left;">future_position_change</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Change in position.</td></tr> <tr><td style="text-align:left;">future_main_contract</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is future main contract or not.</td></tr> <tr><td style="text-align:left;">future_last_trade_time</td> <td style="text-align:left;">str</td> <td style="text-align:left;">The last trading time. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Main, current month and next month futures do not have this field.</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_valid</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is fund or not.</td></tr> <tr><td style="text-align:left;">trust_dividend_yield</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Dividend rate. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_aum</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Asset scale. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Unit: yuan</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_outstanding_units</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Total circulation.</td></tr> <tr><td style="text-align:left;">trust_netAssetValue</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Net asset value.</td></tr> <tr><td style="text-align:left;">trust_premium</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Premium. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is in percentage form, so 20 is equivalent to 20%.</div></div></div></div></td></tr> <tr><td style="text-align:left;">trust_assetClass</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/quote.html#4696">AssetClass</a></td> <td style="text-align:left;">Asset class.</td></tr></tbody></table></li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>

ret<span class="token punctuation">,</span> data <span class="token operator">=</span> quote_ctx<span class="token punctuation">.</span>get_market_snapshot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'HK.00700'</span><span class="token punctuation">,</span> <span class="token string">'US.AAPL'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> ret <span class="token operator">==</span> RET_OK<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># Take the first stock code</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># Convert to list</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'error:'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># After using the connection, remember to close it to prevent the number of connections from running out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>   code  name              update_time  last_price  open_price  high_price  low_price  prev_close_price     volume      turnover  turnover_rate  suspension listing_date  lot_size  price_spread  stock_owner  ask_price  bid_price  ask_vol  bid_vol  enable_margin  mortgage_ratio  long_margin_initial_ratio  enable_short_sell  short_sell_rate  short_available_volume  short_margin_initial_ratio  amplitude  avg_price  bid_ask_ratio  volume_ratio  highest52weeks_price  lowest52weeks_price  highest_history_price  lowest_history_price  close_price_5min  after_volume  after_turnover sec_status  equity_valid  issued_shares  total_market_val     net_asset    net_profit  earning_per_share  outstanding_shares  circular_market_val  net_asset_per_share  ey_ratio  pe_ratio  pb_ratio  pe_ttm_ratio  dividend_ttm  dividend_ratio_ttm  dividend_lfy  dividend_lfy_ratio  wrt_valid  wrt_conversion_ratio wrt_type  wrt_strike_price  wrt_maturity_date  wrt_end_trade  wrt_recovery_price  wrt_street_vol  \
<span class="token number">0</span>  HK<span class="token punctuation">.</span><span class="token number">00700</span>  TENCENT      <span class="token number">2025</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">07</span>      <span class="token number">435.40</span>      <span class="token number">441.80</span>      <span class="token number">462.40</span>     <span class="token number">431.00</span>            <span class="token number">497.80</span>  <span class="token number">123364114</span>  <span class="token number">5.499476e+10</span>          <span class="token number">1.341</span>       <span class="token boolean">False</span>   <span class="token number">2004</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">16</span>       <span class="token number">100</span>          <span class="token number">0.20</span>          NaN      <span class="token number">435.4</span>     <span class="token number">435.20</span>   <span class="token number">281300</span>    <span class="token number">17300</span>            NaN             NaN                        NaN                NaN              NaN                     NaN                         NaN      <span class="token number">6.308</span>    <span class="token number">445.792</span>        <span class="token operator">-</span><span class="token number">68.499</span>         <span class="token number">5.627</span>             <span class="token number">547.00000</span>           <span class="token number">294.400000</span>             <span class="token number">706.100065</span>            <span class="token operator">-</span><span class="token number">13.202011</span>            <span class="token number">431.60</span>             <span class="token number">0</span>    <span class="token number">0.000000e+00</span>     NORMAL          <span class="token boolean">True</span>     <span class="token number">9202391012</span>      <span class="token number">4.006721e+12</span>  <span class="token number">1.051300e+12</span>  <span class="token number">2.095753e+11</span>             <span class="token number">22.774</span>          <span class="token number">9202391012</span>         <span class="token number">4.006721e+12</span>              <span class="token number">114.242</span>     <span class="token number">0.199</span>    <span class="token number">19.118</span>     <span class="token number">3.811</span>        <span class="token number">19.118</span>          <span class="token number">3.48</span>                <span class="token number">0.80</span>          <span class="token number">3.48</span>               <span class="token number">0.799</span>      <span class="token boolean">False</span>                   NaN      N<span class="token operator">/</span>A               NaN                NaN            NaN                 NaN             NaN   
<span class="token number">1</span>   US<span class="token punctuation">.</span>AAPL    APPLE  <span class="token number">2025</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">05</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">43.301</span>      <span class="token number">188.38</span>      <span class="token number">193.89</span>      <span class="token number">199.88</span>     <span class="token number">187.34</span>            <span class="token number">203.19</span>  <span class="token number">125910913</span>  <span class="token number">2.424473e+10</span>          <span class="token number">0.838</span>       <span class="token boolean">False</span>   <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">12</span>         <span class="token number">1</span>          <span class="token number">0.01</span>          NaN      <span class="token number">180.8</span>     <span class="token number">180.48</span>       <span class="token number">29</span>      <span class="token number">400</span>            NaN             NaN                        NaN                NaN              NaN                     NaN                         NaN      <span class="token number">6.172</span>    <span class="token number">192.554</span>         <span class="token number">86.480</span>         <span class="token number">2.226</span>             <span class="token number">259.81389</span>           <span class="token number">163.300566</span>             <span class="token number">259.813890</span>              <span class="token number">0.053580</span>            <span class="token number">188.93</span>       <span class="token number">3151311</span>    <span class="token number">5.930968e+08</span>     NORMAL          <span class="token boolean">True</span>    <span class="token number">15022073000</span>      <span class="token number">2.829858e+12</span>  <span class="token number">6.675809e+10</span>  <span class="token number">9.133420e+10</span>              <span class="token number">6.080</span>         <span class="token number">15016677308</span>         <span class="token number">2.828842e+12</span>                <span class="token number">4.444</span>     <span class="token number">1.417</span>    <span class="token number">30.983</span>    <span class="token number">42.389</span>        <span class="token number">29.901</span>          <span class="token number">0.99</span>                <span class="token number">0.53</span>          <span class="token number">0.98</span>               <span class="token number">0.520</span>      <span class="token boolean">False</span>                   NaN      N<span class="token operator">/</span>A               NaN                NaN            NaN                 NaN             NaN   

   wrt_issue_vol  wrt_street_ratio  wrt_delta  wrt_implied_volatility  wrt_premium  wrt_leverage  wrt_ipop  wrt_break_even_point  wrt_conversion_price  wrt_price_recovery_ratio  wrt_score  wrt_upper_strike_price  wrt_lower_strike_price wrt_inline_price_status  wrt_issuer_code  option_valid option_type  strike_time  option_strike_price  option_contract_size  option_open_interest  option_implied_volatility  option_premium  option_delta  option_gamma  option_vega  option_theta  option_rho  option_net_open_interest  option_expiry_date_distance  option_contract_nominal_value  option_owner_lot_multiplier option_area_type  option_contract_multiplier index_option_type  index_valid  index_raise_count  index_fall_count  index_equal_count  plate_valid  plate_raise_count  plate_fall_count  plate_equal_count  future_valid  future_last_settle_price  future_position  future_position_change  future_main_contract  future_last_trade_time  trust_valid  trust_dividend_yield  trust_aum  \
<span class="token number">0</span>            NaN               NaN        NaN                     NaN          NaN           NaN       NaN                   NaN                   NaN                       NaN        NaN                     NaN                     NaN                     N<span class="token operator">/</span>A              NaN         <span class="token boolean">False</span>         N<span class="token operator">/</span>A          NaN                  NaN                   NaN                   NaN                        NaN             NaN           NaN           NaN          NaN           NaN         NaN                       NaN                          NaN                            NaN                          NaN              N<span class="token operator">/</span>A                         NaN               N<span class="token operator">/</span>A        <span class="token boolean">False</span>                NaN               NaN                NaN        <span class="token boolean">False</span>                NaN               NaN                NaN         <span class="token boolean">False</span>                       NaN              NaN                     NaN                   NaN                     NaN        <span class="token boolean">False</span>                   NaN        NaN   
<span class="token number">1</span>            NaN               NaN        NaN                     NaN          NaN           NaN       NaN                   NaN                   NaN                       NaN        NaN                     NaN                     NaN                     N<span class="token operator">/</span>A              NaN         <span class="token boolean">False</span>         N<span class="token operator">/</span>A          NaN                  NaN                   NaN                   NaN                        NaN             NaN           NaN           NaN          NaN           NaN         NaN                       NaN                          NaN                            NaN                          NaN              N<span class="token operator">/</span>A                         NaN               N<span class="token operator">/</span>A        <span class="token boolean">False</span>                NaN               NaN                NaN        <span class="token boolean">False</span>                NaN               NaN                NaN         <span class="token boolean">False</span>                       NaN              NaN                     NaN                   NaN                     NaN        <span class="token boolean">False</span>                   NaN        NaN   

   trust_outstanding_units  trust_netAssetValue  trust_premium trust_assetClass pre_price pre_high_price pre_low_price pre_volume pre_turnover pre_change_val pre_change_rate pre_amplitude after_price after_high_price after_low_price after_change_val after_change_rate after_amplitude overnight_price overnight_high_price overnight_low_price overnight_volume overnight_turnover overnight_change_val overnight_change_rate overnight_amplitude  
<span class="token number">0</span>                      NaN                  NaN            NaN              N<span class="token operator">/</span>A       N<span class="token operator">/</span>A            N<span class="token operator">/</span>A           N<span class="token operator">/</span>A        N<span class="token operator">/</span>A          N<span class="token operator">/</span>A            N<span class="token operator">/</span>A             N<span class="token operator">/</span>A           N<span class="token operator">/</span>A         N<span class="token operator">/</span>A              N<span class="token operator">/</span>A             N<span class="token operator">/</span>A              N<span class="token operator">/</span>A               N<span class="token operator">/</span>A             N<span class="token operator">/</span>A             N<span class="token operator">/</span>A                  N<span class="token operator">/</span>A                 N<span class="token operator">/</span>A              N<span class="token operator">/</span>A                N<span class="token operator">/</span>A                  N<span class="token operator">/</span>A                   N<span class="token operator">/</span>A                 N<span class="token operator">/</span>A  
<span class="token number">1</span>                      NaN                  NaN            NaN              N<span class="token operator">/</span>A    <span class="token number">180.68</span>         <span class="token number">181.98</span>        <span class="token number">177.47</span>     <span class="token number">276016</span>  <span class="token number">49809244.83</span>           <span class="token operator">-</span><span class="token number">7.7</span>          <span class="token operator">-</span><span class="token number">4.087</span>         <span class="token number">2.394</span>       <span class="token number">186.6</span>          <span class="token number">188.639</span>          <span class="token number">186.44</span>            <span class="token operator">-</span><span class="token number">1.78</span>            <span class="token operator">-</span><span class="token number">0.944</span>          <span class="token number">1.1673</span>          <span class="token number">176.94</span>                <span class="token number">186.5</span>               <span class="token number">174.4</span>           <span class="token number">533115</span>        <span class="token number">94944250.56</span>               <span class="token operator">-</span><span class="token number">11.44</span>                <span class="token operator">-</span><span class="token number">6.072</span>              <span class="token number">6.4231</span>  
HK<span class="token punctuation">.</span><span class="token number">00700</span>
<span class="token punctuation">[</span><span class="token string">'HK.00700'</span><span class="token punctuation">,</span> <span class="token string">'US.AAPL'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div><div class="tab-content" style="display:none;"><h2 id="338-2"><a href="#338-2" class="header-anchor">#</a> Qot_GetSecuritySnapshot.proto</h2> <ul><li><p><strong>Description</strong></p> <p>Get snapshot data</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><p><strong>Protocol ID</strong></p> <p>3203</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>uint GetSecuritySnapshot(QotGetSecuritySnapshot.Request req);</code><br> <code>virtual void OnReply_GetSecuritySnapshot(MMAPI_Conn client, uint nSerialNo, QotGetSecuritySnapshot.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MMAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span> sec <span class="token operator">=</span> QotCommon<span class="token punctuation">.</span>Security<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetMarket</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>QotCommon<span class="token punctuation">.</span>QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetCode</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>C2S</span> c2s <span class="token operator">=</span> QotGetSecuritySnapshot<span class="token punctuation">.</span>C2S<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AddSecurityList</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> QotGetSecuritySnapshot<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">uint</span></span> seqNo <span class="token operator">=</span> qot<span class="token punctuation">.</span><span class="token function">GetSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Send QotGetSecuritySnapshot: {0}\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnReply_GetSecuritySnapshot</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">uint</span></span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Reply: QotGetSecuritySnapshot: {0} \n&quot;</span><span class="token punctuation">,</span> nSerialNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;basic price: {0}\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span>S2C<span class="token punctuation">.</span>SnapshotListList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Basic<span class="token punctuation">.</span>CurPrice<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;equityExData issuedShares: {0}\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span>S2C<span class="token punctuation">.</span>SnapshotListList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>EquityExData<span class="token punctuation">.</span>IssuedShares<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        MMAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">Qot</span> onInitConnect<span class="token punctuation">:</span> ret<span class="token operator">=</span><span class="token number">0</span> desc<span class="token operator">=</span> connID<span class="token operator">=</span><span class="token number">6825619056039643630</span>
<span class="token class-name">Send</span> QotGetSecuritySnapshot<span class="token punctuation">:</span> <span class="token number">3</span>
Reply<span class="token punctuation">:</span> QotGetSecuritySnapshot<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token class-name">basic</span> price<span class="token punctuation">:</span> <span class="token number">474.2</span>
<span class="token class-name">equityExData</span> issuedShares<span class="token punctuation">:</span> <span class="token number">9595900007</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>int getSecuritySnapshot(QotGetSecuritySnapshot.Request req);</code><br> <code>void onReply_GetSecuritySnapshot(MMAPI_Conn client, int nSerialNo, QotGetSecuritySnapshot.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MMAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">setQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span> sec <span class="token operator">=</span> <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setMarket</span><span class="token punctuation">(</span><span class="token class-name">QotCommon<span class="token punctuation">.</span>QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot</span><span class="token punctuation">.</span><span class="token constant">C2S</span> c2s <span class="token operator">=</span> <span class="token class-name">QotGetSecuritySnapshot</span><span class="token punctuation">.</span><span class="token constant">C2S</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addSecurityList</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Request</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> seqNo <span class="token operator">=</span> qot<span class="token punctuation">.</span><span class="token function">getSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Send QotGetSecuritySnapshot: %d\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReply_GetSecuritySnapshot</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">int</span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">QotGetSecuritySnapshot<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rsp<span class="token punctuation">.</span><span class="token function">getRetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;QotGetSecuritySnapshot failed: %s\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span><span class="token function">getRetMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token class-name">JsonFormat</span><span class="token punctuation">.</span><span class="token function">printer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>rsp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Receive QotGetSecuritySnapshot: %s\n&quot;</span><span class="token punctuation">,</span> json<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InvalidProtocolBufferException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">MMAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Send QotGetSecuritySnapshot: 2
Receive QotGetSecuritySnapshot: {
  &quot;retType&quot;: 0,
  &quot;retMsg&quot;: &quot;&quot;,
  &quot;errCode&quot;: 0,
  &quot;s2c&quot;: {
    &quot;snapshotList&quot;: [{
      &quot;basic&quot;: {
        &quot;security&quot;: {
          &quot;market&quot;: 1,
          &quot;code&quot;: &quot;00700&quot;
        },
        &quot;type&quot;: 3,
        &quot;isSuspend&quot;: false,
        &quot;listTime&quot;: &quot;2004-06-16&quot;,
        &quot;lotSize&quot;: 100,
        &quot;priceSpread&quot;: 0.5,
        &quot;updateTime&quot;: &quot;2021-06-24 16:08:14&quot;,
        &quot;highPrice&quot;: 587.5,
        &quot;openPrice&quot;: 584.0,
        &quot;lowPrice&quot;: 580.0,
        &quot;lastClosePrice&quot;: 582.5,
        &quot;curPrice&quot;: 583.0,
        &quot;volume&quot;: &quot;10947302&quot;,
        &quot;turnover&quot;: 6.387238277E9,
        &quot;turnoverRate&quot;: 0.114,
        &quot;listTimestamp&quot;: 1.0873152E9,
        &quot;updateTimestamp&quot;: 1.624522094E9,
        &quot;askPrice&quot;: 583.5,
        &quot;bidPrice&quot;: 583.0,
        &quot;askVol&quot;: &quot;142300&quot;,
        &quot;bidVol&quot;: &quot;52800&quot;,
        &quot;enableMargin&quot;: true,
        &quot;mortgageRatio&quot;: 0.0,
        &quot;longMarginInitialRatio&quot;: 35.0,
        &quot;enableShortSell&quot;: true,
        &quot;shortSellRate&quot;: 0.9,
        &quot;shortAvailableVolume&quot;: &quot;2006700&quot;,
        &quot;shortMarginInitialRatio&quot;: 60.0,
        &quot;amplitude&quot;: 1.288,
        &quot;avgPrice&quot;: 583.453,
        &quot;bidAskRatio&quot;: -5.273,
        &quot;volumeRatio&quot;: 0.553,
        &quot;highest52WeeksPrice&quot;: 773.9,
        &quot;lowest52WeeksPrice&quot;: 479.4,
        &quot;highestHistoryPrice&quot;: 773.9,
        &quot;lowestHistoryPrice&quot;: -6.381,
        &quot;secStatus&quot;: 1,
        &quot;closePrice5Minute&quot;: 583.5
      },
      &quot;equityExData&quot;: {
        &quot;issuedShares&quot;: &quot;9595206625&quot;,
        &quot;issuedMarketVal&quot;: 5.594005462375E12,
        &quot;netAsset&quot;: 9.17675966408375E11,
        &quot;netProfit&quot;: 1.90378494646625E11,
        &quot;earningsPershare&quot;: 19.841,
        &quot;outstandingShares&quot;: &quot;9595206625&quot;,
        &quot;outstandingMarketVal&quot;: 5.594005462375E12,
        &quot;netAssetPershare&quot;: 95.639,
        &quot;eyRate&quot;: 0.232,
        &quot;peRate&quot;: 29.383,
        &quot;pbRate&quot;: 6.095,
        &quot;peTTMRate&quot;: 26.249,
        &quot;dividendTTM&quot;: 1.6,
        &quot;dividendRatioTTM&quot;: 0.27,
        &quot;dividendLFY&quot;: 1.6,
        &quot;dividendLFYRatio&quot;: 0.274
      }
    }]
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>moomoo::u32_t GetSecuritySnapshot(const Qot_GetSecuritySnapshot::Request &amp;stReq);</code><br> <code>virtual void OnReply_GetSecuritySnapshot(moomoo::u32_t nSerialNo, const Qot_GetSecuritySnapshot::Response &amp;stRsp) = 0;</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">MMSPI_Trd</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">MMSPI_Conn</span></span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>

	<span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pQotApi <span class="token operator">=</span> <span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>m_pQotApi <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			m_pQotApi<span class="token operator">-&gt;</span><span class="token function">UnregisterQotSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pQotApi<span class="token operator">-&gt;</span><span class="token function">UnregisterConnSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pQotApi <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span>MMAPI_Conn<span class="token operator">*</span> pConn<span class="token punctuation">,</span> moomoo<span class="token double-colon punctuation">::</span>i64_t nErrCode<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> strDesc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;connect&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		<span class="token comment">// construct request message</span>
		Qot_GetSecuritySnapshot<span class="token double-colon punctuation">::</span>Request req<span class="token punctuation">;</span>
		Qot_GetSecuritySnapshot<span class="token double-colon punctuation">::</span>C2S <span class="token operator">*</span>c2s <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">mutable_c2s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">auto</span> secList <span class="token operator">=</span> c2s<span class="token operator">-&gt;</span><span class="token function">mutable_securitylist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Qot_Common<span class="token double-colon punctuation">::</span>Security <span class="token operator">*</span>sec <span class="token operator">=</span> secList<span class="token operator">-&gt;</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		sec<span class="token operator">-&gt;</span><span class="token function">set_code</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		sec<span class="token operator">-&gt;</span><span class="token function">set_market</span><span class="token punctuation">(</span>Qot_Common<span class="token double-colon punctuation">::</span>QotMarket<span class="token double-colon punctuation">::</span>QotMarket_HK_Security<span class="token punctuation">)</span><span class="token punctuation">;</span>

        m_GetSecuritySnapshotSerialNo <span class="token operator">=</span> m_pQotApi<span class="token operator">-&gt;</span><span class="token function">GetSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Request GetSecuritySnapshot SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> m_GetSecuritySnapshotSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnReply_GetSecuritySnapshot</span><span class="token punctuation">(</span>moomoo<span class="token double-colon punctuation">::</span>u32_t nSerialNo<span class="token punctuation">,</span> <span class="token keyword">const</span> Qot_GetSecuritySnapshot<span class="token double-colon punctuation">::</span>Response <span class="token operator">&amp;</span>stRsp<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nSerialNo <span class="token operator">==</span> m_GetSecuritySnapshotSerialNo<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;OnReply_GetSecuritySnapshot SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> nSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
			<span class="token comment">// print response</span>
			<span class="token comment">// ProtoBufToBodyData and UTF8ToLocal refer to tool.h in Samples</span>
            <span class="token comment">// ProtoBufToBodyData和UTF8ToLocal函数的定义参见Sample中的tool.h文件</span>
            string resp_str<span class="token punctuation">;</span>
            <span class="token function">ProtoBufToBodyData</span><span class="token punctuation">(</span>stRsp<span class="token punctuation">,</span> resp_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token function">UTF8ToLocal</span><span class="token punctuation">(</span>resp_str<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
	MMAPI_Qot <span class="token operator">*</span>m_pQotApi<span class="token punctuation">;</span>

    moomoo<span class="token double-colon punctuation">::</span>u32_t m_GetSecuritySnapshotSerialNo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int32_t</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int32_t</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">{</span>
		Program program<span class="token punctuation">;</span>
		program<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	protobuf<span class="token double-colon punctuation">::</span><span class="token function">ShutdownProtobufLibrary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">UnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>connect
Request GetSecuritySnapshot SerialNo: 4
OnReply_GetSecuritySnapshot SerialNo: 4
{
 &quot;retType&quot;: 0,
 &quot;retMsg&quot;: &quot;&quot;,
 &quot;errCode&quot;: 0,
 &quot;s2c&quot;: {
  &quot;snapshotList&quot;: [
   {
    &quot;basic&quot;: {
     &quot;security&quot;: {
      &quot;market&quot;: 1,
      &quot;code&quot;: &quot;00700&quot;
     },
     &quot;type&quot;: 3,
     &quot;isSuspend&quot;: false,
     &quot;listTime&quot;: &quot;2004-06-16&quot;,
     &quot;lotSize&quot;: 100,
     &quot;priceSpread&quot;: 0.5,
     &quot;updateTime&quot;: &quot;2021-06-09 14:12:30&quot;,
     &quot;highPrice&quot;: 606,
     &quot;openPrice&quot;: 600,
     &quot;lowPrice&quot;: 597.5,
     &quot;lastClosePrice&quot;: 601,
     &quot;curPrice&quot;: 600.5,
     &quot;volume&quot;: &quot;4382292&quot;,
     &quot;turnover&quot;: 2638928979,
     &quot;turnoverRate&quot;: 0.046,
     &quot;listTimestamp&quot;: 1087315200,
     &quot;updateTimestamp&quot;: 1623219150,
     &quot;askPrice&quot;: 601,
     &quot;bidPrice&quot;: 600.5,
     &quot;askVol&quot;: &quot;24200&quot;,
     &quot;bidVol&quot;: &quot;1400&quot;,
     &quot;enableMargin&quot;: true,
     &quot;mortgageRatio&quot;: 0,
     &quot;longMarginInitialRatio&quot;: 35,
     &quot;enableShortSell&quot;: true,
     &quot;shortSellRate&quot;: 0.9,
     &quot;shortAvailableVolume&quot;: &quot;1860000&quot;,
     &quot;shortMarginInitialRatio&quot;: 60,
     &quot;amplitude&quot;: 1.414,
     &quot;avgPrice&quot;: 602.18,
     &quot;bidAskRatio&quot;: 38.289,
     &quot;volumeRatio&quot;: 0.418,
     &quot;highest52WeeksPrice&quot;: 773.9,
     &quot;lowest52WeeksPrice&quot;: 430.6,
     &quot;highestHistoryPrice&quot;: 773.9,
     &quot;lowestHistoryPrice&quot;: -6.381,
     &quot;secStatus&quot;: 1,
     &quot;closePrice5Minute&quot;: 601.5
    },
    &quot;equityExData&quot;: {
     &quot;issuedShares&quot;: &quot;9595206625&quot;,
     &quot;issuedMarketVal&quot;: 5761921578312.5,
     &quot;netAsset&quot;: 917675966408.375,
     &quot;netProfit&quot;: 190378494646.625,
     &quot;earningsPershare&quot;: 19.841,
     &quot;outstandingShares&quot;: &quot;9595206625&quot;,
     &quot;outstandingMarketVal&quot;: 5761921578312.5,
     &quot;netAssetPershare&quot;: 95.639,
     &quot;eyRate&quot;: 0.232,
     &quot;peRate&quot;: 30.265,
     &quot;pbRate&quot;: 6.278,
     &quot;peTTMRate&quot;: 27.037,
     &quot;dividendTTM&quot;: 1.6,
     &quot;dividendRatioTTM&quot;: 0.27,
     &quot;dividendLFY&quot;: 1.6,
     &quot;dividendLFYRatio&quot;: 0.266
    }
   }
  ]
 }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>GetSecuritySnapshot(req);</code></p> <ul><li><p><strong>Description</strong></p> <p>Get market snapshot</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
	<span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> securityList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security list</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token comment">// Additional data of underlying stock type</span>
<span class="token keyword">message</span> <span class="token class-name">EquitySnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issuedShares <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Total shares</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> issuedMarketVal <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Total market value = total number of shares * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAsset <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netProfit <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Profit or loss</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> earningsPershare <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Earnings per share</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingShares <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Shares outstanding</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> outstandingMarketVal <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Market value of shares outstanding = number of shares outstanding * current price</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetPershare <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Net asset per share</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> eyRate <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Yield rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> pbRate <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//P/B ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> peTTMRate <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//P/E ratio TTM</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendTTM <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Dividend TTM, dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendRatioTTM <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate TTM (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFY <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Dividend LFY, last year's dividend</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> dividendLFYRatio <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate LFY (This field is in percentage form, so 20 is equivalent to 20%.)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data for warrant type</span>
<span class="token keyword">message</span> <span class="token class-name">WarrantSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> conversionRate <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Share conversion ratio</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> warrantType <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.WarrantType, warrant type</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> maturityTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Time string of expiration date</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> endTradeTime <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Time string of the last trading day</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> recoveryPrice <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Call price, only CBBC supports this field</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> streetVolumn <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding quantity</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> issueVolumn <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Issue volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> streetRate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Outstanding percentage (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Hedging value, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility, only calls and puts support this field</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> maturityTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Maturity date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> endTradeTimestamp <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> leverage <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Leverage ratio (times)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ipop <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// In/out of money (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> breakEvenPoint <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Breakeven point</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> conversionPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Conversion price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> priceRecoveryRatio <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Stock price recovery ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> score <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Comprehensive score</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> upperStrikePrice <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Upper bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowerStrikePrice <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Lower bound price, only the Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> inLinePriceStatus <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.PriceType, in/out-of bound, only Inline Warrants support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> issuerCode <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Issuer code</span>
<span class="token punctuation">}</span>

<span class="token comment">// Option type additional data</span>
<span class="token keyword">message</span> <span class="token class-name">OptionSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionType, option type (by direction)</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> owner <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Underlying stock</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> strikeTime <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Time string of exercise date (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> strikePrice <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Strike price</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> contractSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (int type)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractSizeFloat <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks per contract (float type)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> openInterest <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Number of open position</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> impliedVolatility <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Implied volatility (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> delta <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Delta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> gamma <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Gamma</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> vega <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Vega</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> theta <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Theta</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> rho <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Greek value Rho</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> strikeTimestamp <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Exercise date timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> indexOptionType <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.IndexOptionType, index option type</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> netOpenInterest <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Net open contract number , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> expiryDateDistance <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//The number of days from the expiry date, a negative number means it has expired.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractNominalValue <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//Contract nominal amount , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> ownerLotMultiplier <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">//Equal number of underlying stocks, index options do not have this field , only HK options support this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> optionAreaType <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.OptionAreaType, option type (by exercise time).</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> contractMultiplier <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span> <span class="token comment">//Contract multiplier</span>
<span class="token punctuation">}</span>

<span class="token comment">// additional data of index type</span>
<span class="token keyword">message</span> <span class="token class-name">IndexSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">// Additional data of the sector type</span>
<span class="token keyword">message</span> <span class="token class-name">PlateSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> raiseCount <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that raises</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> fallCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that falls</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> equalCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Number of stocks that does not change</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of futures type</span>
<span class="token keyword">message</span> <span class="token class-name">FutureSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastSettlePrice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> position <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Holding position</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> positionChange <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Daily change in position</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> lastTradeTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day, only future non-main contracts have this field</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lastTradeTimestamp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//The last trading day timestamp, only future non-main contracts have this field</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isMainContract <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Whether is main-linked contract</span>
<span class="token punctuation">}</span>

<span class="token comment">//Additional data of fund type</span>
<span class="token keyword">message</span> <span class="token class-name">TrustSnapshotExData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> dividendYield <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Dividend rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> aum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Asset scale</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> outstandingUnits <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Total circulation</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> netAssetValue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Net asset value</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> premium <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Premium (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> assetClass <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.AssetClass, asset class</span>
<span class="token punctuation">}</span>

<span class="token comment">//Basic snapshot data</span>
<span class="token keyword">message</span> <span class="token class-name">SnapshotBasicData</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>Security</span> security <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Security</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> name <span class="token operator">=</span> <span class="token number">41</span><span class="token punctuation">;</span> <span class="token comment">//Stock name</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common.SecurityType, security type</span>
    <span class="token keyword">required</span> <span class="token builtin">bool</span> isSuspend <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether is suspended</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> listTime <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//String of listed time (Format: yyyy-MM-dd)</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> lotSize <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quantity per lot</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> priceSpread <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Spread</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> updateTime <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//String of updated time (Format: yyyy-MM-dd HH:mm:ss)</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> highPrice <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//High</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> openPrice <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//Open</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lowPrice <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//low</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> lastClosePrice <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">//Yesterday's close</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> curPrice <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//Current price</span>
    <span class="token keyword">required</span> <span class="token builtin">int64</span> volume <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//Volume</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnover <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token comment">//Turnover</span>
    <span class="token keyword">required</span> <span class="token builtin">double</span> turnoverRate <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token comment">//Turnover rate (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> listTimestamp <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token comment">//Listing timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> updateTimestamp <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">//Update timestamp</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> askPrice <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token comment">//Ask price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidPrice <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><span class="token comment">//Bid price</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> askVol <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//Ask volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> bidVol <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">//Bid volume</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableMargin <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span> <span class="token comment">//Whether financing is available (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> mortgageRatio <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span> <span class="token comment">//Stock mortgage rate.</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> longMarginInitialRatio <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span> <span class="token comment">//Initial margin rate for financing (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> enableShortSell <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//Whether it can be short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortSellRate <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token comment">//Reference rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">int64</span> shortAvailableVolume <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span> <span class="token comment">//The remaining quantity that is available for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> shortMarginInitialRatio <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span> <span class="token comment">//The initial margin rate for short selling (Deprecated. Please use Get Margin Data interface.). </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> amplitude <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span> <span class="token comment">//Amplitude (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> avgPrice <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">//Average price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> bidAskRatio <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">//Commission ratio (This field is in percentage form, so 20 is equivalent to 20%.)</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> volumeRatio <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span> <span class="token comment">//Volume ratio</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highest52WeeksPrice <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span> <span class="token comment">//Highest price in 52 weeks</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowest52WeeksPrice <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span> <span class="token comment">//Lowest price in 52 weeks </span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> highestHistoryPrice <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span> <span class="token comment">//Highest historical price</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> lowestHistoryPrice <span class="token operator">=</span> <span class="token number">36</span><span class="token punctuation">;</span> <span class="token comment">//Lowest historical price</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> preMarket <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data pre-market</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> afterMarket <span class="token operator">=</span> <span class="token number">38</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data after-hourrs</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Qot_Common<span class="token punctuation">.</span>PreAfterMarketData</span> overnight <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::PreAfterMarketData data overnight</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> secStatus <span class="token operator">=</span> <span class="token number">39</span><span class="token punctuation">;</span> <span class="token comment">//Qot_Common::SecurityStatus stock status</span>
    <span class="token keyword">optional</span> <span class="token builtin">double</span> closePrice5Minute <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span> <span class="token comment">//Close for timeframe of 5 minutes</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Snapshot</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">SnapshotBasicData</span> basic <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Snapshot basic data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">EquitySnapshotExData</span> equityExData <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">WarrantSnapshotExData</span> warrantExData <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Warrant snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">OptionSnapshotExData</span> optionExData <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Option snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">IndexSnapshotExData</span> indexExData <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Index snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">PlateSnapshotExData</span> plateExData <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//Plate snapshot additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">FutureSnapshotExData</span> futureExData <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//Futures additional data</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">TrustSnapshotExData</span> trustExData <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//Fund additional data</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">repeated</span> <span class="token positional-class-name class-name">Snapshot</span> snapshotList <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Stock snapshot</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, returned value</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br></div></div><blockquote><ul><li>For stock structure， refer to <a href="/moomoo-api-doc/en/quote/quote.html#5792">Security</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> mmWebsocket <span class="token keyword">from</span> <span class="token string">&quot;moomoo-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mmCmdID <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;moomoo-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Common<span class="token punctuation">,</span> Qot_Common <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;moomoo-api/proto&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> beautify <span class="token keyword">from</span> <span class="token string">&quot;js-beautify&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">QotGetSecuritySnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> RetType <span class="token punctuation">}</span> <span class="token operator">=</span> Common
    <span class="token keyword">const</span> <span class="token punctuation">{</span> SubType<span class="token punctuation">,</span> QotMarket <span class="token punctuation">}</span> <span class="token operator">=</span> Qot_Common
    <span class="token keyword">let</span> <span class="token punctuation">[</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'7522027ccf5a06b1'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mmWebsocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function-variable function">onlogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">c2s</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">securityList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">market</span><span class="token operator">:</span> QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security<span class="token punctuation">,</span>
                        <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;00700&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            websocket<span class="token punctuation">.</span><span class="token function">GetSecuritySnapshot</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> <span class="token punctuation">{</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">,</span>s2c <span class="token punctuation">}</span> <span class="token operator">=</span> res
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Snapshot: errCode %d, retMsg %s, retType %d&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">if</span><span class="token punctuation">(</span>retType <span class="token operator">==</span> RetType<span class="token punctuation">.</span>RetType_Succeed<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">let</span> snapshot <span class="token operator">=</span> <span class="token function">beautify</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>s2c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">indent_size</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">space_in_empty_paren</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>snapshot<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// After using the connection, remember to close it to prevent the number of connections from running out</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
        websocket<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the script to receive OpenD push duration to 5 seconds</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">Snapshot</span><span class="token operator">:</span> errCode <span class="token number">0</span><span class="token punctuation">,</span> retMsg <span class="token punctuation">,</span> retType <span class="token number">0</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;snapshotList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;basic&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;security&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;00700&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;isSuspend&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;listTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2004-06-16&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lotSize&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;priceSpread&quot;</span><span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;updateTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-09-09 16:08:17&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;highPrice&quot;</span><span class="token operator">:</span> <span class="token number">511.5</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;openPrice&quot;</span><span class="token operator">:</span> <span class="token number">509</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lowPrice&quot;</span><span class="token operator">:</span> <span class="token number">479</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lastClosePrice&quot;</span><span class="token operator">:</span> <span class="token number">524.5</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;curPrice&quot;</span><span class="token operator">:</span> <span class="token number">480</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;volume&quot;</span><span class="token operator">:</span> <span class="token string">&quot;54090872&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;turnover&quot;</span><span class="token operator">:</span> <span class="token number">26716845932</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;turnoverRate&quot;</span><span class="token operator">:</span> <span class="token number">0.563</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;listTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1087315200</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;updateTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1631174897</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;askPrice&quot;</span><span class="token operator">:</span> <span class="token number">480.4</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;bidPrice&quot;</span><span class="token operator">:</span> <span class="token number">480</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;askVol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;700&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;bidVol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;55300&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;enableMargin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;mortgageRatio&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;longMarginInitialRatio&quot;</span><span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;enableShortSell&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;shortSellRate&quot;</span><span class="token operator">:</span> <span class="token number">0.92</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;shortAvailableVolume&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3059000&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;shortMarginInitialRatio&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;amplitude&quot;</span><span class="token operator">:</span> <span class="token number">6.196</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;avgPrice&quot;</span><span class="token operator">:</span> <span class="token number">493.925</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;bidAskRatio&quot;</span><span class="token operator">:</span> <span class="token number">22.703</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;volumeRatio&quot;</span><span class="token operator">:</span> <span class="token number">1.775</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;highest52WeeksPrice&quot;</span><span class="token operator">:</span> <span class="token number">773.9</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lowest52WeeksPrice&quot;</span><span class="token operator">:</span> <span class="token number">412.2</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;highestHistoryPrice&quot;</span><span class="token operator">:</span> <span class="token number">773.9</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;lowestHistoryPrice&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">6.381</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;secStatus&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;closePrice5Minute&quot;</span><span class="token operator">:</span> <span class="token number">483.4</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;equityExData&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;issuedShares&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9599810645&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;issuedMarketVal&quot;</span><span class="token operator">:</span> <span class="token number">4607909109600</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;netAsset&quot;</span><span class="token operator">:</span> <span class="token number">1016063158288.09</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;netProfit&quot;</span><span class="token operator">:</span> <span class="token number">190383444711.64</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;earningsPershare&quot;</span><span class="token operator">:</span> <span class="token number">19.832</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;outstandingShares&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9599810645&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;outstandingMarketVal&quot;</span><span class="token operator">:</span> <span class="token number">4607909109600</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;netAssetPershare&quot;</span><span class="token operator">:</span> <span class="token number">105.842</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;eyRate&quot;</span><span class="token operator">:</span> <span class="token number">0.22</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;peRate&quot;</span><span class="token operator">:</span> <span class="token number">24.203</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;pbRate&quot;</span><span class="token operator">:</span> <span class="token number">4.535</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;peTTMRate&quot;</span><span class="token operator">:</span> <span class="token number">20.532</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendTTM&quot;</span><span class="token operator">:</span> <span class="token number">1.599</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendRatioTTM&quot;</span><span class="token operator">:</span> <span class="token number">0.33</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendLFY&quot;</span><span class="token operator">:</span> <span class="token number">1.599</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dividendLFYRatio&quot;</span><span class="token operator">:</span> <span class="token number">0.333</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
stop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div></div></div> <div class="custom-block tip"><p class="custom-block-title">Interface Limitations</p> <ul><li>Request up to 60 snapshots every 30 seconds</li> <li>For each request, the maximum number of stock codes supported by the parameter <em>code_list</em> is 400.</li></ul></div></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/moomoo-api-doc/en/quote/update-broker.html" class="prev">
        Real-time Broker Queue Callback
      </a></span> <span class="next"><a href="/moomoo-api-doc/en/quote/get-stock-quote.html">
        Get Real-time Quote
      </a>
      →
    </span></p></div> </main> <aside class="rightbar"><ul class="rightbar-links"><a href="/moomoo-api-doc/en/quote/get-market-snapshot.html" aria-current="page" class="active rightbar-link">Get Market Snapshot</a></ul></aside></div><div class="global-ui"></div></div>
    <script src="/moomoo-api-doc/assets/js/app.76d125c0.js" defer></script><script src="/moomoo-api-doc/assets/js/2.e1858e4a.js" defer></script><script src="/moomoo-api-doc/assets/js/52.d7c28131.js" defer></script><script src="/moomoo-api-doc/assets/js/28.3fe3716c.js" defer></script><script src="/moomoo-api-doc/assets/js/35.424be492.js" defer></script><script src="/moomoo-api-doc/assets/js/24.9af08641.js" defer></script>
  </body>
</html>
