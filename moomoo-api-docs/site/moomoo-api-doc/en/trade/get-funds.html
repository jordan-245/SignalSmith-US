<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Get Account Funds | moomoo API Doc v9.6</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="moomoo API Doc">
    <link rel="preload" href="/moomoo-api-doc/assets/css/0.styles.ea0b1d81.css" as="style"><link rel="preload" href="/moomoo-api-doc/assets/js/app.76d125c0.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/2.e1858e4a.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/89.8fed8c82.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/28.3fe3716c.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/35.424be492.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/24.9af08641.js" as="script"><link rel="prefetch" href="/moomoo-api-doc/assets/js/10.94bcbf16.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/100.5aad709f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/101.6315f7fb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/102.6cece76d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/103.40195fc5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/104.e0830381.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/105.936eb4d9.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/106.ed3aee2b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/107.7748df13.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/108.39b67a60.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/109.4b1236e2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/11.2fbf442f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/110.bc264581.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/111.a9652fa1.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/112.038c2fcd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/113.587f4a42.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/114.9203188f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/115.0d36e730.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/116.0f4b866f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/117.76221359.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/118.caa7bc9a.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/119.ba336510.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/12.c4851259.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/120.3683de14.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/121.ea95d7cb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/122.618c3ed6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/123.055b7010.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/124.c045cd63.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/125.d42b0714.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/126.b2f6e933.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/127.e9d110f8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/128.a11f8202.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/129.6626eb94.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/13.4f3b3d7e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/130.6539fcba.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/131.75bdf579.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/132.9d24d7e7.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/133.d9e1803b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/134.a475efd5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/135.cc33709b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/136.21873923.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/137.69826660.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/138.31047450.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/139.ce995941.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/14.13b59c71.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/140.e70bdec0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/141.d9d53a87.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/142.a04d0bea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/143.a672978f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/144.818a84ae.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/145.e46cc3df.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/146.a29ec4b9.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/147.5cfe641e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/148.358ecaa0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/149.3935be2f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/15.3d02da17.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/150.40c46b61.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/151.3456807d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/152.308a6ffd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/153.d95721a5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/154.c6b90cda.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/155.68c534de.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/156.fa6d7af3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/157.a33831dd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/158.56280019.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/159.9b880f55.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/16.33d80555.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/160.f4aa9622.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/161.727a3a78.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/162.941951ea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/163.8b7da111.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/164.dfd53e0d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/165.0c0855cd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/166.21bd9238.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/167.e4ae9cf3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/168.3f4281c0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/169.f37d7335.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/17.6ac2d3ef.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/170.4376c120.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/171.948e10e3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/18.7deab3c8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/19.6e70cac3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/20.c1df6286.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/21.5647999f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/22.a50b564c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/23.7870807e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/25.f509878d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/26.b1244706.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/27.082f3f2b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/29.f69366ed.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/3.f9c39755.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/30.aee38619.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/31.7ab0c7db.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/32.d4a3260b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/33.74565b1d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/34.29135595.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/36.3857d105.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/37.7d889315.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/38.637a73c2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/39.aa973d8f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/4.04d2c45d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/40.480f6bad.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/41.62d11f5f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/42.6861ed24.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/43.b8eb0308.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/44.e0fc8394.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/45.12015c46.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/46.acc698c7.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/47.997f18b2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/48.c0a3ed4b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/49.605a98fa.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/5.8c452a45.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/50.ab8e902f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/51.93a43c80.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/52.d7c28131.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/53.bc4fcbfa.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/54.f2134ef8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/55.0fb8c79f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/56.d6f1d66e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/57.e3b3ea62.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/58.a3b791f0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/59.15613da4.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/6.9a2ded1c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/60.60f97ce5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/61.adf5183d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/62.10e9e40e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/63.f3768483.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/64.5e7093fb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/65.437af457.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/66.fc1b6993.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/67.14953f01.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/68.5b8d5ad6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/69.7f2d1c8b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/7.f1cb5afb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/70.2cfa12e6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/71.0acce1e8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/72.74bec554.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/73.00d57d06.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/74.bbe2f552.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/75.654e7361.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/76.e7abbb6c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/77.9c2ecdf1.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/78.3eaa2d23.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/79.cc7f1ac2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/8.e457aac2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/80.148805ce.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/81.40dc2530.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/82.bbe1f83f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/83.d1ecfd2c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/84.5013f0ea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/85.ed102602.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/86.f2975c25.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/87.7d6540bd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/88.6f722f70.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/9.c9d4402a.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/90.a15edebc.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/91.1f997c5d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/92.dd51fa69.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/93.042545f6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/94.71d9cc14.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/95.fb45f9d3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/96.0f81a014.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/97.09768abd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/98.cc14b450.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/99.6d2cbe79.js">
    <link rel="stylesheet" href="/moomoo-api-doc/assets/css/0.styles.ea0b1d81.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/moomoo-api-doc/en/" class="home-link router-link-active"><img src="/moomoo-api-doc/img/logo.png" alt="moomoo API Doc v9.6" class="logo"> <span class="site-name can-hide">moomoo API Doc v9.6</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="ftcode-links can-hide"><div class="ftcode-item"><div class="ftcode-dropdown-wrapper"><button type="button" aria-label="Programming Language" class="ftcode-dropdown-title"><span class="title">Programming Language</span> <span class="arrow right"></span></button> <ul class="ftcode-dropdown" style="display:none;"><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link active"><span class="arrow active"></span> <span class="title active">Python</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C#</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">Java</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C++</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">JavaScript</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">proto</span></span></li></ul></div></div></nav> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="简体中文" class="dropdown-title"><span class="title">简体中文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/trade/get-funds.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/en/trade/get-funds.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="ftcode-links"><div class="ftcode-item"><div class="ftcode-dropdown-wrapper"><button type="button" aria-label="Programming Language" class="ftcode-dropdown-title"><span class="title">Programming Language</span> <span class="arrow right"></span></button> <ul class="ftcode-dropdown" style="display:none;"><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link active"><span class="arrow active"></span> <span class="title active">Python</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C#</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">Java</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C++</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">JavaScript</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">proto</span></span></li></ul></div></div></nav> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="简体中文" class="dropdown-title"><span class="title">简体中文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/trade/get-funds.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/en/trade/get-funds.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Quick Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OpenD</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Quote API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading openData"><span>Trade API</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moomoo-api-doc/en/trade/overview.html" class="sidebar-link">Overview</a></li><li><a href="/moomoo-api-doc/en/trade/base.html" class="sidebar-link">Transaction Objects</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Accounts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading openData"><span>Assets and Positions</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moomoo-api-doc/en/trade/get-funds.html" aria-current="page" class="active sidebar-link">Get Account Funds</a></li><li><a href="/moomoo-api-doc/en/trade/get-max-trd-qtys.html" class="sidebar-link">Query the Maximum Quantity that Can be Bought or Sold</a></li><li><a href="/moomoo-api-doc/en/trade/get-position-list.html" class="sidebar-link">Get Positions</a></li><li><a href="/moomoo-api-doc/en/trade/get-margin-ratio.html" class="sidebar-link">Get Margin Data</a></li><li><a href="/moomoo-api-doc/en/trade/get-acc-cash-flow.html" class="sidebar-link">Get Account Cash Flow</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Orders</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Deals</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/moomoo-api-doc/en/trade/trade.html" class="sidebar-link">Trading Definitions</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Basic API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Q&amp;A</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="8"><a href="#8" class="header-anchor">#</a> Get Account Funds</h1> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>accinfo_query(trd_env=TrdEnv.REAL, acc_id=0, acc_index=0, refresh_cache=False, currency=Currency.HKD)</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">trd_env</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#48">TrdEnv</a></td> <td style="text-align:left;">Trading environment</td></tr> <tr><td style="text-align:left;">acc_id</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Trading account ID. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>When acc_id is 0, the account specified by acc_index is chosen.</li><li> When acc_id is set the ID number (not 0), the account specified by acc_id is chosen.</li><li>Using acc_id to query and trade is strongly recommended, acc_index will change when adding/closing an account, result in the account you specify is inconsistent with the actual trading account.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">acc_index</td> <td style="text-align:left;">int</td> <td style="text-align:left;">The account number in the trading account list. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The default is 0, which means the first trading account.</div></div></div></div></td></tr> <tr><td style="text-align:left;">refresh_cache</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Whether to refresh the cache. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>True: Re-request data from the Futu server immediately, without using the OpenD cache. At this time, it will be restricted by the interface frequency limit. </li><li>False: Use OpenD's cache (The cache needs to be refreshed if it is not updated in rare circumstances.)</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">currency</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></td> <td style="text-align:left;">The display currency of the funds. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts and futures accounts, other single-market accounts will ignore this parameter.</li><li>In the returned DataFrame, all fund-related fields can be converted with this parameter, except for the fields that explicitly specify the currency.</li></ul></div></div></div></div></td></tr></tbody></table></li></ul> <ul><li><p><strong>Return</strong></p> <table><tr><th>Field</th> <th>Type</th> <th>Description</th></tr> <tr><td>ret</td> <td><a href="../ftapi/common.html#8800"> RET_CODE</a></td> <td>Interface result.</td></tr> <tr><td rowspan="2">data</td> <td>pd.DataFrame</td> <td>If ret == RET_OK, fund data is returned.</td></tr> <tr><td>str</td> <td>If ret != RET_OK, error description is returned.</td></tr></table> <ul><li>Fund data format as follows:
<table><thead><tr><th style="text-align:left;">Field</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Maximum Buying Power. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the <em>approximate value</em> calculated according to the marginable initial margin of 50%. But in fact, this ratio of each financial contract is not the same. We recommend using <em><strong>Buy on margin</strong></em>, returned by <a href="/moomoo-api-doc/en/trade/get-max-trd-qtys.html">Query the Maximum Quantity that Can be Bought or Sold</a>, to get the maximum quantity can buy. </li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">max_power_short</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Short Buying Power. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the <em>approximate value</em> calculated according to the shortable initial margin of 60%. But in fact, this ratio of each financial contract is not the same. We recommend using <em><strong>Short sell</strong></em>, returned by <a href="/moomoo-api-doc/en/trade/get-max-trd-qtys.html">Query the Maximum Quantity that Can be Bought or Sold</a>, to get the maximum quantity can be shorted. </li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Cash Buying Power. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Obsolete. Please use 'us_net_cash_power' or other fields to get the cash buying power of each currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">total_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Total Net Assets.<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Total Net Assets = Security Assets + Fund Assets + Bond Assets </div></div></div></div></td></tr> <tr><td style="text-align:left;">securities_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Security Assets<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Minimum OpenD version requirements: 8.2.4218.</div></div></div></div></td></tr> <tr><td style="text-align:left;">fund_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Fund Assets<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Universal accounts will return the total fund assets value. Currently, it does not support for HKD fund and USD fund assets value. </li><li>Minimum OpenD version requirements: 8.2.4218.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">bond_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Bond Assets<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Minimum OpenD version requirements: 8.2.4218.</div></div></div></div></td></tr> <tr><td style="text-align:left;">cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Obsolete. Please use 'us_cash' or other fields to get the cash of each currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">market_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Securities Market Value. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">long_mv</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Long Market Value.</td></tr> <tr><td style="text-align:left;">short_mv</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Short Market Value.</td></tr> <tr><td style="text-align:left;">pending_asset</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Asset in Transit.</td></tr> <tr><td style="text-align:left;">interest_charged_amount</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Interest Charged Amount.</td></tr> <tr><td style="text-align:left;">frozen_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Funds on Hold.</td></tr> <tr><td style="text-align:left;">avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">max_withdrawal</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Maximum Withdrawal. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to securities accounts of FUTU HK</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">currency</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></td> <td style="text-align:left;">The currency used for this query. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to universal securities accounts and futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">available_funds</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Available funds. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">unrealized_pl</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Unrealized gain or loss. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">realized_pl</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Realized gain or loss. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">risk_level</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#428">CltRiskLevel</a></td> <td style="text-align:left;">Risk control level. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts. It is recommanded to use risk_status field to get the risk status of securities accounts or futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">risk_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#7469">CltRiskStatus</a></td> <td style="text-align:left;">Risk status. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Applicable to securities accounts and futures accounts.</li><li>Divided into 9 grades, <code>LEVEL1</code> is the safest and <code>LEVEL9</code> is the most dangerous.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">initial_margin</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Initial Margin. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to futures accounts.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">margin_call_margin</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Margin-call Margin.</td></tr> <tr><td style="text-align:left;">maintenance_margin</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Maintenance Margin.</td></tr> <tr><td style="text-align:left;">hk_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">HKD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">hk_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">HKD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">hkd_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">HKD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">hkd_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">HK Net Assets Value.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 9.0.5008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">us_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">USD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">us_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">USD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">usd_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">USD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">usd_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">US Net Assets Value.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 9.0.5008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">cn_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">CNH Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts and futures accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">cn_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">CNH Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts and futures accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">cnh_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">CNH Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">cnh_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">CN Net Assets Value.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 9.0.5008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">jp_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">JPY Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency. </li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">jp_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">JPY Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">jpy_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">JPY Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">jpy_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">JP Net Assets Value.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 9.0.5008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">sg_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">SGD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">sg_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">SGD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">sgd_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">SGD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">sgd_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">SG Net Assets Value.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 9.0.5008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">au_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">AUD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts. </li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">au_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">AUD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts. </li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">aud_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">AUD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">aud_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">AU Net Assets Value.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 9.0.5008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">pdt_seq</td> <td style="text-align:left;">string</td> <td style="text-align:left;">Day Trades Left. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">is_pdt</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is it marked as a PDT. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">True: It is a PDT.  False: Not a PDT.<br>Only applicable to securities accounts of Moomoo US.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">beginning_dtbp</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Beginning DTBP. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">remaining_dtbp</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Remaining DTBP. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dt_call_amount</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Day-trading Call Amount. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dt_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#1018">DtStatus</a></td> <td style="text-align:left;">Day-trading Status. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr></tbody></table></li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
trd_ctx <span class="token operator">=</span> OpenSecTradeContext<span class="token punctuation">(</span>filter_trdmarket<span class="token operator">=</span>TrdMarket<span class="token punctuation">.</span>HK<span class="token punctuation">,</span> host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">,</span> security_firm<span class="token operator">=</span>SecurityFirm<span class="token punctuation">.</span>FUTUSECURITIES<span class="token punctuation">)</span>
ret<span class="token punctuation">,</span> data <span class="token operator">=</span> trd_ctx<span class="token punctuation">.</span>accinfo_query<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> ret <span class="token operator">==</span> RET_OK<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'power'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># Get the first buying power</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'power'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># convert to list</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'accinfo_query error: '</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
trd_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Close the current connection</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>power  max_power_short  net_cash_power  total_assets  securities_assets  fund_assets  bond_assets   cash   market_val      long_mv   short_mv  pending_asset  interest_charged_amount  frozen_cash  avl_withdrawal_cash  max_withdrawal currency available_funds unrealized_pl realized_pl risk_level risk_status  initial_margin  margin_call_margin  maintenance_margin  hk_cash  hk_avl_withdrawal_cash  hkd_net_cash_power  hkd_assets  us_cash  us_avl_withdrawal_cash  usd_net_cash_power  usd_assets  cn_cash  cn_avl_withdrawal_cash  cnh_net_cash_power  cnh_assets  jp_cash  jp_avl_withdrawal_cash  jpy_net_cash_power jpy_assets  sg_cash sg_avl_withdrawal_cash sgd_net_cash_power sgd_assets  au_cash au_avl_withdrawal_cash aud_net_cash_power aud_assets  is_pdt pdt_seq beginning_dtbp remaining_dtbp dt_call_amount dt_status
<span class="token number">0</span>  <span class="token number">465453.903307</span>    <span class="token number">465453.903307</span>             <span class="token number">0.0</span>   <span class="token number">289932.0404</span>        <span class="token number">197028.2204</span>     <span class="token number">92903.82</span>          <span class="token number">0.0</span>  <span class="token number">25.18</span>  <span class="token number">197003.0448</span>  <span class="token number">211960.7568</span> <span class="token operator">-</span><span class="token number">14957.712</span>            <span class="token number">0.0</span>                      <span class="token number">0.0</span>    <span class="token number">25.930845</span>                  <span class="token number">0.0</span>             <span class="token number">0.0</span>      HKD             N<span class="token operator">/</span>A           N<span class="token operator">/</span>A         N<span class="token operator">/</span>A        N<span class="token operator">/</span>A      LEVEL3   <span class="token number">219346.648525</span>       <span class="token number">288656.787955</span>       <span class="token number">181250.967601</span>      <span class="token number">0.0</span>                     <span class="token number">0.0</span>          <span class="token number">13225.7955</span>     <span class="token number">0.0</span>   <span class="token number">3.24</span>                     <span class="token number">0.0</span>           <span class="token number">9656.4365</span>      <span class="token number">0.0</span>    <span class="token number">0.0</span>                     <span class="token number">0.0</span>                 <span class="token number">0.0</span>    <span class="token number">0.0</span>      <span class="token number">0.0</span>                     <span class="token number">0.0</span>                 <span class="token number">0.0</span>     <span class="token number">0.0</span>    N<span class="token operator">/</span>A                    N<span class="token operator">/</span>A                N<span class="token operator">/</span>A     <span class="token number">0.0</span>    N<span class="token operator">/</span>A                    N<span class="token operator">/</span>A                N<span class="token operator">/</span>A    <span class="token number">0.0</span>        N<span class="token operator">/</span>A     N<span class="token operator">/</span>A            N<span class="token operator">/</span>A            N<span class="token operator">/</span>A            N<span class="token operator">/</span>A       N<span class="token operator">/</span>A
<span class="token number">465453.903307</span>
<span class="token punctuation">[</span><span class="token number">465453.903307</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="tab-content" style="display:none;"><h2 id="5465"><a href="#5465" class="header-anchor">#</a> Trd_GetFunds.proto</h2> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><p><strong>Protocol ID</strong></p> <p>2101</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>uint GetFunds(TrdGetFunds.Request req);</code><br> <code>virtual void OnReply_GetFunds(FTAPI_Conn client, uint nSerialNo, ${proto_name.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">FTSPI_Trd</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Trd</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FTAPI_Trd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        trd<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        trd<span class="token punctuation">.</span><span class="token function">SetTrdCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> TrdCommon<span class="token punctuation">.</span>TrdHeader<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetAccID</span><span class="token punctuation">(</span><span class="token number">281756455988247915L</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetTrdEnv</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>TrdCommon<span class="token punctuation">.</span>TrdEnv<span class="token punctuation">.</span>TrdEnv_Real<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetTrdMarket</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>TrdCommon<span class="token punctuation">.</span>TrdMarket<span class="token punctuation">.</span>TrdMarket_HK<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>C2S</span> c2s <span class="token operator">=</span> TrdGetFunds<span class="token punctuation">.</span>C2S<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetCurrency</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>TrdCommon<span class="token punctuation">.</span>Currency<span class="token punctuation">.</span>Currency_HKD<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetHeader</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> TrdGetFunds<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">uint</span></span> seqNo <span class="token operator">=</span> trd<span class="token punctuation">.</span><span class="token function">GetFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Send TrdGetFunds: {0}\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnReply_GetFunds</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">uint</span></span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Reply: TrdGetFunds: {0}\n&quot;</span><span class="token punctuation">,</span> nSerialNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;OnReply_GetFunds: {0}\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span>S2C<span class="token punctuation">.</span><span class="token function">ToJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        FTAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Program</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        trd<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">Trd</span> onInitConnect<span class="token punctuation">:</span> ret <span class="token operator">=</span> <span class="token number">0</span> desc <span class="token operator">=</span> connID <span class="token operator">=</span> <span class="token number">7257654332030703443</span>
<span class="token class-name">Send</span> TrdGetFunds<span class="token punctuation">:</span> <span class="token number">4</span>
Reply<span class="token punctuation">:</span> TrdGetFunds<span class="token punctuation">:</span> <span class="token number">4</span>
OnReply_GetFunds<span class="token punctuation">:</span> <span class="token punctuation">{</span>
	<span class="token string">&quot;header&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;trdEnv&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token string">&quot;accID&quot;</span><span class="token punctuation">:</span> <span class="token number">283726802395277157</span><span class="token punctuation">,</span>
		<span class="token string">&quot;trdMarket&quot;</span><span class="token punctuation">:</span> <span class="token number">6</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string">&quot;funds&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;power&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61116601</span><span class="token punctuation">,</span>
		<span class="token string">&quot;totalAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">152909.6564</span><span class="token punctuation">,</span>
		<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">3586.52</span><span class="token punctuation">,</span>
		<span class="token string">&quot;marketVal&quot;</span><span class="token punctuation">:</span> <span class="token number">156496.1717</span><span class="token punctuation">,</span>
		<span class="token string">&quot;frozenCash&quot;</span><span class="token punctuation">:</span> <span class="token number">665.78224097</span><span class="token punctuation">,</span>
		<span class="token string">&quot;debtCash&quot;</span><span class="token punctuation">:</span> <span class="token number">22533.9124353</span><span class="token punctuation">,</span>
		<span class="token string">&quot;avlWithdrawalCash&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61</span><span class="token punctuation">,</span>
		<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token string">&quot;initialMargin&quot;</span><span class="token punctuation">:</span> <span class="token number">113686.06186064694</span><span class="token punctuation">,</span>
		<span class="token string">&quot;maintenanceMargin&quot;</span><span class="token punctuation">:</span> <span class="token number">107790.01800335373</span><span class="token punctuation">,</span>
		<span class="token string">&quot;cashInfoList&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token number">9190.04</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61116601</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">836.36</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token number">1245.03</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">17.97126495</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">3070.32</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">68314</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token string">&quot;maxPowerShort&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61116601</span><span class="token punctuation">,</span>
		<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token string">&quot;longMv&quot;</span><span class="token punctuation">:</span> <span class="token number">111306.2256</span><span class="token punctuation">,</span>
		<span class="token string">&quot;shortMv&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">8875.8239</span><span class="token punctuation">,</span>
		<span class="token string">&quot;pendingAsset&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token string">&quot;riskStatus&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
		<span class="token string">&quot;marginCallMargin&quot;</span><span class="token punctuation">:</span> <span class="token number">111801.53345828</span><span class="token punctuation">,</span>
		<span class="token string">&quot;securitiesAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">98843.8864</span><span class="token punctuation">,</span>
		<span class="token string">&quot;fundAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">54065.77</span><span class="token punctuation">,</span>
		<span class="token string">&quot;bondAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>int getFunds(TrdGetFunds.Request req);</code><br> <code>void onReply_GetFunds(FTAPI_Conn client, int nSerialNo, ${proto_name.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts. data. Obtain fund data such as the net asset value of the account, the market value of securities, cash, and purchasing power.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TrdDemo</span> <span class="token keyword">implements</span> <span class="token class-name">FTSPI_Trd</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Conn_Trd</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FTAPI_Conn_Trd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">TrdDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        trd<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        trd<span class="token punctuation">.</span><span class="token function">setTrdSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdHeader</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setAccID</span><span class="token punctuation">(</span><span class="token number">281756455988247915L</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setTrdEnv</span><span class="token punctuation">(</span><span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdEnv<span class="token punctuation">.</span>TrdEnv_Real_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setTrdMarket</span><span class="token punctuation">(</span><span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdMarket<span class="token punctuation">.</span>TrdMarket_HK_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds</span><span class="token punctuation">.</span><span class="token constant">C2S</span> c2s <span class="token operator">=</span> <span class="token class-name">TrdGetFunds</span><span class="token punctuation">.</span><span class="token constant">C2S</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setCurrency</span><span class="token punctuation">(</span><span class="token class-name">TrdCommon<span class="token punctuation">.</span>Currency<span class="token punctuation">.</span>Currency_HKD_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Request</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> seqNo <span class="token operator">=</span> trd<span class="token punctuation">.</span><span class="token function">getFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Send TrdGetFunds: %d\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReply_GetFunds</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">int</span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rsp<span class="token punctuation">.</span><span class="token function">getRetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;TrdGetFunds failed: %s\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span><span class="token function">getRetMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token class-name">JsonFormat</span><span class="token punctuation">.</span><span class="token function">printer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>rsp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Receive TrdGetFunds: %s\n&quot;</span><span class="token punctuation">,</span> json<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InvalidProtocolBufferException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">FTAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdDemo</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrdDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        trd<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Send TrdGetFunds: 2
Receive TrdGetFunds: {
  &quot;retType&quot;: 0,
  &quot;retMsg&quot;: &quot;&quot;,
  &quot;errCode&quot;: 0,
  &quot;s2c&quot;: {
    &quot;header&quot;: {
      &quot;trdEnv&quot;: 1,
      &quot;accID&quot;: &quot;281756455988247915&quot;,
      &quot;trdMarket&quot;: 1
    },
    &quot;funds&quot;: {
        &quot;power&quot;: 0.61760332
        &quot;totalAssets&quot;: 15222.3336
        &quot;cash&quot;: -19.83
        &quot;marketVal&quot;: 15242.1666
        &quot;frozenCash&quot;: 158.34982707
        &quot;debtCash&quot;: 2644.58147475
        &quot;avlWithdrawalCash&quot;: 1.24
        &quot;currency&quot;: 1
        &quot;initialMargin&quot;: 14904.738361057309
        &quot;maintenanceMargin&quot;: 14805.9362278707
        &quot;cashInfoList&quot; {
        &quot;currency&quot;: 2
        &quot;cash&quot;: -95.36
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 0
        &quot;cash&quot;: 0.0
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 1
        &quot;cash&quot;: -1097.43
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 4
        &quot;cash&quot;: -10267.0
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 3
        &quot;cash&quot;: 2049.58
        &quot;availableBalance&quot;: 0.6
        &quot;netCashPower&quot;: 0.60345798
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 5
        &quot;cash&quot;: 18.62
        &quot;availableBalance&quot;: 0.1
        &quot;netCashPower&quot;: 0.10953234
        }
        &quot;maxPowerShort&quot;: 0.61760332
        &quot;netCashPower&quot;: 0.0
        &quot;longMv&quot;: 1436.1127
        &quot;shortMv&quot;: -168.096
        &quot;pendingAsset&quot;: 0.0
        &quot;riskStatus&quot;: 3
        &quot;marginCallMargin&quot;: 14835.22139711
        &quot;securitiesAssets&quot;: 1248.1836
        &quot;fundAssets&quot;: 13974.15
        &quot;bondAssets&quot;: 0.0
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>Futu::u32_t GetFunds(const Trd_GetFunds::Request &amp;stReq);</code><br> <code>virtual void OnReply_GetFunds(Futu::u32_t nSerialNo, const Trd_GetFunds::Response &amp;stRsp) = 0;</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">FTSPI_Trd</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">FTSPI_Conn</span></span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>

	<span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pTrdApi <span class="token operator">=</span> <span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateTrdApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">RegisterTrdSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">RegisterConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>m_pTrdApi <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">UnregisterTrdSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">UnregisterConnSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseTrdApi</span><span class="token punctuation">(</span>m_pTrdApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pTrdApi <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span>FTAPI_Conn<span class="token operator">*</span> pConn<span class="token punctuation">,</span> Futu<span class="token double-colon punctuation">::</span>i64_t nErrCode<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> strDesc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;connect&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		<span class="token comment">// construct request message</span>
		Trd_GetFunds<span class="token double-colon punctuation">::</span>Request req<span class="token punctuation">;</span>
		Trd_GetFunds<span class="token double-colon punctuation">::</span>C2S <span class="token operator">*</span>c2s <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">mutable_c2s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Trd_Common<span class="token double-colon punctuation">::</span>TrdHeader <span class="token operator">*</span>header <span class="token operator">=</span> c2s<span class="token operator">-&gt;</span><span class="token function">mutable_header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		header<span class="token operator">-&gt;</span><span class="token function">set_accid</span><span class="token punctuation">(</span><span class="token number">3637840</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		header<span class="token operator">-&gt;</span><span class="token function">set_trdenv</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		header<span class="token operator">-&gt;</span><span class="token function">set_trdmarket</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        m_GetFundsSerialNo <span class="token operator">=</span> m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">GetFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Request GetFunds SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> m_GetFundsSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnReply_GetFunds</span><span class="token punctuation">(</span>Futu<span class="token double-colon punctuation">::</span>u32_t nSerialNo<span class="token punctuation">,</span> <span class="token keyword">const</span> Trd_GetFunds<span class="token double-colon punctuation">::</span>Response <span class="token operator">&amp;</span>stRsp<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nSerialNo <span class="token operator">==</span> m_GetFundsSerialNo<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;OnReply_GetFunds SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> nSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
			<span class="token comment">// print response</span>
			<span class="token comment">// ProtoBufToBodyData and UTF8ToLocal refer to tool.h in Samples</span>
            string resp_str<span class="token punctuation">;</span>
            <span class="token function">ProtoBufToBodyData</span><span class="token punctuation">(</span>stRsp<span class="token punctuation">,</span> resp_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token function">UTF8ToLocal</span><span class="token punctuation">(</span>resp_str<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
	FTAPI_Trd <span class="token operator">*</span>m_pTrdApi<span class="token punctuation">;</span>

    Futu<span class="token double-colon punctuation">::</span>u32_t m_GetFundsSerialNo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int32_t</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int32_t</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">{</span>
		Program program<span class="token punctuation">;</span>
		program<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	protobuf<span class="token double-colon punctuation">::</span><span class="token function">ShutdownProtobufLibrary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">UnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>connect
Request GetFunds SerialNo: 4
OnReply_GetFunds SerialNo: 4
{
    &quot;retType&quot;: 0,
    &quot;retMsg&quot;: &quot;&quot;,
    &quot;errCode&quot;: 0,
    &quot;s2c&quot;: {
        &quot;header&quot;: {
        &quot;trdEnv&quot;: 1,
        &quot;accID&quot;: &quot;281756455988247915&quot;,
        &quot;trdMarket&quot;: 1
        },
        &quot;funds&quot;: {
            &quot;power&quot;: 0.61760332
            &quot;totalAssets&quot;: 15222.3336
            &quot;cash&quot;: -19.83
            &quot;marketVal&quot;: 15242.1666
            &quot;frozenCash&quot;: 158.34982707
            &quot;debtCash&quot;: 2644.58147475
            &quot;avlWithdrawalCash&quot;: 1.24
            &quot;currency&quot;: 1
            &quot;initialMargin&quot;: 14904.738361057309
            &quot;maintenanceMargin&quot;: 14805.9362278707
            &quot;cashInfoList&quot; {
            &quot;currency&quot;: 2
            &quot;cash&quot;: -95.36
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 0
            &quot;cash&quot;: 0.0
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 1
            &quot;cash&quot;: -1097.43
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 4
            &quot;cash&quot;: -10267.0
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 3
            &quot;cash&quot;: 2049.58
            &quot;availableBalance&quot;: 0.6
            &quot;netCashPower&quot;: 0.60345798
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 5
            &quot;cash&quot;: 18.62
            &quot;availableBalance&quot;: 0.1
            &quot;netCashPower&quot;: 0.10953234
            }
            &quot;maxPowerShort&quot;: 0.61760332
            &quot;netCashPower&quot;: 0.0
            &quot;longMv&quot;: 1436.1127
            &quot;shortMv&quot;: -168.096
            &quot;pendingAsset&quot;: 0.0
            &quot;riskStatus&quot;: 3
            &quot;marginCallMargin&quot;: 14835.22139711
            &quot;securitiesAssets&quot;: 1248.1836
            &quot;fundAssets&quot;: 13974.15
            &quot;bondAssets&quot;: 0.0
        }
    }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>GetFunds(req);</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> ftWebsocket <span class="token keyword">from</span> <span class="token string">&quot;futu-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ftCmdID <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;futu-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Common<span class="token punctuation">,</span> Qot_Common<span class="token punctuation">,</span> Trd_Common <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;futu-api/proto&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> beautify <span class="token keyword">from</span> <span class="token string">&quot;js-beautify&quot;</span><span class="token punctuation">;</span>

<span class="token function">TrdGetFunds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> RetType <span class="token punctuation">}</span> <span class="token operator">=</span> Common
    <span class="token keyword">const</span> <span class="token punctuation">{</span> TrdEnv <span class="token punctuation">}</span> <span class="token operator">=</span> Trd_Common
    <span class="token keyword">let</span> <span class="token punctuation">[</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'7522027ccf5a06b1'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebsocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function-variable function">onlogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            websocket<span class="token punctuation">.</span><span class="token function">GetAccList</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">c2s</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">userID</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> <span class="token punctuation">{</span> retType<span class="token punctuation">,</span> <span class="token literal-property property">s2c</span><span class="token operator">:</span> <span class="token punctuation">{</span> accList <span class="token punctuation">}</span>  <span class="token punctuation">}</span> <span class="token operator">=</span> res
                <span class="token keyword">if</span><span class="token punctuation">(</span>retType <span class="token operator">==</span> RetType<span class="token punctuation">.</span>RetType_Succeed<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">let</span> acc <span class="token operator">=</span> accList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
                        <span class="token keyword">return</span> item<span class="token punctuation">.</span>trdEnv <span class="token operator">==</span> TrdEnv<span class="token punctuation">.</span>TrdEnv_Simulate <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>trdMarketAuthList<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">auth</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token keyword">return</span> auth <span class="token operator">==</span> TrdMarket<span class="token punctuation">.</span>TrdMarket_HK<span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// The sample takes the first HK paper trading environment account</span>

                    <span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">c2s</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">trdEnv</span><span class="token operator">:</span> acc<span class="token punctuation">.</span>trdEnv<span class="token punctuation">,</span>
                                <span class="token literal-property property">accID</span><span class="token operator">:</span> acc<span class="token punctuation">.</span>accID<span class="token punctuation">,</span>
                                <span class="token literal-property property">trdMarket</span><span class="token operator">:</span> acc<span class="token punctuation">.</span>trdMarketAuthList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">;</span>

                    websocket<span class="token punctuation">.</span><span class="token function">GetFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">let</span> <span class="token punctuation">{</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">,</span>s2c <span class="token punctuation">}</span> <span class="token operator">=</span> res
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;GetFunds: errCode %d, retMsg %s, retType %d&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                        <span class="token keyword">if</span><span class="token punctuation">(</span>retType <span class="token operator">==</span> RetType<span class="token punctuation">.</span>RetType_Succeed<span class="token punctuation">)</span><span class="token punctuation">{</span>
                            <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token function">beautify</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>s2c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">indent_size</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">space_in_empty_paren</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;GetAccList error:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// After using the connection, remember to close it to prevent the number of connections from running out</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
        websocket<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the script to receive OpenD push duration to 5 seconds</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">GetFunds</span><span class="token operator">:</span> errCode <span class="token number">0</span><span class="token punctuation">,</span> retMsg <span class="token punctuation">,</span> retType <span class="token number">0</span>
<span class="token punctuation">{</span>
    <span class="token string-property property">&quot;header&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;trdEnv&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;accID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;281756455988247915&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;trdMarket&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;funds&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;power&quot;</span><span class="token operator">:</span> <span class="token number">0.61760332</span>
        <span class="token string-property property">&quot;totalAssets&quot;</span><span class="token operator">:</span> <span class="token number">15222.3336</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">19.83</span>
        <span class="token string-property property">&quot;marketVal&quot;</span><span class="token operator">:</span> <span class="token number">15242.1666</span>
        <span class="token string-property property">&quot;frozenCash&quot;</span><span class="token operator">:</span> <span class="token number">158.34982707</span>
        <span class="token string-property property">&quot;debtCash&quot;</span><span class="token operator">:</span> <span class="token number">2644.58147475</span>
        <span class="token string-property property">&quot;avlWithdrawalCash&quot;</span><span class="token operator">:</span> <span class="token number">1.24</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token string-property property">&quot;initialMargin&quot;</span><span class="token operator">:</span> <span class="token number">14904.738361057309</span>
        <span class="token string-property property">&quot;maintenanceMargin&quot;</span><span class="token operator">:</span> <span class="token number">14805.9362278707</span>
        <span class="token string">&quot;cashInfoList&quot;</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">95.36</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1097.43</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10267.0</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token number">2049.58</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.6</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.60345798</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token number">18.62</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.10953234</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;maxPowerShort&quot;</span><span class="token operator">:</span> <span class="token number">0.61760332</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;longMv&quot;</span><span class="token operator">:</span> <span class="token number">1436.1127</span>
        <span class="token string-property property">&quot;shortMv&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">168.096</span>
        <span class="token string-property property">&quot;pendingAsset&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;riskStatus&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token string-property property">&quot;marginCallMargin&quot;</span><span class="token operator">:</span> <span class="token number">14835.22139711</span>
        <span class="token string-property property">&quot;securitiesAssets&quot;</span><span class="token operator">:</span> <span class="token number">1248.1836</span>
        <span class="token string-property property">&quot;fundAssets&quot;</span><span class="token operator">:</span> <span class="token number">13974.15</span>
        <span class="token string-property property">&quot;bondAssets&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
stop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div></div></div> <div class="custom-block tip"><p class="custom-block-title">Interface Limitations</p> <ul><li>A maximum of 10 requests per 30 seconds under a single account ID (acc_id).</li> <li>It will be restricted by the frequency limit for this interface, only when refresh_cache is True</li></ul></div></div><div class="tab-content" style="display:;"><div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>accinfo_query(trd_env=TrdEnv.REAL, acc_id=0, acc_index=0, refresh_cache=False, currency=Currency.HKD)</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">trd_env</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#48">TrdEnv</a></td> <td style="text-align:left;">Trading environment</td></tr> <tr><td style="text-align:left;">acc_id</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Trading account ID. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>When acc_id is 0, the account specified by acc_index is chosen.</li><li> When acc_id is set the ID number (not 0), the account specified by acc_id is chosen.</li><li>Using acc_id to query and trade is strongly recommended, acc_index will change when adding/closing an account, result in the account you specify is inconsistent with the actual trading account.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">acc_index</td> <td style="text-align:left;">int</td> <td style="text-align:left;">The account number in the trading account list. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">The default is 0, which means the first trading account.</div></div></div></div></td></tr> <tr><td style="text-align:left;">refresh_cache</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Whether to refresh the cache. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>True: Re-request data from the moomoo server immediately, without using the OpenD cache. At this time, it will be restricted by the interface frequency limit. </li><li>False: Use OpenD's cache (The cache needs to be refreshed if it is not updated in rare circumstances.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">currency</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></td> <td style="text-align:left;">The display currency of the funds. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts and futures accounts, other single-market accounts will ignore this parameter.</li><li>In the returned DataFrame, all fund-related fields can be converted with this parameter, except for the fields that explicitly specify the currency.</li></ul></div></div></div></div></td></tr></tbody></table></li></ul> <ul><li><p><strong>Return</strong></p> <table><tr><th>Field</th> <th>Type</th> <th>Description</th></tr> <tr><td>ret</td> <td><a href="../ftapi/common.html#8800"> RET_CODE</a></td> <td>Interface result.</td></tr> <tr><td rowspan="2">data</td> <td>pd.DataFrame</td> <td>If ret == RET_OK, fund data is returned.</td></tr> <tr><td>str</td> <td>If ret != RET_OK, error description is returned.</td></tr></table> <ul><li>Fund data format as follows:
<table><thead><tr><th style="text-align:left;">Field</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Maximum Buying Power. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the <em>approximate value</em> calculated according to the marginable initial margin of 50%. But in fact, this ratio of each financial contract is not the same. We recommend using <em><strong>Buy on margin</strong></em>, returned by <a href="/moomoo-api-doc/en/trade/get-max-trd-qtys.html">Query the Maximum Quantity that Can be Bought or Sold</a>, to get the maximum quantity can buy. </li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">max_power_short</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Short Buying Power. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the <em>approximate value</em> calculated according to the shortable initial margin of 60%. But in fact, this ratio of each financial contract is not the same. We recommend using <em><strong>Short sell</strong></em>, returned by <a href="/moomoo-api-doc/en/trade/get-max-trd-qtys.html">Query the Maximum Quantity that Can be Bought or Sold</a>, to get the maximum quantity can be shorted. </li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Cash Buying Power. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Obsolete. Please use 'us_net_cash_power' or other fields to get the cash buying power of each currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">total_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Total Net Assets.<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Total Net Assets = Security Assets + Fund Assets + Bond Assets </div></div></div></div></td></tr> <tr><td style="text-align:left;">securities_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Security Assets<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Minimum OpenD version requirements: 8.2.4218.</div></div></div></div></td></tr> <tr><td style="text-align:left;">fund_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Fund Assets<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Universal accounts will return the total fund assets value. Currently, it does not support for HKD fund and USD fund assets value. </li><li>Minimum OpenD version requirements: 8.2.4218.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">bond_assets</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Bond Assets<div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Minimum OpenD version requirements: 8.2.4218.</div></div></div></div></td></tr> <tr><td style="text-align:left;">cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Obsolete. Please use 'us_cash' or other fields to get the cash of each currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">market_val</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Securities Market Value. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">long_mv</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Long Market Value.</td></tr> <tr><td style="text-align:left;">short_mv</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Short Market Value.</td></tr> <tr><td style="text-align:left;">pending_asset</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Asset in Transit.</td></tr> <tr><td style="text-align:left;">interest_charged_amount</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Interest Charged Amount.</td></tr> <tr><td style="text-align:left;">frozen_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Funds on Hold.</td></tr> <tr><td style="text-align:left;">avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">max_withdrawal</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Maximum Withdrawal. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to securities accounts of FUTU HK</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">currency</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></td> <td style="text-align:left;">The currency used for this query. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to universal securities accounts and futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">available_funds</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Available funds. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">unrealized_pl</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Unrealized gain or loss. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">realized_pl</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Realized gain or loss. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">risk_level</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#428">CltRiskLevel</a></td> <td style="text-align:left;">Risk control level. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to futures accounts. It is recommanded to use risk_status field to get the risk status of securities accounts or futures accounts.</div></div></div></div></td></tr> <tr><td style="text-align:left;">risk_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#7469">CltRiskStatus</a></td> <td style="text-align:left;">Risk status. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Applicable to securities accounts and futures accounts.</li><li>Divided into 9 grades, <code>LEVEL1</code> is the safest and <code>LEVEL9</code> is the most dangerous.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">initial_margin</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Initial Margin. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to futures accounts.</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">margin_call_margin</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Margin-call Margin.</td></tr> <tr><td style="text-align:left;">maintenance_margin</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Maintenance Margin.</td></tr> <tr><td style="text-align:left;">hk_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">HKD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">hk_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">HKD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">us_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">USD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">us_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">USD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">This field is the real value of this currency, instead of the value denominated in this currency.</div></div></div></div></td></tr> <tr><td style="text-align:left;">jp_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">JPY Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency. </li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">jp_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">JPY Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">pdt_seq</td> <td style="text-align:left;">string</td> <td style="text-align:left;">Day Trades Left. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">is_pdt</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Is it marked as a PDT. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">True: It is a PDT.  False: Not a PDT.<br>Only applicable to securities accounts of Moomoo US.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">beginning_dtbp</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Beginning DTBP. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">remaining_dtbp</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Remaining DTBP. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dt_call_amount</td> <td style="text-align:left;">float</td> <td style="text-align:left;">Day-trading Call Amount. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">dt_status</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/trade.html#1018">DtStatus</a></td> <td style="text-align:left;">Day-trading Status. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content">Only applicable to securities accounts of Moomoo US marked as a PDT.<br>Minimum OpenD version requirements: 5.8.2008.</div></div></div></div></td></tr> <tr><td style="text-align:left;">cn_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">CNH Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts and futures accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">cn_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">CNH Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts and futures accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">sg_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">SGD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">sg_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">SGD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts.</li><li>This field is the real value of this currency, instead of the value denominated in this currency .</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">au_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">AUD Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts. </li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">au_avl_withdrawal_cash</td> <td style="text-align:left;">float</td> <td style="text-align:left;">AUD Withdrawable Cash. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>Only applicable to universal securities accounts. </li><li>Minimum Futu API version requirements: 5.8.2008</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">hkd_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">HKD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">usd_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">USD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">jpy_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">JPY Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">cnh_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">CNH Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">sgd_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">SGD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr> <tr><td style="text-align:left;">aud_net_cash_power</td> <td style="text-align:left;">float</td> <td style="text-align:left;">AUD Cash Buying Power.  <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>This field is the real value of this currency, instead of the value denominated in this currency.</li><li>Minimum version requirements: 8.7</li></ul></div></div></div></div></td></tr></tbody></table></li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
trd_ctx <span class="token operator">=</span> OpenSecTradeContext<span class="token punctuation">(</span>filter_trdmarket<span class="token operator">=</span>TrdMarket<span class="token punctuation">.</span>US<span class="token punctuation">,</span> host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">,</span> security_firm<span class="token operator">=</span>SecurityFirm<span class="token punctuation">.</span>FUTUINC<span class="token punctuation">)</span>
ret<span class="token punctuation">,</span> data <span class="token operator">=</span> trd_ctx<span class="token punctuation">.</span>accinfo_query<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> ret <span class="token operator">==</span> RET_OK<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'power'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># Get the first buying power</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'power'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># convert to list</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'accinfo_query error: '</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
trd_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Close the current connection</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><p><strong>Output</strong></p></li> <li><p><strong>Output</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>power  max_power_short  net_cash_power  total_assets  securities_assets  fund_assets  bond_assets   cash   market_val      long_mv   short_mv  pending_asset  interest_charged_amount  frozen_cash  avl_withdrawal_cash  max_withdrawal currency available_funds unrealized_pl realized_pl risk_level risk_status  initial_margin  margin_call_margin  maintenance_margin  hk_cash  hk_avl_withdrawal_cash  hkd_net_cash_power  hkd_assets  us_cash  us_avl_withdrawal_cash  usd_net_cash_power  usd_assets  cn_cash  cn_avl_withdrawal_cash  cnh_net_cash_power  cnh_assets  jp_cash  jp_avl_withdrawal_cash  jpy_net_cash_power jpy_assets  sg_cash sg_avl_withdrawal_cash sgd_net_cash_power sgd_assets  au_cash au_avl_withdrawal_cash aud_net_cash_power aud_assets  is_pdt pdt_seq beginning_dtbp remaining_dtbp dt_call_amount dt_status
<span class="token number">0</span>  <span class="token number">465453.903307</span>    <span class="token number">465453.903307</span>             <span class="token number">0.0</span>   <span class="token number">289932.0404</span>        <span class="token number">197028.2204</span>     <span class="token number">92903.82</span>          <span class="token number">0.0</span>  <span class="token number">25.18</span>  <span class="token number">197003.0448</span>  <span class="token number">211960.7568</span> <span class="token operator">-</span><span class="token number">14957.712</span>            <span class="token number">0.0</span>                      <span class="token number">0.0</span>    <span class="token number">25.930845</span>                  <span class="token number">0.0</span>             <span class="token number">0.0</span>      HKD             N<span class="token operator">/</span>A           N<span class="token operator">/</span>A         N<span class="token operator">/</span>A        N<span class="token operator">/</span>A      LEVEL3   <span class="token number">219346.648525</span>       <span class="token number">288656.787955</span>       <span class="token number">181250.967601</span>      <span class="token number">0.0</span>                     <span class="token number">0.0</span>          <span class="token number">13225.7955</span>     <span class="token number">0.0</span>   <span class="token number">3.24</span>                     <span class="token number">0.0</span>           <span class="token number">9656.4365</span>      <span class="token number">0.0</span>    <span class="token number">0.0</span>                     <span class="token number">0.0</span>                 <span class="token number">0.0</span>    <span class="token number">0.0</span>      <span class="token number">0.0</span>                     <span class="token number">0.0</span>                 <span class="token number">0.0</span>     <span class="token number">0.0</span>    N<span class="token operator">/</span>A                    N<span class="token operator">/</span>A                N<span class="token operator">/</span>A     <span class="token number">0.0</span>    N<span class="token operator">/</span>A                    N<span class="token operator">/</span>A                N<span class="token operator">/</span>A    <span class="token number">0.0</span>        N<span class="token operator">/</span>A     N<span class="token operator">/</span>A            N<span class="token operator">/</span>A            N<span class="token operator">/</span>A            N<span class="token operator">/</span>A       N<span class="token operator">/</span>A
<span class="token number">465453.903307</span>
<span class="token punctuation">[</span><span class="token number">465453.903307</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="tab-content" style="display:none;"><h2 id="5465-2"><a href="#5465-2" class="header-anchor">#</a> Trd_GetFunds.proto</h2> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><p><strong>Protocol ID</strong></p> <p>2101</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>uint GetFunds(TrdGetFunds.Request req);</code><br> <code>virtual void OnReply_GetFunds(MMAPI_Conn client, uint nSerialNo, ${proto_name.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MMSPI_Trd</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Trd</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MMAPI_Trd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        trd<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        trd<span class="token punctuation">.</span><span class="token function">SetTrdCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> TrdCommon<span class="token punctuation">.</span>TrdHeader<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetAccID</span><span class="token punctuation">(</span><span class="token number">281756455988247915L</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetTrdEnv</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>TrdCommon<span class="token punctuation">.</span>TrdEnv<span class="token punctuation">.</span>TrdEnv_Real<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetTrdMarket</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>TrdCommon<span class="token punctuation">.</span>TrdMarket<span class="token punctuation">.</span>TrdMarket_HK<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>C2S</span> c2s <span class="token operator">=</span> TrdGetFunds<span class="token punctuation">.</span>C2S<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetCurrency</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>TrdCommon<span class="token punctuation">.</span>Currency<span class="token punctuation">.</span>Currency_HKD<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetHeader</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> TrdGetFunds<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">uint</span></span> seqNo <span class="token operator">=</span> trd<span class="token punctuation">.</span><span class="token function">GetFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Send TrdGetFunds: {0}\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnReply_GetFunds</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">uint</span></span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Reply: TrdGetFunds: {0}\n&quot;</span><span class="token punctuation">,</span> nSerialNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;OnReply_GetFunds: {0}\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span>S2C<span class="token punctuation">.</span><span class="token function">ToJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        MMAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Program</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        trd<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">Trd</span> onInitConnect<span class="token punctuation">:</span> ret <span class="token operator">=</span> <span class="token number">0</span> desc <span class="token operator">=</span> connID <span class="token operator">=</span> <span class="token number">7257654332030703443</span>
<span class="token class-name">Send</span> TrdGetFunds<span class="token punctuation">:</span> <span class="token number">4</span>
Reply<span class="token punctuation">:</span> TrdGetFunds<span class="token punctuation">:</span> <span class="token number">4</span>
OnReply_GetFunds<span class="token punctuation">:</span> <span class="token punctuation">{</span>
	<span class="token string">&quot;header&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;trdEnv&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token string">&quot;accID&quot;</span><span class="token punctuation">:</span> <span class="token number">283726802395277157</span><span class="token punctuation">,</span>
		<span class="token string">&quot;trdMarket&quot;</span><span class="token punctuation">:</span> <span class="token number">6</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string">&quot;funds&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;power&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61116601</span><span class="token punctuation">,</span>
		<span class="token string">&quot;totalAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">152909.6564</span><span class="token punctuation">,</span>
		<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">3586.52</span><span class="token punctuation">,</span>
		<span class="token string">&quot;marketVal&quot;</span><span class="token punctuation">:</span> <span class="token number">156496.1717</span><span class="token punctuation">,</span>
		<span class="token string">&quot;frozenCash&quot;</span><span class="token punctuation">:</span> <span class="token number">665.78224097</span><span class="token punctuation">,</span>
		<span class="token string">&quot;debtCash&quot;</span><span class="token punctuation">:</span> <span class="token number">22533.9124353</span><span class="token punctuation">,</span>
		<span class="token string">&quot;avlWithdrawalCash&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61</span><span class="token punctuation">,</span>
		<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token string">&quot;initialMargin&quot;</span><span class="token punctuation">:</span> <span class="token number">113686.06186064694</span><span class="token punctuation">,</span>
		<span class="token string">&quot;maintenanceMargin&quot;</span><span class="token punctuation">:</span> <span class="token number">107790.01800335373</span><span class="token punctuation">,</span>
		<span class="token string">&quot;cashInfoList&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token number">9190.04</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61116601</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">836.36</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token number">1245.03</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">17.97126495</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">3070.32</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;currency&quot;</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
			<span class="token string">&quot;cash&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">68314</span><span class="token punctuation">,</span>
			<span class="token string">&quot;availableBalance&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
		<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token string">&quot;maxPowerShort&quot;</span><span class="token punctuation">:</span> <span class="token number">3030.61116601</span><span class="token punctuation">,</span>
		<span class="token string">&quot;netCashPower&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token string">&quot;longMv&quot;</span><span class="token punctuation">:</span> <span class="token number">111306.2256</span><span class="token punctuation">,</span>
		<span class="token string">&quot;shortMv&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">8875.8239</span><span class="token punctuation">,</span>
		<span class="token string">&quot;pendingAsset&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token string">&quot;riskStatus&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
		<span class="token string">&quot;marginCallMargin&quot;</span><span class="token punctuation">:</span> <span class="token number">111801.53345828</span><span class="token punctuation">,</span>
		<span class="token string">&quot;securitiesAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">98843.8864</span><span class="token punctuation">,</span>
		<span class="token string">&quot;fundAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">54065.77</span><span class="token punctuation">,</span>
		<span class="token string">&quot;bondAssets&quot;</span><span class="token punctuation">:</span> <span class="token number">0</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>int getFunds(TrdGetFunds.Request req);</code><br> <code>void onReply_GetFunds(MMAPI_Conn client, int nSerialNo, ${proto_name.Response rsp);</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts. data. Obtain fund data such as the net asset value of the account, the market value of securities, cash, and purchasing power.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TrdDemo</span> <span class="token keyword">implements</span> <span class="token class-name">MMSPI_Trd</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Conn_Trd</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MMAPI_Conn_Trd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">TrdDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        trd<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        trd<span class="token punctuation">.</span><span class="token function">setTrdSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        trd<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdHeader</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setAccID</span><span class="token punctuation">(</span><span class="token number">281756455988247915L</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setTrdEnv</span><span class="token punctuation">(</span><span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdEnv<span class="token punctuation">.</span>TrdEnv_Real_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setTrdMarket</span><span class="token punctuation">(</span><span class="token class-name">TrdCommon<span class="token punctuation">.</span>TrdMarket<span class="token punctuation">.</span>TrdMarket_HK_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds</span><span class="token punctuation">.</span><span class="token constant">C2S</span> c2s <span class="token operator">=</span> <span class="token class-name">TrdGetFunds</span><span class="token punctuation">.</span><span class="token constant">C2S</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setCurrency</span><span class="token punctuation">(</span><span class="token class-name">TrdCommon<span class="token punctuation">.</span>Currency<span class="token punctuation">.</span>Currency_HKD_VALUE</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Request</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> seqNo <span class="token operator">=</span> trd<span class="token punctuation">.</span><span class="token function">getFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Send TrdGetFunds: %d\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Trd onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReply_GetFunds</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">int</span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">TrdGetFunds<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rsp<span class="token punctuation">.</span><span class="token function">getRetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;TrdGetFunds failed: %s\n&quot;</span><span class="token punctuation">,</span> rsp<span class="token punctuation">.</span><span class="token function">getRetMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token class-name">JsonFormat</span><span class="token punctuation">.</span><span class="token function">printer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>rsp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Receive TrdGetFunds: %s\n&quot;</span><span class="token punctuation">,</span> json<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InvalidProtocolBufferException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">MMAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TrdDemo</span> trd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrdDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        trd<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Send TrdGetFunds: 2
Receive TrdGetFunds: {
  &quot;retType&quot;: 0,
  &quot;retMsg&quot;: &quot;&quot;,
  &quot;errCode&quot;: 0,
  &quot;s2c&quot;: {
    &quot;header&quot;: {
      &quot;trdEnv&quot;: 1,
      &quot;accID&quot;: &quot;281756455988247915&quot;,
      &quot;trdMarket&quot;: 1
    },
    &quot;funds&quot;: {
        &quot;power&quot;: 0.61760332
        &quot;totalAssets&quot;: 15222.3336
        &quot;cash&quot;: -19.83
        &quot;marketVal&quot;: 15242.1666
        &quot;frozenCash&quot;: 158.34982707
        &quot;debtCash&quot;: 2644.58147475
        &quot;avlWithdrawalCash&quot;: 1.24
        &quot;currency&quot;: 1
        &quot;initialMargin&quot;: 14904.738361057309
        &quot;maintenanceMargin&quot;: 14805.9362278707
        &quot;cashInfoList&quot; {
        &quot;currency&quot;: 2
        &quot;cash&quot;: -95.36
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 0
        &quot;cash&quot;: 0.0
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 1
        &quot;cash&quot;: -1097.43
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 4
        &quot;cash&quot;: -10267.0
        &quot;availableBalance&quot;: 0.0
        &quot;netCashPower&quot;: 0.0
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 3
        &quot;cash&quot;: 2049.58
        &quot;availableBalance&quot;: 0.6
        &quot;netCashPower&quot;: 0.60345798
        }
        &quot;cashInfoList&quot;: {
        &quot;currency&quot;: 5
        &quot;cash&quot;: 18.62
        &quot;availableBalance&quot;: 0.1
        &quot;netCashPower&quot;: 0.10953234
        }
        &quot;maxPowerShort&quot;: 0.61760332
        &quot;netCashPower&quot;: 0.0
        &quot;longMv&quot;: 1436.1127
        &quot;shortMv&quot;: -168.096
        &quot;pendingAsset&quot;: 0.0
        &quot;riskStatus&quot;: 3
        &quot;marginCallMargin&quot;: 14835.22139711
        &quot;securitiesAssets&quot;: 1248.1836
        &quot;fundAssets&quot;: 13974.15
        &quot;bondAssets&quot;: 0.0
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>moomoo::u32_t GetFunds(const Trd_GetFunds::Request &amp;stReq);</code><br> <code>virtual void OnReply_GetFunds(moomoo::u32_t nSerialNo, const Trd_GetFunds::Response &amp;stRsp) = 0;</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">MMSPI_Trd</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">MMSPI_Conn</span></span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>

	<span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pTrdApi <span class="token operator">=</span> <span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateTrdApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">RegisterTrdSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">RegisterConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>m_pTrdApi <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">UnregisterTrdSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">UnregisterConnSpi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseTrdApi</span><span class="token punctuation">(</span>m_pTrdApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
			m_pTrdApi <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">void</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span>MMAPI_Conn<span class="token operator">*</span> pConn<span class="token punctuation">,</span> moomoo<span class="token double-colon punctuation">::</span>i64_t nErrCode<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> strDesc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;connect&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		<span class="token comment">// construct request message</span>
		Trd_GetFunds<span class="token double-colon punctuation">::</span>Request req<span class="token punctuation">;</span>
		Trd_GetFunds<span class="token double-colon punctuation">::</span>C2S <span class="token operator">*</span>c2s <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">mutable_c2s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Trd_Common<span class="token double-colon punctuation">::</span>TrdHeader <span class="token operator">*</span>header <span class="token operator">=</span> c2s<span class="token operator">-&gt;</span><span class="token function">mutable_header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		header<span class="token operator">-&gt;</span><span class="token function">set_accid</span><span class="token punctuation">(</span><span class="token number">3637840</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		header<span class="token operator">-&gt;</span><span class="token function">set_trdenv</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		header<span class="token operator">-&gt;</span><span class="token function">set_trdmarket</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        m_GetFundsSerialNo <span class="token operator">=</span> m_pTrdApi<span class="token operator">-&gt;</span><span class="token function">GetFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Request GetFunds SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> m_GetFundsSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">OnReply_GetFunds</span><span class="token punctuation">(</span>moomoo<span class="token double-colon punctuation">::</span>u32_t nSerialNo<span class="token punctuation">,</span> <span class="token keyword">const</span> Trd_GetFunds<span class="token double-colon punctuation">::</span>Response <span class="token operator">&amp;</span>stRsp<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nSerialNo <span class="token operator">==</span> m_GetFundsSerialNo<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;OnReply_GetFunds SerialNo: &quot;</span> <span class="token operator">&lt;&lt;</span> nSerialNo <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
			<span class="token comment">// print response</span>
			<span class="token comment">// ProtoBufToBodyData and UTF8ToLocal refer to tool.h in Samples</span>
            string resp_str<span class="token punctuation">;</span>
            <span class="token function">ProtoBufToBodyData</span><span class="token punctuation">(</span>stRsp<span class="token punctuation">,</span> resp_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token function">UTF8ToLocal</span><span class="token punctuation">(</span>resp_str<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
	MMAPI_Trd <span class="token operator">*</span>m_pTrdApi<span class="token punctuation">;</span>

    moomoo<span class="token double-colon punctuation">::</span>u32_t m_GetFundsSerialNo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int32_t</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int32_t</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">{</span>
		Program program<span class="token punctuation">;</span>
		program<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	protobuf<span class="token double-colon punctuation">::</span><span class="token function">ShutdownProtobufLibrary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">UnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>connect
Request GetFunds SerialNo: 4
OnReply_GetFunds SerialNo: 4
{
    &quot;retType&quot;: 0,
    &quot;retMsg&quot;: &quot;&quot;,
    &quot;errCode&quot;: 0,
    &quot;s2c&quot;: {
        &quot;header&quot;: {
        &quot;trdEnv&quot;: 1,
        &quot;accID&quot;: &quot;281756455988247915&quot;,
        &quot;trdMarket&quot;: 1
        },
        &quot;funds&quot;: {
            &quot;power&quot;: 0.61760332
            &quot;totalAssets&quot;: 15222.3336
            &quot;cash&quot;: -19.83
            &quot;marketVal&quot;: 15242.1666
            &quot;frozenCash&quot;: 158.34982707
            &quot;debtCash&quot;: 2644.58147475
            &quot;avlWithdrawalCash&quot;: 1.24
            &quot;currency&quot;: 1
            &quot;initialMargin&quot;: 14904.738361057309
            &quot;maintenanceMargin&quot;: 14805.9362278707
            &quot;cashInfoList&quot; {
            &quot;currency&quot;: 2
            &quot;cash&quot;: -95.36
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 0
            &quot;cash&quot;: 0.0
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 1
            &quot;cash&quot;: -1097.43
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 4
            &quot;cash&quot;: -10267.0
            &quot;availableBalance&quot;: 0.0
            &quot;netCashPower&quot;: 0.0
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 3
            &quot;cash&quot;: 2049.58
            &quot;availableBalance&quot;: 0.6
            &quot;netCashPower&quot;: 0.60345798
            }
            &quot;cashInfoList&quot;: {
            &quot;currency&quot;: 5
            &quot;cash&quot;: 18.62
            &quot;availableBalance&quot;: 0.1
            &quot;netCashPower&quot;: 0.10953234
            }
            &quot;maxPowerShort&quot;: 0.61760332
            &quot;netCashPower&quot;: 0.0
            &quot;longMv&quot;: 1436.1127
            &quot;shortMv&quot;: -168.096
            &quot;pendingAsset&quot;: 0.0
            &quot;riskStatus&quot;: 3
            &quot;marginCallMargin&quot;: 14835.22139711
            &quot;securitiesAssets&quot;: 1248.1836
            &quot;fundAssets&quot;: 13974.15
            &quot;bondAssets&quot;: 0.0
        }
    }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>GetFunds(req);</code></p> <ul><li><p><strong>Description</strong></p> <p>Query fund data such as net asset value, securities market value, cash, and purchasing power of trading accounts.</p></li> <li><p><strong>Parameters</strong></p></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> refreshCache <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//If explicitly set to true, force to update the cache of OpenD. Otherwise just return the local cached data of OpenD.</span>
    <span class="token comment">//Under normal circumstances,  the cached data of OpenD is in sync with server, so there is no need to force an update. It's faster to use the local cached data, and will not cause any pressure on server.</span>
    <span class="token comment">//If you encounter packet loss, etc., the cached data may be inconsistent with the server. If the user finds that the data is not the latest, they can set this flag to true to update the cache and get latest data.</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> currency <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Currency type, see Trd_Common.Currency. Only required for universal securities accounts and futures accounts, other accounts are ignored</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Request</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">C2S</span> c2s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of currency type, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1655">Currency</a></li></ul></blockquote> <ul><li><strong>Return</strong></li></ul> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>TrdHeader</span> header <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Transaction common header</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">Trd_Common<span class="token punctuation">.</span>Funds</span> funds <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Account funds</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token comment">//The following 3 fields are available in all protocols, and the notes are in InitConnect.proto</span>
	<span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>For protocol header, refer to <a href="/moomoo-api-doc/en/trade/trade.html#8729">TrdHeader</a></li> <li>For structure of account funds, refer to <a href="/moomoo-api-doc/en/trade/trade.html#1356">Funds</a></li> <li>For interface result, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#8800">RetType</a></li></ul></blockquote> <ul><li><strong>Example</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> mmWebsocket <span class="token keyword">from</span> <span class="token string">&quot;moomoo-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mmCmdID <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;moomoo-api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Common<span class="token punctuation">,</span> Qot_Common<span class="token punctuation">,</span> Trd_Common <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;moomoo-api/proto&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> beautify <span class="token keyword">from</span> <span class="token string">&quot;js-beautify&quot;</span><span class="token punctuation">;</span>

<span class="token function">TrdGetFunds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> RetType <span class="token punctuation">}</span> <span class="token operator">=</span> Common
    <span class="token keyword">const</span> <span class="token punctuation">{</span> TrdEnv <span class="token punctuation">}</span> <span class="token operator">=</span> Trd_Common
    <span class="token keyword">let</span> <span class="token punctuation">[</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'7522027ccf5a06b1'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mmWebsocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function-variable function">onlogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            websocket<span class="token punctuation">.</span><span class="token function">GetAccList</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">c2s</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">userID</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> <span class="token punctuation">{</span> retType<span class="token punctuation">,</span> <span class="token literal-property property">s2c</span><span class="token operator">:</span> <span class="token punctuation">{</span> accList <span class="token punctuation">}</span>  <span class="token punctuation">}</span> <span class="token operator">=</span> res
                <span class="token keyword">if</span><span class="token punctuation">(</span>retType <span class="token operator">==</span> RetType<span class="token punctuation">.</span>RetType_Succeed<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">let</span> acc <span class="token operator">=</span> accList<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
                        <span class="token keyword">return</span> item<span class="token punctuation">.</span>trdEnv <span class="token operator">==</span> TrdEnv<span class="token punctuation">.</span>TrdEnv_Simulate <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>trdMarketAuthList<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">auth</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token keyword">return</span> auth <span class="token operator">==</span> TrdMarket<span class="token punctuation">.</span>TrdMarket_HK<span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// The sample takes the first HK paper trading environment account</span>

                    <span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">c2s</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">trdEnv</span><span class="token operator">:</span> acc<span class="token punctuation">.</span>trdEnv<span class="token punctuation">,</span>
                                <span class="token literal-property property">accID</span><span class="token operator">:</span> acc<span class="token punctuation">.</span>accID<span class="token punctuation">,</span>
                                <span class="token literal-property property">trdMarket</span><span class="token operator">:</span> acc<span class="token punctuation">.</span>trdMarketAuthList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">;</span>

                    websocket<span class="token punctuation">.</span><span class="token function">GetFunds</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token keyword">let</span> <span class="token punctuation">{</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">,</span>s2c <span class="token punctuation">}</span> <span class="token operator">=</span> res
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;GetFunds: errCode %d, retMsg %s, retType %d&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> retMsg<span class="token punctuation">,</span> retType<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                        <span class="token keyword">if</span><span class="token punctuation">(</span>retType <span class="token operator">==</span> RetType<span class="token punctuation">.</span>RetType_Succeed<span class="token punctuation">)</span><span class="token punctuation">{</span>
                            <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token function">beautify</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>s2c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">indent_size</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">space_in_empty_paren</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;GetAccList error:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">,</span> enable_ssl<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// After using the connection, remember to close it to prevent the number of connections from running out</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> 
        websocket<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set the script to receive OpenD push duration to 5 seconds</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><ul><li><strong>Output</strong></li></ul> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">GetFunds</span><span class="token operator">:</span> errCode <span class="token number">0</span><span class="token punctuation">,</span> retMsg <span class="token punctuation">,</span> retType <span class="token number">0</span>
<span class="token punctuation">{</span>
    <span class="token string-property property">&quot;header&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;trdEnv&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;accID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;281756455988247915&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;trdMarket&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;funds&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;power&quot;</span><span class="token operator">:</span> <span class="token number">0.61760332</span>
        <span class="token string-property property">&quot;totalAssets&quot;</span><span class="token operator">:</span> <span class="token number">15222.3336</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">19.83</span>
        <span class="token string-property property">&quot;marketVal&quot;</span><span class="token operator">:</span> <span class="token number">15242.1666</span>
        <span class="token string-property property">&quot;frozenCash&quot;</span><span class="token operator">:</span> <span class="token number">158.34982707</span>
        <span class="token string-property property">&quot;debtCash&quot;</span><span class="token operator">:</span> <span class="token number">2644.58147475</span>
        <span class="token string-property property">&quot;avlWithdrawalCash&quot;</span><span class="token operator">:</span> <span class="token number">1.24</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token string-property property">&quot;initialMargin&quot;</span><span class="token operator">:</span> <span class="token number">14904.738361057309</span>
        <span class="token string-property property">&quot;maintenanceMargin&quot;</span><span class="token operator">:</span> <span class="token number">14805.9362278707</span>
        <span class="token string">&quot;cashInfoList&quot;</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">95.36</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1097.43</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">4</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10267.0</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token number">2049.58</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.6</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.60345798</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;cashInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
        <span class="token string-property property">&quot;cash&quot;</span><span class="token operator">:</span> <span class="token number">18.62</span>
        <span class="token string-property property">&quot;availableBalance&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.10953234</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">&quot;maxPowerShort&quot;</span><span class="token operator">:</span> <span class="token number">0.61760332</span>
        <span class="token string-property property">&quot;netCashPower&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;longMv&quot;</span><span class="token operator">:</span> <span class="token number">1436.1127</span>
        <span class="token string-property property">&quot;shortMv&quot;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">168.096</span>
        <span class="token string-property property">&quot;pendingAsset&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
        <span class="token string-property property">&quot;riskStatus&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token string-property property">&quot;marginCallMargin&quot;</span><span class="token operator">:</span> <span class="token number">14835.22139711</span>
        <span class="token string-property property">&quot;securitiesAssets&quot;</span><span class="token operator">:</span> <span class="token number">1248.1836</span>
        <span class="token string-property property">&quot;fundAssets&quot;</span><span class="token operator">:</span> <span class="token number">13974.15</span>
        <span class="token string-property property">&quot;bondAssets&quot;</span><span class="token operator">:</span> <span class="token number">0.0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
stop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div></div></div> <div class="custom-block tip"><p class="custom-block-title">Interface Limitations</p> <ul><li>A maximum of 10 requests per 30 seconds under a single account ID (acc_id)</li> <li>It will be restricted by the frequency limit for this interface, only when refresh_cache is True</li></ul></div></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/moomoo-api-doc/en/trade/unlock.html" class="prev">
        Unlock Trade
      </a></span> <span class="next"><a href="/moomoo-api-doc/en/trade/get-max-trd-qtys.html">
        Query the Maximum Quantity that Can be Bought or Sold
      </a>
      →
    </span></p></div> </main> <aside class="rightbar"><ul class="rightbar-links"><a href="/moomoo-api-doc/en/trade/get-funds.html" aria-current="page" class="active rightbar-link">Get Account Funds</a></ul></aside></div><div class="global-ui"></div></div>
    <script src="/moomoo-api-doc/assets/js/app.76d125c0.js" defer></script><script src="/moomoo-api-doc/assets/js/2.e1858e4a.js" defer></script><script src="/moomoo-api-doc/assets/js/89.8fed8c82.js" defer></script><script src="/moomoo-api-doc/assets/js/28.3fe3716c.js" defer></script><script src="/moomoo-api-doc/assets/js/35.424be492.js" defer></script><script src="/moomoo-api-doc/assets/js/24.9af08641.js" defer></script>
  </body>
</html>
