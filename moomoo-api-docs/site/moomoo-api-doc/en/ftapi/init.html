<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Basic Functions | moomoo API Doc v9.6</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="moomoo API Doc">
    <link rel="preload" href="/moomoo-api-doc/assets/css/0.styles.ea0b1d81.css" as="style"><link rel="preload" href="/moomoo-api-doc/assets/js/app.76d125c0.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/2.e1858e4a.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/39.aa973d8f.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/35.424be492.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/28.3fe3716c.js" as="script"><link rel="preload" href="/moomoo-api-doc/assets/js/24.9af08641.js" as="script"><link rel="prefetch" href="/moomoo-api-doc/assets/js/10.94bcbf16.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/100.5aad709f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/101.6315f7fb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/102.6cece76d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/103.40195fc5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/104.e0830381.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/105.936eb4d9.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/106.ed3aee2b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/107.7748df13.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/108.39b67a60.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/109.4b1236e2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/11.2fbf442f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/110.bc264581.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/111.a9652fa1.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/112.038c2fcd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/113.587f4a42.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/114.9203188f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/115.0d36e730.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/116.0f4b866f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/117.76221359.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/118.caa7bc9a.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/119.ba336510.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/12.c4851259.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/120.3683de14.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/121.ea95d7cb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/122.618c3ed6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/123.055b7010.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/124.c045cd63.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/125.d42b0714.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/126.b2f6e933.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/127.e9d110f8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/128.a11f8202.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/129.6626eb94.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/13.4f3b3d7e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/130.6539fcba.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/131.75bdf579.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/132.9d24d7e7.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/133.d9e1803b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/134.a475efd5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/135.cc33709b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/136.21873923.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/137.69826660.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/138.31047450.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/139.ce995941.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/14.13b59c71.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/140.e70bdec0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/141.d9d53a87.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/142.a04d0bea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/143.a672978f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/144.818a84ae.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/145.e46cc3df.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/146.a29ec4b9.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/147.5cfe641e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/148.358ecaa0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/149.3935be2f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/15.3d02da17.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/150.40c46b61.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/151.3456807d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/152.308a6ffd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/153.d95721a5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/154.c6b90cda.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/155.68c534de.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/156.fa6d7af3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/157.a33831dd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/158.56280019.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/159.9b880f55.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/16.33d80555.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/160.f4aa9622.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/161.727a3a78.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/162.941951ea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/163.8b7da111.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/164.dfd53e0d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/165.0c0855cd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/166.21bd9238.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/167.e4ae9cf3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/168.3f4281c0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/169.f37d7335.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/17.6ac2d3ef.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/170.4376c120.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/171.948e10e3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/18.7deab3c8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/19.6e70cac3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/20.c1df6286.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/21.5647999f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/22.a50b564c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/23.7870807e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/25.f509878d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/26.b1244706.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/27.082f3f2b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/29.f69366ed.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/3.f9c39755.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/30.aee38619.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/31.7ab0c7db.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/32.d4a3260b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/33.74565b1d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/34.29135595.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/36.3857d105.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/37.7d889315.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/38.637a73c2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/4.04d2c45d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/40.480f6bad.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/41.62d11f5f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/42.6861ed24.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/43.b8eb0308.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/44.e0fc8394.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/45.12015c46.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/46.acc698c7.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/47.997f18b2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/48.c0a3ed4b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/49.605a98fa.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/5.8c452a45.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/50.ab8e902f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/51.93a43c80.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/52.d7c28131.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/53.bc4fcbfa.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/54.f2134ef8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/55.0fb8c79f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/56.d6f1d66e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/57.e3b3ea62.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/58.a3b791f0.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/59.15613da4.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/6.9a2ded1c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/60.60f97ce5.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/61.adf5183d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/62.10e9e40e.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/63.f3768483.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/64.5e7093fb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/65.437af457.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/66.fc1b6993.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/67.14953f01.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/68.5b8d5ad6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/69.7f2d1c8b.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/7.f1cb5afb.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/70.2cfa12e6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/71.0acce1e8.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/72.74bec554.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/73.00d57d06.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/74.bbe2f552.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/75.654e7361.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/76.e7abbb6c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/77.9c2ecdf1.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/78.3eaa2d23.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/79.cc7f1ac2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/8.e457aac2.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/80.148805ce.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/81.40dc2530.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/82.bbe1f83f.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/83.d1ecfd2c.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/84.5013f0ea.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/85.ed102602.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/86.f2975c25.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/87.7d6540bd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/88.6f722f70.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/89.8fed8c82.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/9.c9d4402a.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/90.a15edebc.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/91.1f997c5d.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/92.dd51fa69.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/93.042545f6.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/94.71d9cc14.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/95.fb45f9d3.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/96.0f81a014.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/97.09768abd.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/98.cc14b450.js"><link rel="prefetch" href="/moomoo-api-doc/assets/js/99.6d2cbe79.js">
    <link rel="stylesheet" href="/moomoo-api-doc/assets/css/0.styles.ea0b1d81.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/moomoo-api-doc/en/" class="home-link router-link-active"><img src="/moomoo-api-doc/img/logo.png" alt="moomoo API Doc v9.6" class="logo"> <span class="site-name can-hide">moomoo API Doc v9.6</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="ftcode-links can-hide"><div class="ftcode-item"><div class="ftcode-dropdown-wrapper"><button type="button" aria-label="Programming Language" class="ftcode-dropdown-title"><span class="title">Programming Language</span> <span class="arrow right"></span></button> <ul class="ftcode-dropdown" style="display:none;"><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link active"><span class="arrow active"></span> <span class="title active">Python</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C#</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">Java</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C++</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">JavaScript</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">proto</span></span></li></ul></div></div></nav> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="简体中文" class="dropdown-title"><span class="title">简体中文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/ftapi/init.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/en/ftapi/init.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="ftcode-links"><div class="ftcode-item"><div class="ftcode-dropdown-wrapper"><button type="button" aria-label="Programming Language" class="ftcode-dropdown-title"><span class="title">Programming Language</span> <span class="arrow right"></span></button> <ul class="ftcode-dropdown" style="display:none;"><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link active"><span class="arrow active"></span> <span class="title active">Python</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C#</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">Java</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">C++</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">JavaScript</span></span></li><li class="ftcode-dropdown-item"><!----> <span class="ftcode-link"><span class="arrow"></span> <span class="title">proto</span></span></li></ul></div></div></nav> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="简体中文" class="dropdown-title"><span class="title">简体中文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/ftapi/init.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/moomoo-api-doc/en/ftapi/init.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Quick Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OpenD</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Quote API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Trade API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading openData"><span>Basic API</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moomoo-api-doc/en/ftapi/init.html" aria-current="page" class="active sidebar-link">Basic Functions</a></li><li><a href="/moomoo-api-doc/en/ftapi/common.html" class="sidebar-link">General Definitions</a></li><li><a href="/moomoo-api-doc/en/ftapi/protocol.html" class="sidebar-link">Protocol Introduction</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Q&amp;A</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="2007"><a href="#2007" class="header-anchor">#</a> Basic Functions</h1> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"></div><div class="tab-content" style="display:none;"><table><thead><tr><th style="text-align:left;">Protocol ID</th> <th style="text-align:left;">Protobuf File</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">1001</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/base.html">InitConnect</a></td> <td style="text-align:left;">Connection Initializationaa</td></tr> <tr><td style="text-align:left;">1002</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/get-global-state.html">GetGlobalState</a></td> <td style="text-align:left;">Get Global Status</td></tr> <tr><td style="text-align:left;">1003</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/ftapi/init.html#787">Notify</a></td> <td style="text-align:left;">Event Notification Callback</td></tr> <tr><td style="text-align:left;">1004</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/ftapi/protocol.html#7390">KeepAlive</a></td> <td style="text-align:left;">Heartbeat Keep Alive</td></tr></tbody></table></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div></div> <h2 id="7621"><a href="#7621" class="header-anchor">#</a> Set Interface Information(deprecated)</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>set_client_info(client_id, client_ver)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Set calling interface information (unnecessary).</p></li> <li><p><strong>Parameters</strong></p> <ul><li>client_id: the identification of the client</li> <li>client_ver: the version number of the client</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>set_client_info<span class="token punctuation">(</span><span class="token string">&quot;MyFutuAPI&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="tab-content" style="display:;"><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>set_client_info<span class="token punctuation">(</span><span class="token string">&quot;MymoomooAPI&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><p>InitConnect.proto</p> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> clientVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Client version number. clientVer = number before &quot;.&quot; * 100 + number after &quot;.&quot;. For example: clientVer = 1 * 100 + 1 = 101 for version 1.1 , and clientVer = 2 * 100 + 21 = 221 for version 2.21.</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> clientID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//The unique identifier for client, no specific generation rules, the client can guarantee the uniqueness</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> recvNotify <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether this connection receives notifications of market status or events that transaction needs to be re-unlocked. If True, OpenD will push these notifications to this connection, otherwise false means not receiving or pushing</span>
    <span class="token comment">//If the communication is to be encrypted, you must first configure the RSA key in both OpenD and the client. If it is not configured, it will not be encrypted.</span>
    <span class="token comment">//It will be encrypted if the RSA key is configured and the specified encryption algorithm is not PacketEncAlgo_None. (Even if it is not set here and the RSA key is configured, the default encryption method will be used), and the FTAES_ECB algorithm is used by default</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> packetEncAlgo <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Specify the packet encryption algorithm, refer to the enumeration definition of Common.PacketEncAlgo</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> pushProtoFmt <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Specify the push protocol format on this connection, if not specified, use the push_proto_type configuration item</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div><div class="tab-content" style="display:;"><p>InitConnect.proto</p> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> clientVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Client version number. clientVer = number before &quot;.&quot; * 100 + number after &quot;.&quot;. For example: clientVer = 1 * 100 + 1 = 101 for version 1.1 , and clientVer = 2 * 100 + 21 = 221 for version 2.21.</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> clientID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//The unique identifier for client, no specific generation rules, the client can guarantee the uniqueness</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> recvNotify <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether this connection receives notifications of market status or events that transaction needs to be re-unlocked. If True, OpenD will push these notifications to this connection, otherwise false means not receiving or pushing</span>
    <span class="token comment">//If the communication is to be encrypted, you must first configure the RSA key in both OpenD and the client. If it is not configured, it will not be encrypted.</span>
    <span class="token comment">//It will be encrypted if the RSA key is configured and the specified encryption algorithm is not PacketEncAlgo_None. (Even if it is not set here and the RSA key is configured, the default encryption method will be used), and the FTAES_ECB algorithm is used by default</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> packetEncAlgo <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Specify the packet encryption algorithm, refer to the enumeration definition of Common.PacketEncAlgo</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> pushProtoFmt <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Specify the push protocol format on this connection, if not specified, use the push_proto_type configuration item</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div></div> <ul><li><p><strong>Introduction</strong></p> <p>Set the clientVer and clientID fields in the initial connection protocol.</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>void SetClientInfo(String clientID, int clientVer);</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Set calling interface information, unnecessary interface</p></li> <li><p><strong>Parameters</strong></p> <ul><li>clientID: the identification of the client</li> <li>clientVer: the version number of the client</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">FTAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FTAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;FTAPI4NET_Sample&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><div class="tab-content" style="display:;"><div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">MMAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MMAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;MMAPI4NET_Sample&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div></div> <ul><li><strong>Example</strong></li></ul></div><div class="tab-content" style="display:none;"><p><code>void setClientInfo(String clientID, int clientVer);</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Set calling interface information, unnecessary interface</p></li> <li><p><strong>Parameters</strong></p> <ul><li>clientID: the identification of the client</li> <li>clientVer: the version number of the client</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FTAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FTAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MMAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MMAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><p><code>void SetClientInfo(const char* szClientID, moomoo::i32_t nClientVer);</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Set calling interface information, unnecessary interface</p></li> <li><p><strong>Parameters</strong></p> <ul><li>szClientID: the identification of the client</li> <li>nClientVer: client version number</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>FTAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token char">'cpp'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>MMAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token char">'cpp'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"></div></div> <h2 id="6650"><a href="#6650" class="header-anchor">#</a> Set Protocol Format</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>set_proto_fmt(proto_fmt)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Set the communication protocol body format, Protobuf and Json formats are currently supported , default ProtoBuf, unnecessary interface</p></li> <li><p><strong>Parameters</strong></p> <ul><li>proto_fmt: protocol format, refer to <a href="/moomoo-api-doc/en/ftapi/common.html#4358">ProtoFMT</a></li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>set_proto_fmt<span class="token punctuation">(</span>ProtoFMT<span class="token punctuation">.</span>Protobuf<span class="token punctuation">)</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>set_proto_fmt<span class="token punctuation">(</span>ProtoFMT<span class="token punctuation">.</span>Protobuf<span class="token punctuation">)</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><p>InitConnect.proto</p> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> clientVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Client version number. clientVer = number before &quot;.&quot; * 100 + number after &quot;.&quot;. For example: clientVer = 1 * 100 + 1 = 101 for version 1.1 , and clientVer = 2 * 100 + 21 = 221 for version 2.21.</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> clientID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//The unique identifier for client, no specific generation rules, the client can guarantee the uniqueness</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> recvNotify <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether this connection receives notifications of market status or events that transaction needs to be re-unlocked. If True, OpenD will push these notifications to this connection, otherwise false means not receiving or pushing</span>
    <span class="token comment">//If the communication is to be encrypted, you must first configure the RSA key in both OpenD and the client. If it is not configured, it will not be encrypted.</span>
    <span class="token comment">//It will be encrypted if the RSA key is configured and the specified encryption algorithm is not PacketEncAlgo_None. (Even if it is not set here and the RSA key is configured, the default encryption method will be used), and the FTAES_ECB algorithm is used by default</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> packetEncAlgo <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Specify the packet encryption algorithm, refer to the enumeration definition of Common.PacketEncAlgo</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> pushProtoFmt <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Specify the push protocol format on this connection, if not specified, use the push_proto_type configuration item</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div><div class="tab-content" style="display:;"><p>InitConnect.proto</p> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> clientVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Client version number. clientVer = number before &quot;.&quot; * 100 + number after &quot;.&quot;. For example: clientVer = 1 * 100 + 1 = 101 for version 1.1 , and clientVer = 2 * 100 + 21 = 221 for version 2.21.</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> clientID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//The unique identifier for client, no specific generation rules, the client can guarantee the uniqueness</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> recvNotify <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether this connection receives notifications of market status or events that transaction needs to be re-unlocked. If True, OpenD will push these notifications to this connection, otherwise false means not receiving or pushing</span>
    <span class="token comment">//If the communication is to be encrypted, you must first configure the RSA key in both OpenD and the client. If it is not configured, it will not be encrypted.</span>
    <span class="token comment">//It will be encrypted if the RSA key is configured and the specified encryption algorithm is not PacketEncAlgo_None. (Even if it is not set here and the RSA key is configured, the default encryption method will be used), and the FTAES_ECB algorithm is used by default</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> packetEncAlgo <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Specify the packet encryption algorithm, refer to the enumeration definition of Common.PacketEncAlgo</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> pushProtoFmt <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Specify the push protocol format on this connection, if not specified, use the push_proto_type configuration item</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div></div> <ul><li><p><strong>Introduction</strong></p> <p>The pushProtoFmt field in the initial connection protocol specifies the format of the data pushed on the connection.
For the request data format, please refer to the nProtoFmtType field in <a href="/moomoo-api-doc/en/ftapi/protocol.html#218">Protocol header</a>.</p></li></ul></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div></div> <h2 id="7910"><a href="#7910" class="header-anchor">#</a> Set Protocol Encryption Globally</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>Enable_proto_encrypt(is_encrypt)</code></p> <ul><li><p><strong>Introduction</strong>
Setting protocol encryption can help users protect their requests and returned contents globally. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">is_encrypt</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Enable encryption or not.</td></tr></tbody></table></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>enable_proto_encrypt<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
SysConfig<span class="token punctuation">.</span>set_init_rsa_file<span class="token punctuation">(</span><span class="token string">&quot;conn_key.txt&quot;</span><span class="token punctuation">)</span>   <span class="token comment"># rsa private key file path</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>enable_proto_encrypt<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
SysConfig<span class="token punctuation">.</span>set_init_rsa_file<span class="token punctuation">(</span><span class="token string">&quot;conn_key.txt&quot;</span><span class="token punctuation">)</span>   <span class="token comment"># rsa private key file path</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"><p><code>start(ip, port, ssl, key)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Initialize connection, connect and initialize</p></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Parameters</strong></p> <ul><li>ip: WebSocket address listened by OpenD</li> <li>port: the WebSocket port listened by OpenD</li> <li>ssl: Whether to enable SSL encryption, refer to <a href="/moomoo-api-doc/en/qa/other.html#5728">WebSocket related</a></li> <li>key: The private key of the connection. If it is not set, a connection timeout may occur. The key is configurable in OpenD, and the private key of Visualization OpenD will be randomly specified if it is not set.</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> ftWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/ft-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><p><strong>Parameters</strong></p> <ul><li>ip: WebSocket address listened by OpenD</li> <li>port: the WebSocket port listened by OpenD</li> <li>ssl: Whether to enable SSL encryption, refer to <a href="/moomoo-api-doc/en/qa/other.html#5728">WebSocket related</a></li> <li>key: The private key of the connection. If it is not set, a connection timeout may occur. The key is configurable in OpenD, and the private key of Visualization OpenD will be randomly specified if it is not set.</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> mmWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/mm-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div></div></div> <h2 id="6187"><a href="#6187" class="header-anchor">#</a> Set the Path of Private Key</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>set_init_rsa_file(file)</code></p> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in Futu API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">file</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Private key file path.</td></tr></tbody></table></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>enable_proto_encrypt<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
SysConfig<span class="token punctuation">.</span>set_init_rsa_file<span class="token punctuation">(</span><span class="token string">&quot;conn_key.txt&quot;</span><span class="token punctuation">)</span>   <span class="token comment"># rsa private key file path</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in moomoo API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">file</td> <td style="text-align:left;">str</td> <td style="text-align:left;">Private key file path.</td></tr></tbody></table></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>enable_proto_encrypt<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
SysConfig<span class="token punctuation">.</span>set_init_rsa_file<span class="token punctuation">(</span><span class="token string">&quot;conn_key.txt&quot;</span><span class="token punctuation">)</span>   <span class="token comment"># rsa private key file path</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><p>InitConnect.proto</p> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> clientVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Client version number. clientVer = number before &quot;.&quot; * 100 + number after &quot;.&quot;. For example: clientVer = 1 * 100 + 1 = 101 for version 1.1 , and clientVer = 2 * 100 + 21 = 221 for version 2.21.</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> clientID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//The unique identifier for client, no specific generation rules, the client can guarantee the uniqueness</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> recvNotify <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether this connection receives notifications of market status or events that transaction needs to be re-unlocked. If True, OpenD will push these notifications to this connection, otherwise false means not receiving or pushing</span>
    <span class="token comment">//If the communication is to be encrypted, you must first configure the RSA key in both OpenD and the client. If it is not configured, it will not be encrypted.</span>
    <span class="token comment">//It will be encrypted if the RSA key is configured and the specified encryption algorithm is not PacketEncAlgo_None. (Even if it is not set here and the RSA key is configured, the default encryption method will be used), and the FTAES_ECB algorithm is used by default</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> packetEncAlgo <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Specify the packet encryption algorithm, refer to the enumeration definition of Common.PacketEncAlgo</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> pushProtoFmt <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Specify the push protocol format on this connection, if not specified, use the push_proto_type configuration item</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div><div class="tab-content" style="display:;"><p>InitConnect.proto</p> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">C2S</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> clientVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Client version number. clientVer = number before &quot;.&quot; * 100 + number after &quot;.&quot;. For example: clientVer = 1 * 100 + 1 = 101 for version 1.1 , and clientVer = 2 * 100 + 21 = 221 for version 2.21.</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> clientID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//The unique identifier for client, no specific generation rules, the client can guarantee the uniqueness</span>
    <span class="token keyword">optional</span> <span class="token builtin">bool</span> recvNotify <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Whether this connection receives notifications of market status or events that transaction needs to be re-unlocked. If True, OpenD will push these notifications to this connection, otherwise false means not receiving or pushing</span>
    <span class="token comment">//If the communication is to be encrypted, you must first configure the RSA key in both OpenD and the client. If it is not configured, it will not be encrypted.</span>
    <span class="token comment">//It will be encrypted if the RSA key is configured and the specified encryption algorithm is not PacketEncAlgo_None. (Even if it is not set here and the RSA key is configured, the default encryption method will be used), and the FTAES_ECB algorithm is used by default</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> packetEncAlgo <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Specify the packet encryption algorithm, refer to the enumeration definition of Common.PacketEncAlgo</span>
    <span class="token keyword">optional</span> <span class="token builtin">int32</span> pushProtoFmt <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Specify the push protocol format on this connection, if not specified, use the push_proto_type configuration item</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div></div> <ul><li><p><strong>Introduction</strong></p> <p>The packetEncAlgo field in the initialization connection protocol specifies the encryption algorithm of the connection.
For details of protocol encryption, refer to <a href="/moomoo-api-doc/en/ftapi/protocol.html#4573">Encrypted Communication Process</a>.</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>void SetRSAPrivateKey(string key)</code></p> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in Futu API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <ul><li>key: private key content</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FTAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
        qot<span class="token punctuation">.</span><span class="token function">SetRSAPrivateKey</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>File<span class="token punctuation">.</span><span class="token function">ReadAllText</span><span class="token punctuation">(</span><span class="token string">@&quot;d:\rsa1024&quot;</span><span class="token punctuation">,</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set rsa key</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Connection encryption</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span> sec <span class="token operator">=</span> QotCommon<span class="token punctuation">.</span>Security<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetMarket</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>QotCommon<span class="token punctuation">.</span>QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetCode</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotSub<span class="token punctuation">.</span>C2S</span> c2s <span class="token operator">=</span> QotSub<span class="token punctuation">.</span>C2S<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AddSecurityList</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AddSubTypeList</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>QotCommon<span class="token punctuation">.</span>SubType<span class="token punctuation">.</span>SubType_Basic<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetIsSubOrUnSub</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotSub<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> QotSub<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">uint</span></span> seqNo <span class="token operator">=</span> qot<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Send QotSub: {0}\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnReply_Sub</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">uint</span></span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">QotSub<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Reply: QotSub: {0}  {1}\n&quot;</span><span class="token punctuation">,</span> nSerialNo<span class="token punctuation">,</span> rsp<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        FTAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in moomoo API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <ul><li>key: private key content</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MMAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
        qot<span class="token punctuation">.</span><span class="token function">SetRSAPrivateKey</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>File<span class="token punctuation">.</span><span class="token function">ReadAllText</span><span class="token punctuation">(</span><span class="token string">@&quot;d:\rsa1024&quot;</span><span class="token punctuation">,</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set rsa key</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Connection encryption</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token class-name">QotCommon<span class="token punctuation">.</span>Security</span> sec <span class="token operator">=</span> QotCommon<span class="token punctuation">.</span>Security<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetMarket</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>QotCommon<span class="token punctuation">.</span>QotMarket<span class="token punctuation">.</span>QotMarket_HK_Security<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetCode</span><span class="token punctuation">(</span><span class="token string">&quot;00700&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotSub<span class="token punctuation">.</span>C2S</span> c2s <span class="token operator">=</span> QotSub<span class="token punctuation">.</span>C2S<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AddSecurityList</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">AddSubTypeList</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>QotCommon<span class="token punctuation">.</span>SubType<span class="token punctuation">.</span>SubType_Basic<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">SetIsSubOrUnSub</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotSub<span class="token punctuation">.</span>Request</span> req <span class="token operator">=</span> QotSub<span class="token punctuation">.</span>Request<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetC2S</span><span class="token punctuation">(</span>c2s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">uint</span></span> seqNo <span class="token operator">=</span> qot<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Send QotSub: {0}\n&quot;</span><span class="token punctuation">,</span> seqNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnReply_Sub</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">uint</span></span> nSerialNo<span class="token punctuation">,</span> <span class="token class-name">QotSub<span class="token punctuation">.</span>Response</span> rsp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Reply: QotSub: {0}  {1}\n&quot;</span><span class="token punctuation">,</span> nSerialNo<span class="token punctuation">,</span> rsp<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        MMAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div></div></div> <ul><li><strong>Output</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">Qot</span> onInitConnect<span class="token punctuation">:</span> ret<span class="token operator">=</span><span class="token number">0</span> desc<span class="token operator">=</span> connID<span class="token operator">=</span><span class="token number">6827935070720340213</span>
<span class="token class-name">Send</span> QotSub<span class="token punctuation">:</span> <span class="token number">3</span>
Reply<span class="token punctuation">:</span> QotSub<span class="token punctuation">:</span> <span class="token number">3</span>  retType<span class="token punctuation">:</span> <span class="token number">0</span>
retMsg<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
errCode<span class="token punctuation">:</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>void setRSAPrivateKey(String key)</code></p> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in Futu API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <ul><li>key: private key content</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FTAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> rsaKey <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span>Files</span><span class="token punctuation">.</span><span class="token function">readAllBytes</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;c:\\rsa1024&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rsaKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">setRSAPrivateKey</span><span class="token punctuation">(</span>rsaKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token constant">FTAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in moomoo API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <ul><li>key: private key content</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FTAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> rsaKey <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span>Files</span><span class="token punctuation">.</span><span class="token function">readAllBytes</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;c:\\rsa1024&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rsaKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">setRSAPrivateKey</span><span class="token punctuation">(</span>rsaKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token constant">MMAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><p><code>void SetRSAPrivateKey(const char* szRSAPrivateKey);</code></p> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in Futu API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <ul><li>strRSAPrivateKey: private key content</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>string strKey<span class="token punctuation">;</span>
ifstream <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
file <span class="token operator">&gt;&gt;</span> strKey<span class="token punctuation">;</span>
file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
FTAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">SetRSAPrivateKey</span><span class="token punctuation">(</span>strKey<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><p><strong>Introduction</strong></p> <p>Set the Path of Private Key in moomoo API. For more information about Protocol Encryption Process, please check <a href="/moomoo-api-doc/en/qa/other.html#1479">here</a>.</p></li> <li><p><strong>Parameters</strong></p> <ul><li>strRSAPrivateKey: private key content</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>string strKey<span class="token punctuation">;</span>
ifstream <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
file <span class="token operator">&gt;&gt;</span> strKey<span class="token punctuation">;</span>
file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MMAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">SetRSAPrivateKey</span><span class="token punctuation">(</span>strKey<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><p><code>start(ip, port, ssl, key)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Initialize connection, connect and initialize</p></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Parameters</strong></p> <ul><li>ip: WebSocket address listened by OpenD</li> <li>port: the WebSocket port listened by OpenD</li> <li>ssl: Whether to enable SSL encryption, refer to <a href="/moomoo-api-doc/en/qa/other.html#5728">WebSocket related</a></li> <li>key: The private key of the connection. If it is not set, a connection timeout may occur. The key is configurable in OpenD, and the Visualization OpenD will be randomly assigned if it is not specified.</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> ftWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/ft-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><p><strong>Parameters</strong></p> <ul><li>ip: WebSocket address listened by OpenD</li> <li>port: the WebSocket port listened by OpenD</li> <li>ssl: Whether to enable SSL encryption, refer to <a href="/moomoo-api-doc/en/qa/other.html#5728">WebSocket related</a></li> <li>key: The private key of the connection. If it is not set, a connection timeout may occur. The key is configurable in OpenD, and the Visualization OpenD will be randomly assigned if it is not specified.</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> ftWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/mm-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mmWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div></div></div> <h2 id="5242"><a href="#5242" class="header-anchor">#</a> Set Thread Mode</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>set_all_thread_daemon(all_daemon)</code></p> <ul><li><p><strong>Introduction</strong>
Whether to set all internally threads to be daemon threads.</p> <ul><li>If it is set to be daemon threads, then after the main thread exits, the process also exits.<br>
For example, when using the real-time callback API, you need to make sure the main thread survives by yourself. Otherwise, when the main thread exits, the process also exits and you will no longer receive the push data.</li> <li>If it is set to a non-daemon thread, the process will not exit after the main thread exits.
For example, if you do not call close() to close the connection after creating a quote or trade object, the process will not exit even if the main thread exits.</li></ul></li> <li><p><strong>Parameters</strong></p> <table><thead><tr><th style="text-align:left;">Parameter</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">all_daemon</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Whether to set threads to be daemon threads. <div class="fttip-wrapper"><button type="button" class="fttip-title"><span> </span> <img src="/moomoo-api-doc/img/tip.png" class="tip"></button> <div class="fttip-dropdown" style="display:none;"><div class="fttip-layout"><span class="fttip-uparrow"></span> <span class="fttip-uparrow2"></span> <div class="fttip-content"><ul><li>True：set to daemon threads</li><li>False：set to non-daemon threads</li><li>Default is False</li></ul></div></div></div></div></td></tr></tbody></table></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>set_all_thread_daemon<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
<span class="token comment"># the process will exit without calling quote_ctx.close(), </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
SysConfig<span class="token punctuation">.</span>set_all_thread_daemon<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
<span class="token comment"># the process will exit without calling quote_ctx.close(), </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"></div></div> <h2 id="8418"><a href="#8418" class="header-anchor">#</a> Set Callback</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>set_handler(handler)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Set asynchronous callback processing object</p></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Parameters</strong></p> <ul><li>handler: callback processing object
<table><thead><tr><th style="text-align:left;">Class</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">SysNotifyHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/ftapi/init.html#787">OpenD notification processing base class</a></td></tr> <tr><td style="text-align:left;">StockQuoteHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-stock-quote.html">Quote processing base class</a></td></tr> <tr><td style="text-align:left;">OrderBookHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-order-book.html">Order book processing base class</a></td></tr> <tr><td style="text-align:left;">CurKlineHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-kl.html">Real-time candlestick processing base class</a></td></tr> <tr><td style="text-align:left;">TickerHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-ticker.html">Tick-By-Tick processing base class</a></td></tr> <tr><td style="text-align:left;">RTDataHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-rt.html">Time Frame data processing base class</a></td></tr> <tr><td style="text-align:left;">BrokerHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-broker.html">Broker queue processing base class</a></td></tr> <tr><td style="text-align:left;">PriceReminderHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-price-reminder.html">Price reminder processing base class</a></td></tr> <tr><td style="text-align:left;">TradeOrderHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/update-order.html">Order processing base class</a></td></tr> <tr><td style="text-align:left;">TradeDealHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/update-order-fill.html">Order fill processing base class</a></td></tr></tbody></table></li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> time
<span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">class</span> <span class="token class-name">OrderBookTest</span><span class="token punctuation">(</span>OrderBookHandlerBase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">on_recv_rsp</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> rsp_pb<span class="token punctuation">)</span><span class="token punctuation">:</span>
        ret_code<span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span>OrderBookTest<span class="token punctuation">,</span>self<span class="token punctuation">)</span><span class="token punctuation">.</span>on_recv_rsp<span class="token punctuation">(</span>rsp_pb<span class="token punctuation">)</span>
        <span class="token keyword">if</span> ret_code <span class="token operator">!=</span> RET_OK<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;OrderBookTest: error, msg: %s&quot;</span> <span class="token operator">%</span> data<span class="token punctuation">)</span>
            <span class="token keyword">return</span> RET_ERROR<span class="token punctuation">,</span> data
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;OrderBookTest &quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token comment"># OrderBookTest's own processing logic</span>
        <span class="token keyword">return</span> RET_OK<span class="token punctuation">,</span> data
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
handler <span class="token operator">=</span> OrderBookTest<span class="token punctuation">(</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>set_handler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token comment"># Setting real-time order book callback</span>
quote_ctx<span class="token punctuation">.</span>subscribe<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'HK.00700'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>SubType<span class="token punctuation">.</span>ORDER_BOOK<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># Subscribe to the order book type, OpenD starts to receive pushed data from the server continuously</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token comment"># Set the script to receive OpenD push duration to 15 seconds</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Close the current connection, OpenD will automatically cancel the subscription of the corresponding stock in 1 minute</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><p><strong>Parameters</strong></p> <ul><li>handler: callback processing object
<table><thead><tr><th style="text-align:left;">Class</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">SysNotifyHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/ftapi/init.html#787">OpenD notification processing base class</a></td></tr> <tr><td style="text-align:left;">StockQuoteHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-stock-quote.html">Quote processing base class</a></td></tr> <tr><td style="text-align:left;">OrderBookHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-order-book.html">Order book processing base class</a></td></tr> <tr><td style="text-align:left;">CurKlineHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-kl.html">Real-time candlestick processing base class</a></td></tr> <tr><td style="text-align:left;">TickerHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-ticker.html">Tick-By-Tick processing base class</a></td></tr> <tr><td style="text-align:left;">RTDataHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-rt.html">Time Frame data processing base class</a></td></tr> <tr><td style="text-align:left;">BrokerHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-broker.html">Broker queue processing base class</a></td></tr> <tr><td style="text-align:left;">PriceReminderHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/quote/update-price-reminder.html">Price reminder processing base class</a></td></tr> <tr><td style="text-align:left;">TradeOrderHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/update-order.html">Order processing base class</a></td></tr> <tr><td style="text-align:left;">TradeDealHandlerBase</td> <td style="text-align:left;"><a href="/moomoo-api-doc/en/trade/update-order-fill.html">Order fill processing base class</a></td></tr></tbody></table></li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> time
<span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">class</span> <span class="token class-name">OrderBookTest</span><span class="token punctuation">(</span>OrderBookHandlerBase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">on_recv_rsp</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> rsp_pb<span class="token punctuation">)</span><span class="token punctuation">:</span>
        ret_code<span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span>OrderBookTest<span class="token punctuation">,</span>self<span class="token punctuation">)</span><span class="token punctuation">.</span>on_recv_rsp<span class="token punctuation">(</span>rsp_pb<span class="token punctuation">)</span>
        <span class="token keyword">if</span> ret_code <span class="token operator">!=</span> RET_OK<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;OrderBookTest: error, msg: %s&quot;</span> <span class="token operator">%</span> data<span class="token punctuation">)</span>
            <span class="token keyword">return</span> RET_ERROR<span class="token punctuation">,</span> data
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;OrderBookTest &quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token comment"># OrderBookTest's own processing logic</span>
        <span class="token keyword">return</span> RET_OK<span class="token punctuation">,</span> data
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
handler <span class="token operator">=</span> OrderBookTest<span class="token punctuation">(</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>set_handler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token comment"># Setting real-time order book callback</span>
quote_ctx<span class="token punctuation">.</span>subscribe<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'HK.00700'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>SubType<span class="token punctuation">.</span>ORDER_BOOK<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># Subscribe to the order book type, OpenD starts to receive pushed data from the server continuously</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token comment"># Set the script to receive OpenD push duration to 15 seconds</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Close the current connection, OpenD will automatically cancel the subscription of the corresponding stock in 1 minute</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"></div><div class="tab-content" style="display:none;"><div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><p><code>void SetConnCallback(FTSPI_Conn connCallback)</code><br> <code>void SetQotCallback(FTSPI_Qot callback)</code><br> <code>void SetTrdCallback(FTSPI_Trd callback)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Callback setting</p></li> <li><p><strong>Parameters</strong></p> <ul><li>callback: callback function</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span></span>
    <span class="token punctuation">{</span>
        <span class="token class-name">FTAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FTAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
            qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
            qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Connection encryption</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            FTAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div></div><div class="tab-content" style="display:;"><p><code>void SetConnCallback(MMSPI_Conn connCallback)</code><br> <code>void SetQotCallback(MMSPI_Qot callback)</code><br> <code>void SetTrdCallback(MMSPI_Trd callback)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Callback setting</p></li> <li><p><strong>Parameters</strong></p> <ul><li>callback: callback function</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span></span>
    <span class="token punctuation">{</span>
        <span class="token class-name">MMAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MMAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
            qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
            qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Connection encryption</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            MMAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div></div></div> <ul><li><strong>Output</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">Qot</span> onInitConnect<span class="token punctuation">:</span> ret<span class="token operator">=</span><span class="token number">0</span> desc<span class="token operator">=</span> connID<span class="token operator">=</span><span class="token number">6827937191858660334</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div><div class="tab-content" style="display:none;"><div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><p><code>setConnSpi(FTSPI_Conn callback);</code><br> <code>void setQotSpi(FTSPI_Qot callback);</code><br> <code>void setTrdSpi(FTSPI_Trd callback);</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Callback setting</p></li> <li><p><strong>Parameters</strong></p> <ul><li>callback: callback function</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FTAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">setQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set the market callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token constant">FTAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></div><div class="tab-content" style="display:;"></div></div> <p><code>setConnSpi(MMSPI_Conn callback);</code><br> <code>void setQotSpi(MMSPI_Qot callback);</code><br> <code>void setTrdSpi(MMSPI_Trd callback);</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Callback setting</p></li> <li><p><strong>Parameters</strong></p> <ul><li>callback: callback function</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MMAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">setQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set the market callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token constant">MMAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></div><div class="tab-content" style="display:none;"><div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><p><code>void RegisterConnSpi(FTSPI_Qot* pSpi);</code><br> <code>void RegisterQotSpi(FTSPI_Qot* pSpi);</code><br> <code>void RegisterTrdSpi(FTSPI_Qot* pSpi);</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Callback setting</p></li> <li><p><strong>Parameters</strong></p> <ul><li>pSpi: callback function</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>FTAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="tab-content" style="display:;"><p><code>void RegisterConnSpi(MMSPI_Qot* pSpi);</code><br> <code>void RegisterQotSpi(MMSPI_Qot* pSpi);</code><br> <code>void RegisterTrdSpi(MMSPI_Qot* pSpi);</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Callback setting</p></li> <li><p><strong>Parameters</strong></p> <ul><li>pSpi: callback function</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>MMAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">RegisterConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><p><code>onPush(cmd, res)</code><br> <code>onlogin(ret, msg)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Login callback and push callback</p></li> <li><p><strong>Return</strong></p> <ul><li>cmd: Pushed protocol ID</li> <li>res: Pushed agreement content</li> <li>ret: whether the initialization is successful</li> <li>msg: failure description</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> ftWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/ft-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onPush <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onPush</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onlogin <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLogin</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onPush</span><span class="token punctuation">(</span><span class="token parameter">cmd<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> ftWebSocket<span class="token punctuation">.</span><span class="token function">findCmdObj</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onLogin</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">getConnID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> mmWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/mm-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mmWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onPush <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onPush</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onlogin <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLogin</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onPush</span><span class="token punctuation">(</span><span class="token parameter">cmd<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> ftWebSocket<span class="token punctuation">.</span><span class="token function">findCmdObj</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onLogin</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">getConnID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div></div></div></div> <h2 id="7571"><a href="#7571" class="header-anchor">#</a> Get Connection ID</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>get_sync_conn_id()</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Get the connection ID, the value will be available after the connection is successfully initialized</p></li> <li><p><strong>Return</strong></p> <ul><li>conn_id: connection ID</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>get_sync_conn_id<span class="token punctuation">(</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># After using the connection, remember to close it to prevent the number of connections from running out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>
quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>get_sync_conn_id<span class="token punctuation">(</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># After using the connection, remember to close it to prevent the number of connections from running out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><p>InitConnect.proto</p> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> serverVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//OpenD version number</span>
    <span class="token keyword">required</span> <span class="token builtin">uint64</span> loginUserID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//OpenD login user ID</span>
    <span class="token keyword">required</span> <span class="token builtin">uint64</span> connID <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//The connection ID of this connection, the unique identifier of the connection</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> connAESKey <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The key for subsequent AES encrypted communication of this connection is fixed as a 16-byte long string</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> keepAliveInterval <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Heartbeat keepalive interval</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> aesCBCiv <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The iv of AES encrypted communication CBC encryption mode is fixed as a 16-byte long string</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div><div class="tab-content" style="display:;"><div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> serverVer <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//OpenD version number</span>
    <span class="token keyword">required</span> <span class="token builtin">uint64</span> loginUserID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//OpenD login user ID</span>
    <span class="token keyword">required</span> <span class="token builtin">uint64</span> connID <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//The connection ID of this connection, the unique identifier of the connection</span>
    <span class="token keyword">required</span> <span class="token builtin">string</span> connAESKey <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//The key for subsequent AES encrypted communication of this connection is fixed as a 16-byte long string</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> keepAliveInterval <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Heartbeat keepalive interval</span>
    <span class="token keyword">optional</span> <span class="token builtin">string</span> aesCBCiv <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//The iv of AES encrypted communication CBC encryption mode is fixed as a 16-byte long string</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div></div> <ul><li><p><strong>Introduction</strong></p> <p>The connID field in the InitConnect protocol return packet</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>uint GetConnectID();</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Get the connection ID, the value will be available after the connection is successfully initialized</p></li> <li><p><strong>Return</strong></p> <ul><li>connID: connection ID</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span></span>
    <span class="token punctuation">{</span>
        <span class="token class-name">FTAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FTAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
            qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
            qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Connection encryption</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            FTAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Program</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span></span>
    <span class="token punctuation">{</span>
        <span class="token class-name">MMAPI_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MMAPI_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">SetClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;csharp&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
            qot<span class="token punctuation">.</span><span class="token function">SetConnCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
            qot<span class="token punctuation">.</span><span class="token function">SetQotCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set transaction callback</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            qot<span class="token punctuation">.</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">ushort</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Connection encryption</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret={0} desc={1} connID={2}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>errCode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> errCode<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: {0}\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name">String<span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            MMAPI<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Program</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Program</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            qot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div></div></div> <ul><li><strong>Output</strong></li></ul> <div class="language-cs line-numbers-mode"><pre class="language-cs"><code><span class="token class-name">Qot</span> onInitConnect<span class="token punctuation">:</span> ret<span class="token operator">=</span><span class="token number">0</span> desc<span class="token operator">=</span> connID<span class="token operator">=</span><span class="token number">6827937791149892052</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>long getConnectID();</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Get the connection ID, the value will be available after the connection is successfully initialized</p></li> <li><p><strong>Return</strong></p> <ul><li>connID: connection ID</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">FTSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">FTSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">FTAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FTAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">setQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set the market callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">FTAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token constant">FTAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QotDemo</span> <span class="token keyword">implements</span> <span class="token class-name">MMSPI_Qot</span><span class="token punctuation">,</span> <span class="token class-name">MMSPI_Conn</span> <span class="token punctuation">{</span>
    <span class="token class-name">MMAPI_Conn_Qot</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MMAPI_Conn_Qot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">setClientInfo</span><span class="token punctuation">(</span><span class="token string">&quot;javaclient&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set client information</span>
        qot<span class="token punctuation">.</span><span class="token function">setConnSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set connection callback</span>
        qot<span class="token punctuation">.</span><span class="token function">setQotSpi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set the market callback</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        qot<span class="token punctuation">.</span><span class="token function">initConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInitConnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">,</span> <span class="token class-name">String</span> desc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onInitConnect: ret=%b desc=%s connID=%d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> client<span class="token punctuation">.</span><span class="token function">getConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token class-name">MMAPI_Conn</span> client<span class="token punctuation">,</span> <span class="token keyword">long</span> errCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Qot onDisConnect: %d\n&quot;</span><span class="token punctuation">,</span> errCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token constant">MMAPI</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">QotDemo</span> qot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QotDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> exc<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><p><code>Futu::u64_t GetConnectID()</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Get the connection ID, the value will be available after the connection is successfully initialized</p></li> <li><p><strong>Return</strong></p> <ul><li>nConnID: Connection ID</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>FTAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FTAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="tab-content" style="display:;"><p><code>moomoo::u64_t GetConnectID()</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Get the connection ID, the value will be available after the connection is successfully initialized</p></li> <li><p><strong>Return</strong></p> <ul><li>nConnID: Connection ID</li></ul></li> <li><p><strong>Example</strong></p></li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>MMAPI_Qot <span class="token operator">*</span>m_pQotApi <span class="token operator">=</span> <span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">CreateQotApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">InitConnect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">11111</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m_pQotApi<span class="token operator">-&gt;</span><span class="token function">GetConnectID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MMAPI</span><span class="token double-colon punctuation">::</span><span class="token function">ReleaseQotApi</span><span class="token punctuation">(</span>m_pQotApi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><p><code>getConnID()</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Get the connection ID, the value will be available after the connection is successfully initialized</p></li> <li><p><strong>Return</strong></p> <ul><li>connID: connection ID</li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> ftWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/ft-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onlogin <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLogin</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onLogin</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">getConnID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> mmWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/mm-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mmWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onlogin <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLogin</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onLogin</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">getConnID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div></div></div></div> <h2 id="787"><a href="#787" class="header-anchor">#</a> Event Notification Callback</h2> <div class="ft-switcher"><div class="tab-header" style="display:none;"><ul><li class="active"> Python
            </li><li> Proto
            </li><li> C#
            </li><li> Java
            </li><li> C++
            </li><li> JavaScript
            </li></ul></div> <div class="tab-content" style="display:;"><p><code>SysNotifyHandlerBase</code></p> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><p><strong>Introduction</strong></p> <p>Notify OpenD of some important news, such as disconnection, etc.</p></li></ul></div><div class="tab-content" style="display:;"><ul><li><p><strong>Introduction</strong></p> <p>Notify OpenD of some important news, such as disconnection, etc.</p></li></ul></div></div> <ul><li><p><strong>Protocol ID</strong></p> <p>1003</p></li> <li><p><strong>Return</strong></p> <table><tr><th>Field</th> <th>Type</th> <th>Description</th></tr> <tr><td>ret</td> <td>int</td> <td>Returned value. On success, ret == RET_OK. On error, ret != RET_OK.</td></tr> <tr><td rowspan="2">data</td> <td>tuple</td> <td>If ret == RET_OK, <b>event notification data</b> is returned.</td></tr> <tr><td>str</td> <td>If ret != RET_OK, error description is returned.</td></tr></table> <ul><li><p>The format of <strong>event notification</strong> data is as follows:
<table><tr><th>Field</th> <th>Type</th> <th>Description</th></tr> <tr><td>notify_type</td> <td><a href="/moomoo-api-doc/en/ftapi/common.html#5979">SysNotifyType</a></td> <td>Notification data type</td></tr> <tr><td rowspan="3">sub_type</td> <td><a href="/moomoo-api-doc/en/ftapi/common.html#9803">ProgramStatusType</a></td> <td>Subtype. If notify_type == SysNotifyType.PROGRAM_STATUS, program status type is returned.</td></tr> <tr><td><a href="/moomoo-api-doc/en/ftapi/common.html#1581">GtwEventType</a></td>1581
<td>Subtype. If notify_type == SysNotifyType.GTW_EVENT, OpenD event type is returned.</td></tr> <tr><td>0</td> <td>If notify_type !=SysNotifyType.PROGRAM_STATUS and notify_type !=SysNotifyType.GTW_EVENT, no useful information is returned.</td></tr> <tr><td rowspan="2">msg</td> <td rowspan="2">dict</td> <td>Event information. If notify_type == SysNotifyType.CONN_STATUS, <b>connection status event information</b> is returned.</td></tr> <tr><td>Event information. If notify_type == SysNotifyType.QOT_RIGHT, <b>quote right event information</b> is returned.</td></tr><br></table></p> <ul><li>The format of <strong>connection status event information</strong> is as follows(The value of connection status is a bool type, with True for normal, and False for disconnected):<div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token punctuation">{</span>
    <span class="token string">'qot_logined'</span><span class="token punctuation">:</span> bool1<span class="token punctuation">,</span> 
    <span class="token string">'trd_logined'</span><span class="token punctuation">:</span> bool2<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>The format of <strong>quote right event information</strong> is as follows(the type of quote right refers to <a href="/moomoo-api-doc/en/quote/quote.html#3959">Quote Right</a>):<div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token punctuation">{</span>
    <span class="token string">'hk_qot_right'</span><span class="token punctuation">:</span> value1<span class="token punctuation">,</span>
    <span class="token string">'hk_option_qot_right'</span><span class="token punctuation">:</span> value2<span class="token punctuation">,</span>
    <span class="token string">'hk_future_qot_right'</span><span class="token punctuation">:</span> value3<span class="token punctuation">,</span>
    <span class="token string">'us_qot_right'</span><span class="token punctuation">:</span> value4<span class="token punctuation">,</span>
    <span class="token string">'us_option_qot_right'</span><span class="token punctuation">:</span> value5<span class="token punctuation">,</span>
    <span class="token string">'us_future_qot_right'</span><span class="token punctuation">:</span> value6<span class="token punctuation">,</span>  <span class="token comment">// deprecated</span>
    <span class="token string">'cn_qot_right'</span><span class="token punctuation">:</span> value7<span class="token punctuation">,</span>
	<span class="token string">'us_index_qot_right'</span><span class="token punctuation">:</span> value8<span class="token punctuation">,</span>
	<span class="token string">'us_otc_qot_right'</span><span class="token punctuation">:</span> value9<span class="token punctuation">,</span>
	<span class="token string">'sg_future_qot_right'</span><span class="token punctuation">:</span> value10<span class="token punctuation">,</span>
	<span class="token string">'jp_future_qot_right'</span><span class="token punctuation">:</span> value11<span class="token punctuation">,</span>
	<span class="token string">'us_future_qot_right_cme'</span><span class="token punctuation">:</span> value12<span class="token punctuation">,</span>
	<span class="token string">'us_future_qot_right_cbot'</span><span class="token punctuation">:</span> value13<span class="token punctuation">,</span>
	<span class="token string">'us_future_qot_right_nymex'</span><span class="token punctuation">:</span> value14<span class="token punctuation">,</span>
	<span class="token string">'us_future_qot_right_comex'</span><span class="token punctuation">:</span> value15<span class="token punctuation">,</span>
	<span class="token string">'us_future_qot_right_cboe'</span><span class="token punctuation">:</span> value16<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li></ul></li></ul></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> time
<span class="token keyword">from</span> futu <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">SysNotifyTest</span><span class="token punctuation">(</span>SysNotifyHandlerBase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">on_recv_rsp</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> rsp_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
        ret_code<span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span>SysNotifyTest<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>on_recv_rsp<span class="token punctuation">(</span>rsp_str<span class="token punctuation">)</span>
        notify_type<span class="token punctuation">,</span> sub_type<span class="token punctuation">,</span> msg <span class="token operator">=</span> data
        <span class="token keyword">if</span> ret_code <span class="token operator">!=</span> RET_OK<span class="token punctuation">:</span>
            logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&quot;SysNotifyTest: error, msg: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> RET_ERROR<span class="token punctuation">,</span> data
        <span class="token keyword">if</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>GTW_EVENT<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#  OpenD event notification</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;GTW_EVENT, type: {} msg: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>sub_type<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>PROGRAM_STATUS<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># Notification of change in program status</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;PROGRAM_STATUS, type: {} msg: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>sub_type<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>CONN_STATUS<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">## Notification of change in connection status</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;CONN_STATUS, qot: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'qot_logined'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;CONN_STATUS, trd: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'trd_logined'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>QOT_RIGHT<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># Notification of change in quote right</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, hk: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'hk_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, hk_option: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'hk_option_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, hk_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'hk_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_option: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_option_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, cn: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'cn_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_index: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_index_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_otc: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_otc_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, sg_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'sg_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, jp_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'jp_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_cme: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_cme'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_cbot: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_cbot'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_nymex: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_nymex'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_comex: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_comex'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_cboe: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_cboe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> RET_OK<span class="token punctuation">,</span> data

quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
handler <span class="token operator">=</span> SysNotifyTest<span class="token punctuation">(</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>set_handler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>   <span class="token comment"># Set real-time swing callback</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>  <span class="token comment"># Set the script to receive OpenD push duration to 15 seconds</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># After using the connection, remember to close it to prevent the number of connections from running out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> time
<span class="token keyword">from</span> moomoo <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">SysNotifyTest</span><span class="token punctuation">(</span>SysNotifyHandlerBase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">on_recv_rsp</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> rsp_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
        ret_code<span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span>SysNotifyTest<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>on_recv_rsp<span class="token punctuation">(</span>rsp_str<span class="token punctuation">)</span>
        notify_type<span class="token punctuation">,</span> sub_type<span class="token punctuation">,</span> msg <span class="token operator">=</span> data
        <span class="token keyword">if</span> ret_code <span class="token operator">!=</span> RET_OK<span class="token punctuation">:</span>
            logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&quot;SysNotifyTest: error, msg: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> RET_ERROR<span class="token punctuation">,</span> data
        <span class="token keyword">if</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>GTW_EVENT<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#  OpenD event notification</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;GTW_EVENT, type: {} msg: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>sub_type<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>PROGRAM_STATUS<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># Notification of change in program status</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;PROGRAM_STATUS, type: {} msg: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>sub_type<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>CONN_STATUS<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">## Notification of change in connection status</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;CONN_STATUS, qot: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'qot_logined'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;CONN_STATUS, trd: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'trd_logined'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token punctuation">(</span>notify_type <span class="token operator">==</span> SysNotifyType<span class="token punctuation">.</span>QOT_RIGHT<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># Notification of change in quote right</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, hk: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'hk_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, hk_option: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'hk_option_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, hk_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'hk_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_option: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_option_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, cn: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'cn_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_index: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_index_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_otc: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_otc_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, sg_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'sg_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, jp_future: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'jp_future_qot_right'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_cme: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_cme'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_cbot: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_cbot'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_nymex: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_nymex'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_comex: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_comex'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;QOT_RIGHT, us_future_cboe: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>msg<span class="token punctuation">[</span><span class="token string">'us_future_qot_right_cboe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> RET_OK<span class="token punctuation">,</span> data

quote_ctx <span class="token operator">=</span> OpenQuoteContext<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">11111</span><span class="token punctuation">)</span>
handler <span class="token operator">=</span> SysNotifyTest<span class="token punctuation">(</span><span class="token punctuation">)</span>
quote_ctx<span class="token punctuation">.</span>set_handler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>   <span class="token comment"># Set real-time swing callback</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>  <span class="token comment"># Set the script to receive OpenD push duration to 15 seconds</span>
quote_ctx<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># After using the connection, remember to close it to prevent the number of connections from running out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div></div></div></div><div class="tab-content" style="display:none;"><p>Notify.proto</p> <div class="language-protobuf line-numbers-mode"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">S2C</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//Notification type</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">GtwEvent</span> event <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//Event information</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">ProgramStatus</span> programStatus <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//Program status</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">ConnectStatus</span> connectStatus <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">//Connection status</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">QotRight</span> qotRight <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//Quotation authority</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">APILevel</span> apiLevel <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">//User level, which has been deprecated after version 2.10</span>
    <span class="token keyword">optional</span> <span class="token positional-class-name class-name">APIQuota</span> apiQuota <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//API quota</span>
<span class="token punctuation">}</span>

<span class="token keyword">message</span> <span class="token class-name">Response</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token builtin">int32</span> retType <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token annotation">default</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//RetType, return result</span>
	<span class="token keyword">optional</span> <span class="token builtin">string</span> retMsg <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">optional</span> <span class="token builtin">int32</span> errCode <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	
	<span class="token keyword">optional</span> <span class="token positional-class-name class-name">S2C</span> s2c <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></div><div class="tab-content" style="display:none;"><p><code>void OnReply_Notify(FTAPI_Conn client, uint nSerialNo, Notify.Response rsp)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Notify OpenD of some important information, such as disconnection, etc.</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>void onPush_Notify(FTAPI_Conn client, Notify.Response rsp)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Notify OpenD of some important information, such as disconnection, etc.</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>virtual void OnPush_Notify(const Notify::Response &amp;stRsp) = 0;</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Notify OpenD of some important information, such as disconnection, etc.</p></li></ul></div><div class="tab-content" style="display:none;"><p><code>onPush(cmd, res)</code></p> <ul><li><p><strong>Introduction</strong></p> <p>Notify OpenD of some important information, such as disconnection, etc.</p></li></ul> <div class="ft-doc-switcher"><div class="tab-content" style="display:none;"><ul><li><strong>Example</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> ftWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/ft-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onPush <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onPush</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onlogin <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLogin</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onPush</span><span class="token punctuation">(</span><span class="token parameter">cmd<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> ftWebSocket<span class="token punctuation">.</span><span class="token function">findCmdObj</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>description <span class="token operator">&amp;&amp;</span> cmd <span class="token operator">==</span> <span class="token number">1003</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onLogin</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">getConnID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div><div class="tab-content" style="display:;"><ul><li><strong>Example</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> mmWebSocket <span class="token keyword">from</span> <span class="token string">&quot;@/components/mm-websocket/main.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ftWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">33333</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onPush <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onPush</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span>onlogin <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onLogin</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onPush</span><span class="token punctuation">(</span><span class="token parameter">cmd<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> mmWebSocket<span class="token punctuation">.</span><span class="token function">findCmdObj</span><span class="token punctuation">(</span>cmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>description <span class="token operator">&amp;&amp;</span> cmd <span class="token operator">==</span> <span class="token number">1003</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onLogin</span><span class="token punctuation">(</span><span class="token parameter">ret<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>websocket<span class="token punctuation">.</span><span class="token function">getConnID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div></div></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/moomoo-api-doc/en/trade/trade.html" class="prev">
        Trading Definitions
      </a></span> <span class="next"><a href="/moomoo-api-doc/en/ftapi/common.html">
        General Definitions
      </a>
      →
    </span></p></div> </main> <aside class="rightbar"><ul class="rightbar-links"><a href="/moomoo-api-doc/en/ftapi/init.html" aria-current="page" class="active rightbar-link">Basic Functions</a><ul class="rightbar-sub-headers"><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#7621" class="rightbar-link">Set Interface Information(deprecated)</a></li><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#6650" class="rightbar-link">Set Protocol Format</a></li><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#7910" class="rightbar-link">Set Protocol Encryption Globally</a></li><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#6187" class="rightbar-link">Set the Path of Private Key</a></li><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#5242" class="rightbar-link">Set Thread Mode</a></li><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#8418" class="rightbar-link">Set Callback</a></li><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#7571" class="rightbar-link">Get Connection ID</a></li><li class="rightbar-sub-header"><a href="/moomoo-api-doc/en/ftapi/init.html#787" class="rightbar-link">Event Notification Callback</a></li></ul></ul></aside></div><div class="global-ui"></div></div>
    <script src="/moomoo-api-doc/assets/js/app.76d125c0.js" defer></script><script src="/moomoo-api-doc/assets/js/2.e1858e4a.js" defer></script><script src="/moomoo-api-doc/assets/js/39.aa973d8f.js" defer></script><script src="/moomoo-api-doc/assets/js/35.424be492.js" defer></script><script src="/moomoo-api-doc/assets/js/28.3fe3716c.js" defer></script><script src="/moomoo-api-doc/assets/js/24.9af08641.js" defer></script>
  </body>
</html>
